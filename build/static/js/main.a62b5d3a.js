/*! For license information please see main.a62b5d3a.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.jsx=c,t.jsxs=c},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:E.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),I(a,t,i,"",function(e){return e})):null!=a&&(N(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,i,u=s+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},219:(e,t,n)=>{"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?a:o[e.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var o=l(t),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!s[y]&&(!r||!r[y])&&(!m||!m[y])&&(!o||!o[y])){var v=h(n,y);try{c(t,y,v)}catch(b){}}}}return t}},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,R(k);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(N),N=-1),p=!0;var s=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,T=null,N=-1,_=5,C=-1;function I(){return!(t.unstable_now()-C<_)}function j(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?E():(S=!1,T=null)}}else S=!1}if("function"===typeof b)E=function(){b(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=j,E=function(){P.postMessage(null)}}else E=function(){y(j,0)};function R(e){T=e,S||(S=!0,E())}function D(e,n){N=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(N),N=-1):g=!0,D(w,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(k))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function V(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case T:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,Se=null;function Te(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Ne(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function _e(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Ie(){}var je=!1;function Ae(e,t,n){if(je)return e(t,n);je=!0;try{return Ce(e,t,n)}finally{je=!1,(null!==Ee||null!==Se)&&(Ie(),_e())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Ve=!1,Fe=null,Ue={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,Oe.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,Et,St,Tt,Nt=!1,_t=[],Ct=null,It=null,jt=null,At=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Tt(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){Vt(e)&&n.delete(t)}function Ut(){Nt=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==It&&Vt(It)&&(It=null),null!==jt&&Vt(jt)&&(jt=null),At.forEach(Ft),Pt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<_t.length){zt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==It&&zt(It,e),null!==jt&&zt(jt,e),At.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var Ht=x.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=bt,s=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Ht.transition=s}}function Gt(e,t,n,r){var i=bt,s=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Ht.transition=s}}function Kt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return It=Lt(It,e,t,n,r,i),!0;case"mouseover":return jt=Lt(jt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&wt(s),null===(s=Yt(e,t,n,r))&&qr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),xn=sn(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return Sn}var Nn=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=sn(Nn),Cn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),jn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(An),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Dn||On&&8<On&&11>=On),Vn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ne(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Vr(e,0)}function Yn(e){if(K(xi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function Tr(e){if(Er[e])return Er[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Nr=Tr("animationend"),_r=Tr("animationiteration"),Cr=Tr("animationstart"),Ir=Tr("transitionend"),jr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){jr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Dr=Ar[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Nr,"onAnimationEnd"),Pr(_r,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Ve||(Ve=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Ve)throw e=Fe,Ve=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=s,i=we(n),a=[];e:{var o=jr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Nr:case _r:case Cr:l=yn;break;case Ir:l=jn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:xi(l),f=null==c?o:xi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?xi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=$n;else if(qn(o))if(Xn)g=ar;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?xi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Vn);case"textInput":return(e=t.data)===Vn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Vr(a,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var ki=[],Ei=-1;function Si(e){return{current:e}}function Ti(e){0>Ei||(e.current=ki[Ei],ki[Ei]=null,Ei--)}function Ni(e,t){Ei++,ki[Ei]=e.current,e.current=t}var _i={},Ci=Si(_i),Ii=Si(!1),ji=_i;function Ai(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ii),Ti(Ci)}function Di(e,t,n){if(Ci.current!==_i)throw Error(s(168));Ni(Ci,t),Ni(Ii,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,ji=Ci.current,Ni(Ci,e),Ni(Ii,Ii.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ii),Ti(Ci),Ni(Ci,e)):Ti(Ii),Ni(Ii,n)}var Vi=null,Fi=!1,Ui=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!Ui&&null!==Vi){Ui=!0;var e=0,t=bt;try{var n=Vi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Fi=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ke(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var Hi=[],qi=0,Wi=null,Gi=0,Ki=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){Hi[qi++]=Gi,Hi[qi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-at(t)+i|n<<i|r,Xi=s+e}else $i=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=Hi[--qi],Hi[qi]=null,Gi=Hi[--qi],Hi[qi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=x.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case k:return(t=Vc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(i,d),is&&Ji(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Ji(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),is&&Ji(i,m),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return is&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&vs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((s=Oc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case k:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Vc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);ys(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Mc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var xs=bs(!0),ws=bs(!1),ks=Si(null),Es=null,Ss=null,Ts=null;function Ns(){Ts=Ss=Es=null}function _s(e){var t=ks.current;Ti(ks),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){Es=e,Ts=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function js(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===Es)throw Error(s(308));Ss=e,Es.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var As=null;function Ps(e){null===As?As=[e]:As.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Os=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Os=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},Ws=Si(qs),Gs=Si(qs),Ks=Si(qs);function Qs(e){if(e===qs)throw Error(s(174));return e}function Ys(e,t){switch(Ni(Ks,t),Ni(Gs,e),Ni(Ws,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Ws),Ni(Ws,t)}function $s(){Ti(Ws),Ti(Gs),Ti(Ks)}function Xs(e){Qs(Ks.current);var t=Qs(Ws.current),n=le(t,e.type);t!==n&&(Ni(Gs,e),Ni(Ws,n))}function Js(e){Gs.current===e&&(Ti(Ws),Ti(Gs))}var Zs=Si(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=x.ReactCurrentDispatcher,ia=x.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Ja:Za,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Xa,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function va(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ea(e,t){var n=aa,r=va(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Oa(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,ja(9,Ta.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(s(349));0!==(30&sa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,r){t.value=n,t.getSnapshot=r,_a(t)&&Ca(e)}function Na(e,t,n){return n(function(){_a(t)&&Ca(e)})}function _a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ca(e){var t=Ds(e,1);null!==t&&nc(t,e,1,-1)}function Ia(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return va().memoizedState}function Pa(e,t,n,r){var i=ya();aa.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=va();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=ja(t,n,s,r))}aa.flags|=e,i.memoizedState=ja(1|t,n,s,r)}function Da(e,t){return Pa(8390656,8,e,t)}function Oa(e,t){return Ra(2048,8,e,t)}function La(e,t){return Ra(4,2,e,t)}function Ma(e,t){return Ra(4,4,e,t)}function Va(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Va.bind(null,t,e),n)}function Ua(){}function za(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ll|=n,e.baseState=!0),t)}function qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Wa(){return va().memoizedState}function Ga(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ya(t,n);else if(null!==(n=Rs(e,t,n,r))){nc(n,e,r,ec()),$a(n,t,r)}}function Ka(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ya(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Rs(e,t,i,r))&&(nc(n,e,r,i=ec()),$a(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ya(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xa={readContext:js,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Ja={readContext:js,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:js,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ia,useDebugValue:Ua,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=qa.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=ya();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Il)throw Error(s(349));0!==(30&sa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Da(Na.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,Ta.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Il.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-at($i)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:js,useCallback:za,useContext:js,useEffect:Oa,useImperativeHandle:Fa,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:xa,useRef:Aa,useState:function(){return xa(ba)},useDebugValue:Ua,useDeferredValue:function(e){return Ha(va(),oa.memoizedState,e)},useTransition:function(){return[xa(ba)[0],va().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1},eo={readContext:js,useCallback:za,useContext:js,useEffect:Oa,useImperativeHandle:Fa,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:wa,useRef:Aa,useState:function(){return wa(ba)},useDebugValue:Ua,useDeferredValue:function(e){var t=va();return null===oa?t.memoizedState=e:Ha(t,oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],va().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Vs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Vs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Vs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fs(e,i,r))&&(nc(t,e,r,n),Us(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=_i,s=t.contextType;return"object"===typeof s&&null!==s?s=js(s):(i=Pi(t)?ji:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):_i),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=js(s):(s=Pi(t)?ji:Ci.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Vs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),uo(0,t)},n}function po(e,t,n){(n=Vs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Vs(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vo=x.ReactCurrentOwner,bo=!1;function xo(e,t,n,r){t.child=null===e?ws(t,null,n,r):xs(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function ko(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Eo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qo(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return No(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Rl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Rl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ni(Rl,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ni(Rl,Pl),Pl|=r;return xo(e,t,i,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,i){var s=Pi(n)?ji:Ci.current;return s=Ai(t,s),Is(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function _o(e,t,n,r,i){if(Pi(n)){var s=!0;Li(t)}else s=!1;if(Is(t,i),null===t.stateNode)Ho(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=js(c):c=Ai(t,c=Pi(n)?ji:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Os=!1;var h=t.memoizedState;a.state=h,Bs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ii.current||Os?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Os||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=js(l):l=Ai(t,l=Pi(n)?ji:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Os=!1,h=t.memoizedState,a.state=h,Bs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ii.current||Os?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Os||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,s,i)}function Co(e,t,n,r,i,s){To(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),qo(e,t,s);r=t.stateNode,vo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,o,s)):xo(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Ys(e,t.containerInfo)}function jo(e,t,n,r,i){return fs(),ps(i),t.flags|=256,xo(e,t,n,r),t.child}var Ao,Po,Ro,Do,Oo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ni(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,i,0,null),e=Oc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Oo,e):Vo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Oc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xs(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Oo,a);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Il)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ds(e,i),nc(r,e,i,-1))}return mc(),Fo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Vo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rc(r,o):(o=Oc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,r){return null!==r&&ps(r),xs(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ni(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Go(t),null;case 3:return r=t.stateNode,$s(),Ti(Ii),Ti(Ci),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Po(e,t),Go(t),null;case 5:Js(t);var i=Qs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=Qs(Ws.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Ks.current),Qs(Ws.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Go(t),null;case 13:if(Ti(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return $s(),Po(e,t),null===e&&Br(t.stateNode.containerInfo),Go(t),null;case 10:return _s(t.type._context),Go(t),null;case 19:if(Ti(Zs),null===(a=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Wo(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Wo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Bl&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Go(t),null}else 2*Xe()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,Ni(Zs,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $s(),Ti(Ii),Ti(Ci),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ti(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Zs),null;case 4:return $s(),null;case 10:return _s(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Ws.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Do=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,$o=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:$o||Zo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!$o&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?($o=(r=$o)||null!==n.memoizedState,hl(e,t,n),$o=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($o=(u=$o)||d,ml(t,e),$o=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Jo=e,d=e.child;null!==d;){for(h=Jo=d;null!==Jo;){switch(p=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Jo=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Jo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Yo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Yo;var c=$o;if(Yo=a,($o=l)&&!c)for(Jo=i;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,Jo=l):kl(i);for(;null!==s;)Jo=s,bl(s,t,n),s=s.sibling;Jo=i,Yo=o,$o=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Jo=s):xl(e)}}function xl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}$o||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function wl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function kl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var El,Sl=Math.ceil,Tl=x.ReactCurrentDispatcher,Nl=x.ReactCurrentOwner,_l=x.ReactCurrentBatchConfig,Cl=0,Il=null,jl=null,Al=0,Pl=0,Rl=Si(0),Dl=0,Ol=null,Ll=0,Ml=0,Vl=0,Fl=null,Ul=null,zl=0,Bl=1/0,Hl=null,ql=!1,Wl=null,Gl=null,Kl=!1,Ql=null,Yl=0,$l=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Al?Al&-Al:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$l)throw $l=0,Xl=null,Error(s(185));yt(e,n,r),0!==(2&Cl)&&e===Il||(e===Il&&(0===(2&Cl)&&(Ml|=n),4===Dl&&oc(e,Al)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Bl=Xe()+500,Fi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Il?Al:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai(function(){0===(6&Cl)&&Bi()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cl;Cl|=2;var a=pc();for(Il===e&&Al===t||(Hl=null,Bl=Xe()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ns(),Tl.current=a,Cl=i,null!==jl?t=0:(Il=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ol,hc(e,0),oc(e,r),rc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Ol,hc(e,0),oc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ul,Hl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Ul,Hl),t);break}wc(e,Ul,Hl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Ul,Hl),r);break}wc(e,Ul,Hl);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Vl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(s(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ol,hc(e,0),oc(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,Hl),rc(e,Xe()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Bl=Xe()+500,Fi&&Bi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Cl)&&kc();var t=Cl;Cl|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,0===(6&(Cl=t))&&Bi()}}function dc(){Pl=Rl.current,Ti(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:$s(),Ti(Ii),Ti(Ci),na();break;case 5:Js(r);break;case 4:$s();break;case 13:case 19:Ti(Zs);break;case 10:_s(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,jl=e=Rc(e.current,null),Al=Pl=t,Dl=0,Ol=null,Vl=Ml=Ll=0,Ul=Fl=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}As=null}return e}function fc(e,t){for(;;){var n=jl;try{if(Ns(),ra.current=Xa,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,Nl.current=null,null===n||null===n.return){Dl=1,Ol=t,jl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=go(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==Dl&&(Dl=2),null===Fl?Fl=[a]:Fl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,fo(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,po(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(x){t=x,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function pc(){var e=Tl.current;return Tl.current=Xa,null===e?Xa:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Il||0===(268435455&Ll)&&0===(268435455&Ml)||oc(Il,Al)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(Il===e&&Al===t||(Hl=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Ns(),Cl=n,Tl.current=r,null!==jl)throw Error(s(261));return Il=null,Al=0,Dl}function yc(){for(;null!==jl;)bc(jl)}function vc(){for(;null!==jl&&!Ye();)bc(jl)}function bc(e){var t=El(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):jl=t,Nl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Pl)))return void(jl=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Dl=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=bt,i=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Ql);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Il&&(jl=Il=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ic(tt,function(){return kc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=_l.transition,_l.transition=null;var o=bt;bt=1;var l=Cl;Cl|=4,Nl.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),$e(),Cl=l,bt=o,_l.transition=a}else e.current=n;if(Kl&&(Kl=!1,Ql=e,Yl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Xl?$l++:($l=0,Xl=e):$l=0,Bi()}(e,t,n,r)}finally{_l.transition=i,bt=r}return null}function kc(){if(null!==Ql){var e=xt(Yl),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var d=Jo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Jo=h;else for(;null!==Jo;){var f=(d=Jo).sibling,p=d.return;if(sl(d),d===u){Jo=null;break}if(null!==f){f.return=p,Jo=f;break}Jo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Jo=v;break e}Jo=a.return}}var b=e.current;for(Jo=b;null!==Jo;){var x=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Jo=x;else e:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Sc(l,l.return,k)}if(l===o){Jo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Jo=w;break e}Jo=l.return}}if(Cl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function Ec(e,t,n){e=Fs(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Fs(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>Xe()-zl?hc(e,0):Vl|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ds(e,t))&&(yt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Nc(e,n)}function Ic(e,t){return Ke(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new jc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Oc(n.children,i,a,t);case S:o=8,i|=8;break;case T:return(e=Ac(12,n,t,2|i)).elementType=T,e.lanes=a,e;case I:return(e=Ac(13,n,t,i)).elementType=I,e.lanes=a,e;case j:return(e=Ac(19,n,t,i)).elementType=j,e.lanes=a,e;case R:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case _:o=9;break e;case C:o=11;break e;case A:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Oc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,a,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ac(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function zc(e){if(!e)return _i;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Oi(e,n,t)}return t}function Bc(e,t,n,r,i,s,a,o,l){return(e=Uc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Vs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Vs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(i,t,a))&&(nc(e,i,a,s),Us(e,i,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Io(t),fs();break;case 5:Xs(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ni(ks,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ni(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Ni(Zs,1&Zs.current),null!==(e=qo(e,t,n))?e.sibling:null);Ni(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return qo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Is(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Co(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),i){case 0:t=No(null,t,r,e,n);break e;case 1:t=_o(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Io(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ms(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=jo(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=jo(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qo(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),To(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ni(ks,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ii.current){t=qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Vs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Cs(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Cs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=js(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),ko(e,t,r,i=to(r.type,i),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Ho(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Is(t,n),so(t,r,i),oo(t,r,i,n),Co(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=qc(a);o.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qc(a);s.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,r)}),l}(n,t,e,i,r);return qc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Xe()),0===(6&Cl)&&(Bl=Xe()+500,Bi()))}break;case 13:uc(function(){var t=Ds(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Gc(e,1)}},kt=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Ds(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ne,_e,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},763:(e,t,n)=>{"use strict";e.exports=n(983)},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case s:case o:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function k(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=o,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return k(e)||w(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===s},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===o},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===o||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===b||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const a="popstate";function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(t,n,r,i){void 0===i&&(i={});let{window:l=document.defaultView,v5Compat:h=!1}=i,f=l.history,p=e.Pop,m=null,g=y();function y(){return(f.state||{idx:null}).idx}function v(){p=e.Pop;let t=y(),n=null==t?null:t-g;g=t,m&&m({action:p,location:x.location,delta:n})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(s({},f.state,{idx:g}),""));let x={get action(){return p},get location(){return t(l,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(a,v),m=e,()=>{l.removeEventListener(a,v),m=null}},createHref:e=>n(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=u(x.location,t,n);r&&r(i,t),g=y()+1;let s=c(i,g),a=x.createHref(i);try{f.pushState(s,"",a)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;l.location.assign(a)}h&&m&&m({action:p,location:x.location,delta:1})},replace:function(t,n){p=e.Replace;let i=u(x.location,t,n);r&&r(i,t),g=y();let s=c(i,g),a=x.createHref(i);f.replaceState(s,"",a),h&&m&&m({action:p,location:x.location,delta:0})},go:e=>f.go(e)};return x}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let i=j(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let s=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=I(i);a=_(s[o],e,r)}return a}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=O([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),y(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:N(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))i(e,t,r);else i(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=v(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const b=/^:[\w-]+$/,x=3,w=2,k=1,E=10,S=-2,T=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=S),t&&(r+=w),n.filter(e=>!T(e)).reduce((e,t)=>e+(b.test(t)?x:""===t?k:E),r)}function _(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:O([s,u.pathname]),pathnameBase:L(O([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=O([s,u.pathnameBase]))}return a}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),c=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:c,pathname:s,pathnameBase:a,pattern:e}}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t){let n=P(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function D(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=h(e):(i=s({},e),o(!i.pathname||!i.pathname.includes("?"),A("?","pathname","search",i)),o(!i.pathname||!i.pathname.includes("#"),A("#","pathname","hash",i)),o(!i.search||!i.search.includes("#"),A("#","search","hash",i)));let a,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)a=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:M(r),hash:V(i)}}(i,a),d=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const O=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],z=(new Set(U),["get",...U]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}const H=t.createContext(null);const q=t.createContext(null);const W=t.createContext(null);const G=t.createContext(null);const K=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=t.createContext(null);function Y(){return null!=t.useContext(G)}function $(){return Y()||o(!1),t.useContext(G).location}function X(e){t.useContext(W).static||t.useLayoutEffect(e)}function J(){let{isDataRoute:e}=t.useContext(K);return e?function(){let{router:e}=le(ae.UseNavigateStable),n=ue(oe.UseNavigateStable),r=t.useRef(!1);X(()=>{r.current=!0});let i=t.useCallback(function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,B({fromRouteId:n},i)))},[e,n]);return i}():function(){Y()||o(!1);let e=t.useContext(H),{basename:n,future:r,navigator:i}=t.useContext(W),{matches:s}=t.useContext(K),{pathname:a}=$(),l=JSON.stringify(R(s,r.v7_relativeSplatPath)),c=t.useRef(!1);return X(()=>{c.current=!0}),t.useCallback(function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void i.go(t);let s=D(t,JSON.parse(l),a,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:O([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)},[n,i,l,a,e])}()}function Z(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(W),{matches:s}=t.useContext(K),{pathname:a}=$(),o=JSON.stringify(R(s,i.v7_relativeSplatPath));return t.useMemo(()=>D(e,JSON.parse(o),a,"path"===r),[e,o,a,r])}function ee(n,r,i,s){Y()||o(!1);let{navigator:a}=t.useContext(W),{matches:l}=t.useContext(K),c=l[l.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=$();if(r){var g;let e="string"===typeof r?h(r):r;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||o(!1),f=e}else f=p;let y=f.pathname||"/",v=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=m(n,{pathname:v});let x=se(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:O([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:O([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,i,s);return r&&x?t.createElement(G.Provider,{value:{location:B({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:e.Pop}},x):x}function te(){let e=function(){var e;let n=t.useContext(Q),r=ce(oe.UseRouteError),i=ue(oe.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const ne=t.createElement(te,null);class re extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(K.Provider,{value:this.props.routeContext},t.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(H);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(K.Provider,{value:n},i)}function se(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let l=e,c=null==(s=r)?void 0:s.errors;if(null!=c){let e=l.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||o(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<l.length;t++){let e=l[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight((e,i,s)=>{let a,o=!1,h=null,f=null;var p;r&&(a=c&&i.route.id?c[i.route.id]:void 0,h=i.route.errorElement||ne,u&&(d<0&&0===s?(p="route-fallback",!1||de[p]||(de[p]=!0),o=!0,f=null):d===s&&(o=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(l.slice(0,s+1)),g=()=>{let n;return n=a?h:o?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ie,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(re,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ae||{}),oe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oe||{});function le(e){let n=t.useContext(H);return n||o(!1),n}function ce(e){let n=t.useContext(q);return n||o(!1),n}function ue(e){let n=function(){let e=t.useContext(K);return e||o(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||o(!1),r.route.id}const de={};function he(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function fe(e){o(!1)}function pe(n){let{basename:r="/",children:i=null,location:s,navigationType:a=e.Pop,navigator:l,static:c=!1,future:u}=n;Y()&&o(!1);let d=r.replace(/^\/*/,"/"),f=t.useMemo(()=>({basename:d,navigator:l,static:c,future:B({v7_relativeSplatPath:!1},u)}),[d,u,l,c]);"string"===typeof s&&(s=h(s));let{pathname:p="/",search:m="",hash:g="",state:y=null,key:v="default"}=s,b=t.useMemo(()=>{let e=j(p,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:a}},[d,p,m,g,y,v,a]);return null==b?null:t.createElement(W.Provider,{value:f},t.createElement(G.Provider,{children:i,value:b}))}function me(e){let{children:t,location:n}=e;return ee(ge(t),n)}new Promise(()=>{});t.Component;function ge(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,ge(e.props.children,s));e.type!==fe&&o(!1),e.props.index&&e.props.children&&o(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ge(e.props.children,s)),r.push(a)}),r}var ye=n(950),ve=n.t(ye,2);function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(bN){}new Map;const ke=r.startTransition;ve.flushSync,r.useId;function Ee(e){let{basename:n,children:r,future:i,window:s}=e,a=t.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),f(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,o)));let l=a.current,[c,h]=t.useState({action:l.action,location:l.location}),{v7_startTransition:p}=i||{},m=t.useCallback(e=>{p&&ke?ke(()=>h(e)):h(e)},[h,p]);return t.useLayoutEffect(()=>l.listen(m),[l,m]),t.useEffect(()=>he(i),[i]),t.createElement(pe,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const Se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=t.forwardRef(function(e,n){let r,{onClick:i,relative:s,reloadDocument:a,replace:l,state:c,target:u,to:h,preventScrollReset:f,viewTransition:p}=e,m=xe(e,we),{basename:g}=t.useContext(W),y=!1;if("string"===typeof h&&Te.test(h)&&(r=h,Se))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=j(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(bN){}let v=function(e,n){let{relative:r}=void 0===n?{}:n;Y()||o(!1);let{basename:i,navigator:s}=t.useContext(W),{hash:a,pathname:l,search:c}=Z(e,{relative:r}),u=l;return"/"!==i&&(u="/"===l?i:O([i,l])),s.createHref({pathname:u,search:c,hash:a})}(h,{relative:s}),b=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===n?{}:n,c=J(),u=$(),h=Z(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:d(u)===d(h);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,h,i,s,r,e,a,o,l])}(h,{replace:l,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:p});return t.createElement("a",be({},m,{href:r||v,onClick:y||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:u}))});var _e,Ce;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_e||(_e={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ce||(Ce={}));function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function je(e){var t=function(e,t){if("object"!=Ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ie(t)?t:t+""}function Ae(e,t,n){return(t=je(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach(function(t){Ae(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function De(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Oe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Le=["color","size","strokeWidth","absoluteStrokeWidth","children"];var Me=(e,n)=>{const r=(0,t.forwardRef)((r,i)=>{let{color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c}=r,u=De(r,Le);return(0,t.createElement)("svg",Re(Re({ref:i},Oe),{},{width:a,height:a,stroke:s,strokeWidth:l?24*Number(o)/Number(a):o,className:"lucide lucide-".concat((d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},u),[...n.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...(Array.isArray(c)?c:[c])||[]]);var d});return r.displayName="".concat(e),r};const Ve=Me("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Fe=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Ue=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ze=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Be=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),He=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),qe=(0,t.createContext)({}),We=(0,t.createContext)(null),Ge="undefined"!==typeof document,Ke=Ge?t.useLayoutEffect:t.useEffect,Qe=(0,t.createContext)({strict:!1}),Ye=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),$e="data-"+Ye("framerAppearId");function Xe(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Je(e){return"string"===typeof e||Array.isArray(e)}function Ze(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const et=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tt=["initial",...et];function nt(e){return Ze(e.animate)||tt.some(t=>Je(e[t]))}function rt(e){return Boolean(nt(e)||e.variants)}function it(e){const{initial:n,animate:r}=function(e,t){if(nt(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Je(t)?t:void 0,animate:Je(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(qe));return(0,t.useMemo)(()=>({initial:n,animate:r}),[st(n),st(r)])}function st(e){return Array.isArray(e)?e.join(" "):e}const at={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ot={};for(const n in at)ot[n]={isEnabled:e=>at[n].some(t=>!!e[t])};const lt=(0,t.createContext)({}),ct=(0,t.createContext)({}),ut=Symbol.for("motionComponentSymbol");function dt(e){let{preloadedFeatures:n,createVisualElement:r,useRender:i,useVisualState:s,Component:a}=e;n&&function(e){for(const t in e)ot[t]=Re(Re({},ot[t]),e[t])}(n);const o=(0,t.forwardRef)(function(e,o){let l;const c=Re(Re(Re({},(0,t.useContext)(He)),e),{},{layoutId:ht(e)}),{isStatic:u}=c,d=it(e),h=s(e,u);if(!u&&Ge){d.visualElement=function(e,n,r,i){const{visualElement:s}=(0,t.useContext)(qe),a=(0,t.useContext)(Qe),o=(0,t.useContext)(We),l=(0,t.useContext)(He).reducedMotion,c=(0,t.useRef)();i=i||a.renderer,!c.current&&i&&(c.current=i(e,{visualState:n,parent:s,props:r,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current;(0,t.useInsertionEffect)(()=>{u&&u.update(r,o)});const d=(0,t.useRef)(Boolean(r[$e]&&!window.HandoffComplete));return Ke(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),(0,t.useEffect)(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}(a,h,c,r);const e=(0,t.useContext)(ct),i=(0,t.useContext)(Qe).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,i,n,e))}return t.createElement(qe.Provider,{value:d},l&&d.visualElement?t.createElement(l,Re({visualElement:d.visualElement},c)):null,i(a,e,function(e,n,r){return(0,t.useCallback)(t=>{t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):Xe(r)&&(r.current=t))},[n])}(h,d.visualElement,o),h,u,d.visualElement))});return o[ut]=a,o}function ht(e){let{layoutId:n}=e;const r=(0,t.useContext)(lt).id;return r&&void 0!==n?r+"-"+n:n}function ft(e){function t(t){return dt(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const pt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mt(e){return"string"===typeof e&&!e.includes("-")&&!!(pt.indexOf(e)>-1||/[A-Z]/.test(e))}const gt={};const yt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vt=new Set(yt);function bt(e,t){let{layout:n,layoutId:r}=t;return vt.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!gt[e]||"opacity"===e)}const xt=e=>Boolean(e&&e.getVelocity),wt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kt=yt.length;const Et=e=>t=>"string"===typeof t&&t.startsWith(e),St=Et("--"),Tt=Et("var(--"),Nt=(e,t)=>t&&"number"===typeof e?t.transform(e):e,_t=(e,t,n)=>Math.min(Math.max(n,e),t),Ct={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},It=Re(Re({},Ct),{},{transform:e=>_t(0,1,e)}),jt=Re(Re({},Ct),{},{default:1}),At=e=>Math.round(1e5*e)/1e5,Pt=/(-)?([\d]*\.?[\d])+/g,Rt=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Dt=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ot(e){return"string"===typeof e}const Lt=e=>({test:t=>Ot(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Mt=Lt("deg"),Vt=Lt("%"),Ft=Lt("px"),Ut=Lt("vh"),zt=Lt("vw"),Bt=Re(Re({},Vt),{},{parse:e=>Vt.parse(e)/100,transform:e=>Vt.transform(100*e)}),Ht=Re(Re({},Ct),{},{transform:Math.round}),qt={borderWidth:Ft,borderTopWidth:Ft,borderRightWidth:Ft,borderBottomWidth:Ft,borderLeftWidth:Ft,borderRadius:Ft,radius:Ft,borderTopLeftRadius:Ft,borderTopRightRadius:Ft,borderBottomRightRadius:Ft,borderBottomLeftRadius:Ft,width:Ft,maxWidth:Ft,height:Ft,maxHeight:Ft,size:Ft,top:Ft,right:Ft,bottom:Ft,left:Ft,padding:Ft,paddingTop:Ft,paddingRight:Ft,paddingBottom:Ft,paddingLeft:Ft,margin:Ft,marginTop:Ft,marginRight:Ft,marginBottom:Ft,marginLeft:Ft,rotate:Mt,rotateX:Mt,rotateY:Mt,rotateZ:Mt,scale:jt,scaleX:jt,scaleY:jt,scaleZ:jt,skew:Mt,skewX:Mt,skewY:Mt,distance:Ft,translateX:Ft,translateY:Ft,translateZ:Ft,x:Ft,y:Ft,z:Ft,perspective:Ft,transformPerspective:Ft,opacity:It,originX:Bt,originY:Bt,originZ:Ft,zIndex:Ht,fillOpacity:It,strokeOpacity:It,numOctaves:Ht};function Wt(e,t,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(St(d)){s[d]=e;continue}const n=qt[d],r=Nt(e,n);if(vt.has(d)){if(l=!0,a[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,o[d]=r):i[d]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,a="";for(let o=0;o<kt;o++){const t=yt[o];void 0!==e[t]&&(a+="".concat(wt[t]||t,"(").concat(e[t],") "))}return i&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):s&&n&&(a="none"),a}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const Gt=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Kt(e,t,n){for(const r in t)xt(t[r])||bt(r,n)||(e[r]=t[r])}function Qt(e,n,r){const i={};return Kt(i,e.style||{},e),Object.assign(i,function(e,n,r){let{transformTemplate:i}=e;return(0,t.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Wt(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)},[n])}(e,n,r)),e.transformValues?e.transformValues(i):i}function Yt(e,t,n){const r={},i=Qt(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const $t=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xt(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$t.has(e)}let Jt=e=>!Xt(e);try{(Zt=require("@emotion/is-prop-valid").default)&&(Jt=e=>e.startsWith("on")?!Xt(e):Zt(e))}catch(xN){}var Zt;function en(e,t,n){return"string"===typeof e?e:Ft.transform(t+n*e)}const tn={offset:"stroke-dashoffset",array:"stroke-dasharray"},nn={offset:"strokeDashoffset",array:"strokeDasharray"};const rn=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function sn(e,t,n,r,i){let{attrX:s,attrY:a,attrScale:o,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0}=t;if(Wt(e,De(t,rn),n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==l||void 0!==c||p.transform)&&(p.transformOrigin=function(e,t,n){const r=en(t,e.x,e.width),i=en(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(f.x=s),void 0!==a&&(f.y=a),void 0!==o&&(f.scale=o),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?tn:nn;e[s.offset]=Ft.transform(-r);const a=Ft.transform(t),o=Ft.transform(n);e[s.array]="".concat(a," ").concat(o)}(f,u,d,h,!1)}const an=()=>Re(Re({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),on=e=>"string"===typeof e&&"svg"===e.toLowerCase();function ln(e,n,r,i){const s=(0,t.useMemo)(()=>{const t=an();return sn(t,n,{enableHardwareAcceleration:!1},on(i),e.transformTemplate),Re(Re({},t.attrs),{},{style:Re({},t.style)})},[n]);if(e.style){const t={};Kt(t,e.style,e),s.style=Re(Re({},t),s.style)}return s}function cn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,i,s,a)=>{let{latestValues:o}=s;const l=(mt(n)?ln:Yt)(r,o,a,n),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Jt(i)||!0===n&&Xt(i)||!t&&!Xt(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,e),u=Re(Re(Re({},c),l),{},{ref:i}),{children:d}=r,h=(0,t.useMemo)(()=>xt(d)?d.get():d,[d]);return(0,t.createElement)(n,Re(Re({},u),{},{children:h}))}}function un(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const dn=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hn(e,t,n,r){un(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(dn.has(i)?i:Ye(i),t.attrs[i])}function fn(e,t){const{style:n}=e,r={};for(const i in n)(xt(n[i])||t.style&&xt(t.style[i])||bt(i,e))&&(r[i]=n[i]);return r}function pn(e,t){const n=fn(e,t);for(const r in e)if(xt(e[r])||xt(t[r])){n[-1!==yt.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function mn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}function gn(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}const yn=e=>Array.isArray(e),vn=e=>yn(e)?e[e.length-1]||0:e;function bn(e){const t=xt(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const xn=["transitionEnd","transition"];const wn=e=>(n,r)=>{const i=(0,t.useContext)(qe),s=(0,t.useContext)(We),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:a}=e;const o={latestValues:kn(t,n,r,i),renderState:s()};return a&&(o.mount=e=>a(t,e,o)),o}(e,n,i,s);return r?a():gn(a)};function kn(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=bn(s[h]);let{initial:a,animate:o}=e;const l=nt(e),c=rt(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!==typeof d&&!Ze(d)){(Array.isArray(d)?d:[d]).forEach(t=>{const n=mn(e,t);if(!n)return;const{transitionEnd:r,transition:s}=n,a=De(n,xn);for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]})}return i}const En=e=>e;class Sn{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const Tn=["prepare","read","update","preRender","render","postRender"];const{schedule:Nn,cancel:_n,state:Cn,steps:In}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Tn.reduce((e,t)=>(e[t]=function(e){let t=new Sn,n=new Sn,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,o=s?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),o.add(e)&&s&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),a.has(r)&&(o.schedule(r),e())}i=!1,s&&(s=!1,o.process(l))}}};return o}(()=>n=!0),e),{}),a=e=>s[e].process(i),o=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,Tn.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=Tn.reduce((t,a)=>{const l=s[a];return t[a]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(o)),l.schedule(t,s,a)},t},{});return{schedule:l,cancel:e=>Tn.forEach(t=>s[t].cancel(e)),state:i,steps:s}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:En,!0),jn={useVisualState:wn({scrapeMotionValuesFromProps:pn,createRenderState:an,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;Nn.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(bN){r.dimensions={x:0,y:0,width:0,height:0}}}),Nn.render(()=>{sn(r,i,{enableHardwareAcceleration:!1},on(t.tagName),e.transformTemplate),hn(t,r)})}})},An={useVisualState:wn({scrapeMotionValuesFromProps:fn,createRenderState:Gt})};function Pn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Rn=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function On(e,t,n,r){return Pn(e,t,(e=>t=>Rn(t)&&e(t,Dn(t)))(n),r)}const Ln=(e,t)=>n=>t(e(n)),Mn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Ln)};function Vn(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Fn=Vn("dragHorizontal"),Un=Vn("dragVertical");function zn(e){let t=!1;if("y"===e)t=Un();else if("x"===e)t=Fn();else{const e=Fn(),n=Un();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Bn(){const e=zn(!0);return!e||(e(),!1)}class Hn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function qn(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return On(e.current,n,(n,i)=>{if("touch"===n.pointerType||Bn())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&Nn.update(()=>s[r](n,i))},{passive:!e.getProps()[r]})}const Wn=(e,t)=>!!t&&(e===t||Wn(e,t.parentElement));function Gn(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Dn(n))}const Kn=["root"],Qn=new WeakMap,Yn=new WeakMap,$n=e=>{const t=Qn.get(e.target);t&&t(e)},Xn=e=>{e.forEach($n)};function Jn(e,t,n){const r=function(e){let{root:t}=e,n=De(e,Kn);const r=t||document;Yn.has(r)||Yn.set(r,{});const i=Yn.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(Xn,Re({root:t},n))),i[s]}(t);return Qn.set(e,n),r.observe(e),()=>{Qn.delete(e),r.unobserve(e)}}const Zn={some:0,all:1};const er={inView:{Feature:class extends Hn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Zn[r]};return Jn(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Hn{constructor(){super(...arguments),this.removeStartListeners=En,this.removeEndListeners=En,this.removeAccessibleListeners=En,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=On(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();Nn.update(()=>{i||Wn(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),i=On(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Mn(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Pn(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Pn(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&Gn("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&Nn.update(()=>n(e,t))})}),Gn("down",(e,t)=>{this.startPress(e,t)})}),t=Pn(this.node.current,"blur",()=>{this.isPressing&&Gn("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=Mn(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Nn.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Bn()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Nn.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=On(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Pn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Mn(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Hn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(bN){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mn(Pn(this.node.current,"focus",()=>this.onFocus()),Pn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Hn{mount(){this.unmount=Mn(qn(this.node,!0),qn(this.node,!1))}unmount(){}}}};function tr(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function nr(e,t,n){const r=e.getProps();return mn(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}let rr=En,ir=En;const sr=e=>1e3*e,ar=e=>e/1e3,or=!1,lr=e=>Array.isArray(e)&&"number"===typeof e[0];function cr(e){return Boolean(!e||"string"===typeof e&&dr[e]||lr(e)||Array.isArray(e)&&e.every(cr))}const ur=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},dr={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ur([0,.65,.55,1]),circOut:ur([.55,0,1,.45]),backIn:ur([.31,.01,.66,-.59]),backOut:ur([.33,1.53,.69,.99])};function hr(e){if(e)return lr(e)?ur(e):Array.isArray(e)?e.map(hr):dr[e]}const fr=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function pr(e,t,n,r){if(e===t&&n===r)return En;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=fr(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:fr(i(e),t,r)}const mr=pr(.42,0,1,1),gr=pr(0,0,.58,1),yr=pr(.42,0,.58,1),vr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,br=e=>t=>1-e(1-t),xr=e=>1-Math.sin(Math.acos(e)),wr=br(xr),kr=vr(xr),Er=pr(.33,1.53,.69,.99),Sr=br(Er),Tr=vr(Sr),Nr={linear:En,easeIn:mr,easeInOut:yr,easeOut:gr,circIn:xr,circInOut:kr,circOut:wr,backIn:Sr,backInOut:Tr,backOut:Er,anticipate:e=>(e*=2)<1?.5*Sr(e):.5*(2-Math.pow(2,-10*(e-1)))},_r=e=>{if(Array.isArray(e)){ir(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return pr(t,n,r,i)}return"string"===typeof e?(ir(void 0!==Nr[e],"Invalid easing type '".concat(e,"'")),Nr[e]):e},Cr=(e,t)=>n=>Boolean(Ot(n)&&Dt.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Ir=(e,t,n)=>r=>{if(!Ot(r))return r;const[i,s,a,o]=r.match(Pt);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},jr=Re(Re({},Ct),{},{transform:e=>Math.round((e=>_t(0,255,e))(e))}),Ar={test:Cr("rgb","red"),parse:Ir("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+jr.transform(t)+", "+jr.transform(n)+", "+jr.transform(r)+", "+At(It.transform(i))+")"}};const Pr={test:Cr("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Ar.transform},Rr={test:Cr("hsl","hue"),parse:Ir("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Vt.transform(At(n))+", "+Vt.transform(At(r))+", "+At(It.transform(i))+")"}},Dr={test:e=>Ar.test(e)||Pr.test(e)||Rr.test(e),parse:e=>Ar.test(e)?Ar.parse(e):Rr.test(e)?Rr.parse(e):Pr.parse(e),transform:e=>Ot(e)?e:e.hasOwnProperty("red")?Ar.transform(e):Rr.transform(e)},Or=(e,t,n)=>-n*e+n*t+e;function Lr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Mr=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Vr=[Pr,Ar,Rr];function Fr(e){const t=(n=e,Vr.find(e=>e.test(n)));var n;ir(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let r=t.parse(e);return t===Rr&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=Lr(i,e,t+1/3),a=Lr(i,e,t),o=Lr(i,e,t-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(r)),r}const Ur=(e,t)=>{const n=Fr(e),r=Fr(t),i=Re({},n);return e=>(i.red=Mr(n.red,r.red,e),i.green=Mr(n.green,r.green,e),i.blue=Mr(n.blue,r.blue,e),i.alpha=Or(n.alpha,r.alpha,e),Ar.transform(i))};const zr={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:En},Br={regex:Rt,countKey:"Colors",token:"${c}",parse:Dr.parse},Hr={regex:Pt,countKey:"Numbers",token:"${n}",parse:Ct.parse};function qr(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...a.map(s)))}function Wr(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&qr(n,zr),qr(n,Br),qr(n,Hr),n}function Gr(e){return Wr(e).values}function Kr(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Wr(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(zr.token,e[i]):i<r+n?t.replace(Br.token,Dr.transform(e[i])):t.replace(Hr.token,At(e[i]));return t}}const Qr=e=>"number"===typeof e?0:e;const Yr={test:function(e){var t,n;return isNaN(e)&&Ot(e)&&((null===(t=e.match(Pt))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Rt))||void 0===n?void 0:n.length)||0)>0},parse:Gr,createTransformer:Kr,getAnimatableNone:function(e){const t=Gr(e);return Kr(e)(t.map(Qr))}},$r=(e,t)=>n=>"".concat(n>0?t:e);function Xr(e,t){return"number"===typeof e?n=>Or(e,t,n):Dr.test(e)?Ur(e,t):e.startsWith("var(")?$r(e,t):ei(e,t)}const Jr=(e,t)=>{const n=[...e],r=n.length,i=e.map((e,n)=>Xr(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},Zr=(e,t)=>{const n=Re(Re({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Xr(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},ei=(e,t)=>{const n=Yr.createTransformer(t),r=Wr(e),i=Wr(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Mn(Jr(r.values,i.values),n):(rr(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),$r(e,t))},ti=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},ni=(e,t)=>n=>Or(e,t,n);function ri(e,t,n){const r=[],i=n||("number"===typeof(s=e[0])?ni:"string"===typeof s?Dr.test(s)?Ur:ei:Array.isArray(s)?Jr:"object"===typeof s?Zr:ni);var s;const a=e.length-1;for(let o=0;o<a;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||En:t;n=Mn(e,n)}r.push(n)}return r}function ii(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(ir(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=ri(t,r,i),o=a.length,l=t=>{let n=0;if(o>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=ti(e[n],e[n+1],t);return a[n](r)};return n?t=>l(_t(e[0],e[s-1],t)):l}function si(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ti(0,t,r);e.push(Or(n,1,i))}}(t,e.length-1),t}function ai(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(_r):_r(i),a={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:si(n),t),l=ii(o,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map(()=>u||yr).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function oi(e,t){return t?e*(1e3/t):0}function li(e,t,n){const r=Math.max(t-5,0);return oi(n-e(r),t-r)}const ci=.001;function ui(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:a=1}=e;rr(r<=sr(10),"Spring duration must be 10 seconds or less");let o=1-i;o=_t(.05,1,o),r=_t(.01,10,ar(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-s,a=hi(e,o),l=Math.exp(-n);return ci-i/a*l},n=e=>{const n=e*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=hi(Math.pow(e,2),o);return(-t(e)+ci>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<di;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=sr(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const di=12;function hi(e,t){return e*Math.sqrt(1-t*t)}const fi=["keyframes","restDelta","restSpeed"],pi=["duration","bounce"],mi=["stiffness","damping","mass"];function gi(e,t){return t.some(t=>void 0!==e[t])}function yi(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,i=De(e,fi);const s=t[0],a=t[t.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t=Re({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!gi(e,mi)&&gi(e,pi)){const n=ui(e);t=Re(Re(Re({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}(Re(Re({},i),{},{velocity:-ar(i.velocity||0)})),p=h||0,m=c/(2*Math.sqrt(l*u)),g=a-s,y=ar(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=hi(y,m);b=t=>{const n=Math.exp(-m*y*t);return a-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)o.done=e>=d;else{let i=p;0!==e&&(i=m<1?li(b,e,t):0);const s=Math.abs(i)<=r,l=Math.abs(a-t)<=n;o.done=s&&l}return o.value=o.done?a:t,o}}}function vi(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===o?g:o(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),x=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let w,k;const E=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,k=yi({keyframes:[f.value,p(f.value)],velocity:li(b,e,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,x(e),E(e)),void 0!==w&&e>w?k.next(e-w):(!t&&x(e),f)}}}const bi=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Nn.update(t,!0),stop:()=>_n(t),now:()=>Cn.isProcessing?Cn.timestamp:performance.now()}};function xi(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const wi=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],ki={decay:vi,inertia:vi,tween:ai,keyframes:ai,spring:yi};function Ei(e){let t,n,{autoplay:r=!0,delay:i=0,driver:s=bi,keyframes:a,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:f,onUpdate:p}=e,m=De(e,wi),g=1,y=!1;const v=()=>{n=new Promise(e=>{t=e})};let b;v();const x=ki[o]||ai;let w;x!==ai&&"number"!==typeof a[0]&&(w=ii([0,100],a,{clamp:!1}),a=[0,100]);const k=x(Re(Re({},m),{},{keyframes:a}));let E;"mirror"===u&&(E=x(Re(Re({},m),{},{keyframes:[...a].reverse(),velocity:-(m.velocity||0)})));let S="idle",T=null,N=null,_=null;null===k.calculatedDuration&&l&&(k.calculatedDuration=xi(k));const{calculatedDuration:C}=k;let I=1/0,j=1/0;null!==C&&(I=C+c,j=I*(l+1)-c);let A=0;const P=e=>{if(null===N)return;g>0&&(N=Math.min(N,e)),g<0&&(N=Math.min(e-j/g,N)),A=null!==T?T:Math.round(e-N)*g;const t=A-i*(g>=0?1:-1),n=g>=0?t<0:t>j;A=Math.max(t,0),"finished"===S&&null===T&&(A=j);let r=A,s=k;if(l){const e=Math.min(A,j)/I;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/I)):"mirror"===u&&(s=E)),r=_t(0,1,n)*I}const o=n?{done:!1,value:a[0]}:s.next(r);w&&(o.value=w(o.value));let{done:d}=o;n||null===C||(d=g>=0?A>=j:A<=0);const h=null===T&&("finished"===S||"running"===S&&d);return p&&p(o.value),h&&O(),o},R=()=>{b&&b.stop(),b=void 0},D=()=>{S="idle",R(),t(),v(),N=_=null},O=()=>{S="finished",f&&f(),R(),t()},L=()=>{if(y)return;b||(b=s(P));const e=b.now();d&&d(),null!==T?N=e-T:N&&"finished"!==S||(N=e),"finished"===S&&v(),_=N,T=null,S="running",b.start()};r&&L();const M={then:(e,t)=>n.then(e,t),get time(){return ar(A)},set time(e){e=sr(e),A=e,null===T&&b&&0!==g?N=b.now()-e/g:T=e},get duration(){const e=null===k.calculatedDuration?xi(k):k.calculatedDuration;return ar(e)},get speed(){return g},set speed(e){e!==g&&b&&(g=e,M.time=ar(A))},get state(){return S},play:L,pause:()=>{S="paused",T=A},stop:()=>{y=!0,"idle"!==S&&(S="idle",h&&h(),D())},cancel:()=>{null!==_&&P(_),D()},complete:()=>{S="finished"},sample:e=>(N=0,P(e))};return M}const Si=["onUpdate","onComplete"],Ti=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ni=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function _i(e,t,n){let{onUpdate:r,onComplete:i}=n,s=De(n,Si);if(!(Ti()&&Ni.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let a,o,l=!1,c=!1;const u=()=>{o=new Promise(e=>{a=e})};u();let{keyframes:d,duration:h=300,ease:f,times:p}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!cr(t.ease))(t,s)){const e=Ei(Re(Re({},s),{},{repeat:0,delay:0}));let t={done:!1,value:d[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,d=n,h=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=hr(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,d,Re(Re({},s),{},{duration:h,ease:f,times:p})),g=()=>{c=!1,m.cancel()},y=()=>{c=!0,Nn.update(g),a(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(d,s)),i&&i(),y())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,En),get time(){return ar(m.currentTime||0)},set time(e){m.currentTime=sr(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return ar(h)},play:()=>{l||(m.play(),_n(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=Ei(Re(Re({},s),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}y()},complete:()=>{c||m.finish()},cancel:y}}const Ci={type:"spring",stiffness:500,damping:25,restSpeed:10},Ii={type:"keyframes",duration:.8},ji={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ai=(e,t)=>{let{keyframes:n}=t;return n.length>2?Ii:vt.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Ci:ji},Pi=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Yr.test(t)&&"0"!==t||t.startsWith("url("))),Ri=new Set(["brightness","contrast","saturate","opacity"]);function Di(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Pt)||[];if(!r)return e;const i=n.replace(r,"");let s=Ri.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const Oi=/([a-z-]*)\(.*?\)/g,Li=Re(Re({},Yr),{},{getAnimatableNone:e=>{const t=e.match(Oi);return t?t.map(Di).join(" "):e}}),Mi=Re(Re({},qt),{},{color:Dr,backgroundColor:Dr,outlineColor:Dr,fill:Dr,stroke:Dr,borderColor:Dr,borderTopColor:Dr,borderRightColor:Dr,borderBottomColor:Dr,borderLeftColor:Dr,filter:Li,WebkitFilter:Li}),Vi=e=>Mi[e];function Fi(e,t){let n=Vi(e);return n!==Li&&(n=Yr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ui=e=>/^0[^.\s]+$/.test(e);function zi(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Ui(e):void 0}const Bi=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function Hi(e,t){return e[t]||e.default||e}const qi=!1,Wi=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=Hi(r,e)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o-=sr(a);const l=function(e,t,n,r){const i=Pi(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let o;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?a:s[c-1]),zi(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(o=s[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++)s[l[c]]=Fi(t,o);return s}(t,e,n,s),c=l[0],u=l[l.length-1],d=Pi(e,c),h=Pi(e,u);rr(d===h,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f=Re(Re({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},s),{},{delay:-o,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u}=e,d=De(e,Bi);return!!Object.keys(d).length}(s)||(f=Re(Re({},f),Ai(e,f))),f.duration&&(f.duration=sr(f.duration)),f.repeatDelay&&(f.repeatDelay=sr(f.repeatDelay)),!d||!h||or||!1===s.type||qi)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:En,pause:En,stop:En,then:e=>(e(),Promise.resolve()),cancel:En,complete:En});return n?Ei({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(or?Re(Re({},f),{},{delay:0}):f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=_i(t,e,f);if(n)return n}return Ei(f)}};function Gi(e){return Boolean(xt(e)&&e.add)}const Ki=e=>/^\-?\d*\.?\d+$/.test(e);function Qi(e,t){-1===e.indexOf(t)&&e.push(t)}function Yi(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class $i{constructor(){this.subscriptions=[]}add(e){return Qi(this.subscriptions,e),()=>Yi(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xi={current:void 0};class Ji{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=Cn;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,Nn.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Nn.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new $i);const n=this.events[e].add(t);return"change"===e?()=>{n(),Nn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Xi.current&&Xi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?oi(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zi(e,t){return new Ji(e,t)}const es=e=>t=>t.test(e),ts=[Ct,Ft,Vt,Mt,zt,Ut,{test:e=>"auto"===e,parse:e=>e}],ns=e=>ts.find(es(e)),rs=[...ts,Dr,Yr],is=e=>rs.find(es(e)),ss=["transitionEnd","transition"];function as(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zi(n))}function os(e,t){const n=nr(e,t);let r=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:i={},transition:s={}}=r,a=De(r,ss);a=Re(Re({},a),i);for(const o in a){as(e,o,vn(a[o]))}}function ls(e,t){if(!t)return;return(t[e]||t.default||t).from}const cs=["transition","transitionEnd"];function us(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function ds(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function hs(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=e.makeTargetAnimatable(t),{transition:a=e.getDefaultTransition(),transitionEnd:o}=s,l=De(s,cs);const c=e.getValue("willChange");r&&(a=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const t=e.getValue(h),r=l[h];if(!t||void 0===r||d&&us(d,h))continue;const i=Re({delay:n,elapsed:0},Hi(a||{},h));if(window.HandoffAppearAnimations){const n=e.getProps()[$e];if(n){const e=window.HandoffAppearAnimations(n,h,t,Nn);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let s=!i.isHandoff&&!ds(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(s=!1),t.animation&&(s=!1),s)continue;t.start(Wi(h,t,r,e.shouldReduceMotion&&vt.has(h)?{type:!1}:i));const o=t.animation;Gi(c)&&(c.add(h),o.then(()=>c.remove(h))),u.push(o)}return o&&Promise.all(u).then(()=>{o&&os(e,o)}),u}function fs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=nr(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(hs(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(ps).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(fs(e,t,Re(Re({},s),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,s+r,a,o,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[e,t]="beforeChildren"===o?[s,a]:[a,s];return e().then(()=>t())}return Promise.all([s(),a(n.delay)])}function ps(e,t){return e.sortNodePosition(t)}const ms=["transition","transitionEnd"],gs=[...et].reverse(),ys=et.length;function vs(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>fs(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=fs(e,t,r);else{const i="function"===typeof t?nr(e,t,r.custom):t;n=Promise.all(hs(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function bs(e){let t=vs(e);const n={animate:ws(!0),whileInView:ws(),whileHover:ws(),whileTap:ws(),whileDrag:ws(),whileFocus:ws(),exit:ws()};let r=!0;const i=(t,n)=>{const r=nr(e,n);if(r){const{transition:e,transitionEnd:n}=r,i=De(r,ms);t=Re(Re(Re({},t),i),n)}return t};function s(s,a){const o=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<ys;t++){const f=gs[t],p=n[f],m=void 0!==o[f]?o[f]:l[f],g=Je(m),y=f===a?p.isActive:null;!1===y&&(h=t);let v=m===l[f]&&m!==o[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys=Re({},d),!p.isActive&&null===y||!m&&!p.prevProp||Ze(m)||"boolean"===typeof m)continue;let b=xs(p.prevProp,m)||f===a&&p.isActive&&!v&&g||t>h&&g,x=!1;const w=Array.isArray(m)?m:[m];let k=w.reduce(i,{});!1===y&&(k={});const{prevResolvedValues:E={}}=p,S=Re(Re({},E),k),T=e=>{b=!0,u.has(e)&&(x=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in S){const t=k[e],n=E[e];if(d.hasOwnProperty(e))continue;let r=!1;r=yn(t)&&yn(n)?!tr(t,n):t!==n,r?void 0!==t?T(e):u.add(e):void 0!==t&&u.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=k,p.isActive&&(d=Re(Re({},d),k)),r&&e.blockInitialAnimation&&(b=!1),!b||v&&!x||c.push(...w.map(e=>({animation:e,options:Re({type:f},s)})))}if(u.size){const t={};u.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const o=s(i,t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function xs(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!tr(t,e)}function ws(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let ks=0;const Es={animation:{Feature:class extends Hn{constructor(e){super(e),e.animationState||(e.animationState=bs(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ze(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Hn{constructor(){super(...arguments),this.id=ks++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Ss=(e,t)=>Math.abs(e-t);class Ts{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Cs(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Ss(e.x,t.x),r=Ss(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Cn;this.history.push(Re(Re({},r),{},{timestamp:i}));const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Ns(t,this.transformPagePoint),Nn.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=Cs("pointercancel"===e.type?this.lastMoveEventInfo:Ns(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!Rn(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=Ns(Dn(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=Cn;this.history=[Re(Re({},a),{},{timestamp:o})];const{onSessionStart:l}=t;l&&l(e,Cs(s,this.history)),this.removeListeners=Mn(On(this.contextWindow,"pointermove",this.handlePointerMove),On(this.contextWindow,"pointerup",this.handlePointerUp),On(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_n(this.updatePoint)}}function Ns(e,t){return t?{point:t(e.point)}:e}function _s(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Cs(e,t){let{point:n}=e;return{point:n,delta:_s(n,js(t)),offset:_s(n,Is(t)),velocity:As(t,.1)}}function Is(e){return e[0]}function js(e){return e[e.length-1]}function As(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=js(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>sr(t)));)n--;if(!r)return{x:0,y:0};const s=ar(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Ps(e){return e.max-e.min}function Rs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Ds(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Or(t.min,t.max,e.origin),e.scale=Ps(n)/Ps(t),(Rs(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Or(n.min,n.max,e.origin)-e.originPoint,(Rs(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Os(e,t,n,r){Ds(e.x,t.x,n.x,r?r.originX:void 0),Ds(e.y,t.y,n.y,r?r.originY:void 0)}function Ls(e,t,n){e.min=n.min+t.min,e.max=e.min+Ps(t)}function Ms(e,t,n){e.min=t.min-n.min,e.max=e.min+Ps(t)}function Vs(e,t,n){Ms(e.x,t.x,n.x),Ms(e.y,t.y,n.y)}function Fs(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Us(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const zs=.35;function Bs(e,t,n){return{min:Hs(e,t),max:Hs(e,n)}}function Hs(e,t){return"number"===typeof e?e:e[t]||0}const qs=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Ws(e){return[e("x"),e("y")]}function Gs(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function Ks(e){return void 0===e||1===e}function Qs(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Ks(t)||!Ks(n)||!Ks(r)}function Ys(e){return Qs(e)||$s(e)||e.z||e.rotate||e.rotateX||e.rotateY}function $s(e){return Xs(e.x)||Xs(e.y)}function Xs(e){return e&&"0%"!==e}function Js(e,t,n){return n+t*(e-n)}function Zs(e,t,n,r,i){return void 0!==i&&(e=Js(e,i,r)),Js(e,n,r)+t}function ea(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Zs(e.min,t,n,r,i),e.max=Zs(e.max,t,n,r,i)}function ta(e,t){let{x:n,y:r}=t;ea(e.x,n.translate,n.scale,n.originPoint),ea(e.y,r.translate,r.scale,r.originPoint)}function na(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ra(e,t){e.min=e.min+t,e.max=e.max+t}function ia(e,t,n){let[r,i,s]=n;const a=void 0!==t[s]?t[s]:.5,o=Or(e.min,e.max,a);ea(e,t[r],t[i],o,t.scale)}const sa=["x","scaleX","originX"],aa=["y","scaleY","originY"];function oa(e,t){ia(e.x,t,sa),ia(e.y,t,aa)}function la(e,t){return Gs(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const ca=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},ua=new WeakMap;class da{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Ts(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Dn(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=zn(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ws(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Vt.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Ps(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&Nn.update(()=>i(e,t),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Ws(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:ca(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Nn.update(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!ha(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Or(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Or(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Xe(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:Fs(e.x,r,s),y:Fs(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zs;return!1===e?e=0:!0===e&&(e=zs),{x:Bs(e,"left","right"),y:Bs(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ws(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Xe(e))return!1;const n=e.current;ir(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=la(e,n),{scroll:i}=t;return i&&(ra(r.x,i.offset.x),ra(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:Us(e.x,t.x),y:Us(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Gs(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=Ws(a=>{if(!ha(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=Re(Re({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(Wi(e,n,0,t))}stopAnimation(){Ws(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ws(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ws(t=>{const{drag:n}=this.getProps();if(!ha(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-Or(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Xe(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ws(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Ps(e),i=Ps(t);return i>r?n=ti(t.min,t.max-r,e.min):r>i&&(n=ti(e.min,e.max-i,t.min)),_t(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ws(t=>{if(!ha(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(Or(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;ua.set(this.visualElement,this);const e=On(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Xe(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Pn(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Ws(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=zs,dragMomentum:a=!0}=e;return Re(Re({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a})}}function ha(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const fa=e=>(t,n)=>{e&&Nn.update(()=>e(t,n))};const pa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ma(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ga={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Ft.test(e))return e;e=parseFloat(e)}const n=ma(e,t.target.x),r=ma(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},ya={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=Yr.parse(e);if(s.length>5)return i;const a=Yr.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=Or(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),a(s)}};class va extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=xa,Object.assign(gt,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(Re(Re({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),pa.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Nn.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ba(e){const[n,r]=function(){const e=(0,t.useContext)(We);if(null===e)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=(0,t.useId)();return(0,t.useEffect)(()=>i(s),[]),!n&&r?[!1,()=>r&&r(s)]:[!0]}(),i=(0,t.useContext)(lt);return t.createElement(va,Re(Re({},e),{},{layoutGroup:i,switchLayoutGroup:(0,t.useContext)(ct),isPresent:n,safeToRemove:r}))}const xa={borderRadius:Re(Re({},ga),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ga,borderTopRightRadius:ga,borderBottomLeftRadius:ga,borderBottomRightRadius:ga,boxShadow:ya},wa=["TopLeft","TopRight","BottomLeft","BottomRight"],ka=wa.length,Ea=e=>"string"===typeof e?parseFloat(e):e,Sa=e=>"number"===typeof e||Ft.test(e);function Ta(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Na=Ca(0,.5,wr),_a=Ca(.5,.95,En);function Ca(e,t,n){return r=>r<e?0:r>t?1:n(ti(e,t,r))}function Ia(e,t){e.min=t.min,e.max=t.max}function ja(e,t){Ia(e.x,t.x),Ia(e.y,t.y)}function Aa(e,t,n,r,i){return e=Js(e-=t,1/n,r),void 0!==i&&(e=Js(e,1/i,r)),e}function Pa(e,t,n,r,i){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Vt.test(t)&&(t=parseFloat(t),t=Or(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=Or(s.min,s.max,r);e===s&&(o-=t),e.min=Aa(e.min,t,n,o,i),e.max=Aa(e.max,t,n,o,i)}(e,t[s],t[a],t[o],t.scale,r,i)}const Ra=["x","scaleX","originX"],Da=["y","scaleY","originY"];function Oa(e,t,n,r){Pa(e.x,t,Ra,n?n.x:void 0,r?r.x:void 0),Pa(e.y,t,Da,n?n.y:void 0,r?r.y:void 0)}function La(e){return 0===e.translate&&1===e.scale}function Ma(e){return La(e.x)&&La(e.y)}function Va(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Fa(e){return Ps(e.x)/Ps(e.y)}class Ua{constructor(){this.members=[]}add(e){Qi(this.members,e),e.scheduleRender()}remove(e){if(Yi(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function za(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const a=e.x.scale*t.x,o=e.y.scale*t.y;return 1===a&&1===o||(r+="scale(".concat(a,", ").concat(o,")")),r||"none"}const Ba=(e,t)=>e.depth-t.depth;class Ha{constructor(){this.children=[],this.isDirty=!1}add(e){Qi(this.children,e),this.isDirty=!0}remove(e){Yi(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ba),this.isDirty=!1,this.children.forEach(e)}}const qa=["","X","Y","Z"],Wa={visibility:"hidden"};let Ga=0;const Ka={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Qa(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Ga++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ka.totalNodes=Ka.resolvedTargetDeltas=Ka.recalculatedProjection=0,this.nodes.forEach(Xa),this.nodes.forEach(io),this.nodes.forEach(so),this.nodes.forEach(Ja),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(Ka)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ha)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new $i),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=t&&(_n(r),e(a-t))};return Nn.read(r,!0),()=>_n(r)}(r,250),pa.hasAnimatedSinceResize&&(pa.hasAnimatedSinceResize=!1,this.nodes.forEach(ro))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||s)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||ho,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!Va(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=Re(Re({},Hi(s,"layout")),{},{onPlay:o,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||ro(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_n(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ao),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(eo);this.isUpdating||this.nodes.forEach(to),this.isUpdating=!1,this.nodes.forEach(no),this.nodes.forEach(Ya),this.nodes.forEach($a),this.clearAllSnapshots();const e=performance.now();Cn.delta=_t(0,1e3/60,e-Cn.timestamp),Cn.timestamp=e,Cn.isProcessing=!0,In.update.process(Cn),In.preRender.process(Cn),In.render.process(Cn),Cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Za),this.sharedNodes.forEach(oo)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Ma(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Ys(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),mo((r=n).x),mo(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(ra(t.x,n.offset.x),ra(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};ja(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){ja(t,e);const{scroll:n}=this.root;n&&(ra(t.x,-n.offset.x),ra(t.y,-n.offset.y))}ra(t.x,i.offset.x),ra(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};ja(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&oa(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Ys(e.latestValues)&&oa(n,e.latestValues)}return Ys(this.latestValues)&&oa(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};ja(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Ys(e.latestValues))continue;Qs(e.latestValues)&&e.updateSnapshot();const r=qs();ja(r,e.measurePageBox()),Oa(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Ys(this.latestValues)&&Oa(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=Re(Re(Re({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=Cn.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Vs(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),ja(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,Ls(a.x,o.x,l.x),Ls(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ja(this.target,this.layout.layoutBox),ta(this.target,this.targetDelta)):ja(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Vs(this.relativeTargetOrigin,this.target,e.target),ja(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ka.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Qs(this.parent.latestValues)&&!$s(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Cn.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;ja(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&oa(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,ta(e,a)),r&&Ys(s.latestValues)&&oa(e,s.latestValues))}t.x=na(t.x),t.y=na(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;Os(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=za(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Ka.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=Re({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(uo));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,p,m,g;lo(s.x,e.x,n),lo(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vs(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=a,g=n,co(f.x,p.x,m.x,g),co(f.y,p.y,m.y,g),d&&(l=this.relativeTarget,h=d,l.x.min===h.x.min&&l.x.max===h.x.max&&l.y.min===h.y.min&&l.y.max===h.y.max)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),ja(d,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=Or(0,void 0!==n.opacity?n.opacity:1,Na(r)),e.opacityExit=Or(void 0!==t.opacity?t.opacity:1,0,_a(r))):s&&(e.opacity=Or(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<ka;a++){const i="border".concat(wa[a],"Radius");let s=Ta(t,i),o=Ta(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||Sa(s)===Sa(o)?(e[i]=Math.max(Or(Ea(s),Ea(o),r),0),(Vt.test(o)||Vt.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=Or(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_n(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nn.update(()=>{pa.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=xt(e)?e:Zi(e);return r.start(Wi("",r,t,n)),r.animation}(0,1e3,Re(Re({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&go(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Ps(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Ps(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}ja(t,n),oa(t,i),Os(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Ua);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<qa.length;i++){const t="rotate"+qa[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Wa;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=bn(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=bn(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Ys(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=za(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in gt){if(void 0===a[c])continue;const{correct:e,applyTo:t}=gt[c],n="none"===r.transform?a[c]:e(a[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?bn(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(eo),this.root.sharedNodes.clear()}}}function Ya(e){e.updateLayout()}function $a(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?Ws(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=Ps(r);r.min=t[e].min,r.max=r.min+i}):go(i,n.layoutBox,t)&&Ws(r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=Ps(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Os(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Os(o,e.applyTransform(r,!0),n.measuredBox):Os(o,t,n.layoutBox);const l=!Ma(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};Vs(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Vs(o,t,s.layoutBox),Va(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Xa(e){Ka.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ja(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Za(e){e.clearSnapshot()}function eo(e){e.clearMeasurements()}function to(e){e.isLayoutDirty=!1}function no(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ro(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function io(e){e.resolveTargetDelta()}function so(e){e.calcProjection()}function ao(e){e.resetRotation()}function oo(e){e.removeLeadSnapshot()}function lo(e,t,n){e.translate=Or(t.translate,0,n),e.scale=Or(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function co(e,t,n,r){e.min=Or(t.min,n.min,r),e.max=Or(t.max,n.max,r)}function uo(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const ho={duration:.45,ease:[.4,0,.1,1]},fo=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),po=fo("applewebkit/")&&!fo("chrome/")?Math.round:En;function mo(e){e.min=po(e.min),e.max=po(e.max)}function go(e,t,n){return"position"===e||"preserve-aspect"===e&&!Rs(Fa(t),Fa(n),.2)}const yo=Qa({attachResizeListener:(e,t)=>Pn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vo={current:void 0},bo=Qa({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vo.current){const e=new yo({});e.mount(window),e.setOptions({layoutScroll:!0}),vo.current=e}return vo.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),xo={pan:{Feature:class extends Hn{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(e){this.session=new Ts(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ca(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:fa(e),onStart:fa(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Nn.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=On(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Hn{constructor(e){super(e),this.removeGroupControls=En,this.removeListeners=En,this.controls=new da(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:bo,MeasureLayout:ba}};const wo=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ko(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;ir(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=wo.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return Ki(e)?parseFloat(e):e}return Tt(i)?ko(i,t,n+1):i}function Eo(e,t,n){let r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n=Re({},n)),e.values.forEach(e=>{const t=e.get();if(!Tt(t))return;const n=ko(t,i);n&&e.set(n)});for(const s in r){const e=r[s];if(!Tt(e))continue;const t=ko(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}const So=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),To=e=>So.has(e),No=e=>e===Ct||e===Ft,_o=(e,t)=>parseFloat(e.split(", ")[t]),Co=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return _o(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?_o(t[1],e):0}},Io=new Set(["x","y","z"]),jo=yt.filter(e=>!Io.has(e));const Ao={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:Co(4,13),y:Co(5,14)};Ao.translateX=Ao.x,Ao.translateY=Ao.y;const Po=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Re({},t),r=Re({},r);const i=Object.keys(t).filter(To);let s=[],a=!1;const o=[];if(i.forEach(i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=ns(c);const d=t[i];let h;if(yn(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=ns(c);for(let n=t;n<e&&null!==d[n];n++)h?ir(ns(d[n])===h,"All keyframes must be of the same type"):(h=ns(d[n]),ir(h===u||No(u)&&No(h),"Keyframes must be of the same dimension as the current value"))}else h=ns(d);if(u!==h)if(No(u)&&No(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[i]=parseFloat(d):Array.isArray(d)&&h===Ft&&(t[i]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[i]=u.transform(d):(a||(s=function(e){const t=[];return jo.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),a=!0),o.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(d))}),o.length){const n=o.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:a}=s,o={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{o[e]=Ao[e](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(o[n]),e[n]=Ao[n](l,s)}),e})(t,e,o);return s.length&&s.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),Ge&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function Ro(e,t,n,r){return(e=>Object.keys(e).some(To))(t)?Po(e,t,n,r):{target:t,transitionEnd:r}}const Do={current:null},Oo={current:!1};const Lo=new WeakMap,Mo=["willChange"],Vo=["children"],Fo=Object.keys(ot),Uo=Fo.length,zo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Bo=tt.length;class Ho{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Nn.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget=Re({},o),this.initialValues=n.initial?Re({},o):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=nt(n),this.isVariantNode=rt(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(n,{}),{willChange:u}=c,d=De(c,Mo);for(const h in d){const e=d[h];void 0!==o[h]&&xt(e)&&(e.set(o[h],!1),Gi(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Lo.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Oo.current||function(){if(Oo.current=!0,Ge)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Do.current=e.matches;e.addListener(t),t()}else Do.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Do.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Lo.delete(this.current),this.projection&&this.projection.unmount(),_n(this.notifyUpdate),_n(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=vt.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Nn.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,s,{children:a}=e,o=De(e,Vo);for(let l=0;l<Uo;l++){const e=Fo[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=ot[e];r&&(i=r),t(o)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(s=a))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:a,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&Xe(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<zo.length;n++){const t=zo[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],a=n[i];if(xt(s))e.addValue(i,s),Gi(r)&&r.add(i);else if(xt(a))e.addValue(i,Zi(s,{owner:e})),Gi(r)&&r.remove(i);else if(a!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,Zi(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Bo;t++){const n=tt[t],r=this.props[n];(Je(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Zi(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=mn(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||xt(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new $i),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const qo=["transition","transitionEnd"];class Wo extends Ho{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i}=e,s=De(e,qo),{transformValues:a}=t,o=function(e,t,n){const r={};for(const i in e){const e=ls(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(s,r||{},this);if(a&&(i&&(i=a(i)),s&&(s=a(s)),o&&(o=a(o))),n){!function(e,t,n){var r,i;const s=Object.keys(t).filter(t=>!e.hasValue(t)),a=s.length;if(a)for(let o=0;o<a;o++){const a=s[o],l=t[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),void 0!==c&&null!==c&&("string"===typeof c&&(Ki(c)||Ui(c))?c=parseFloat(c):!is(c)&&Yr.test(l)&&(c=Fi(a,l)),e.addValue(a,Zi(c,{owner:e})),void 0===n[a]&&(n[a]=c),null!==c&&e.setBaseTarget(a,c))}}(this,s,o);const e=((e,t,n,r)=>{const i=Eo(e,t,r);return Ro(e,t=i.target,n,r=i.transitionEnd)})(this,s,o,i);i=e.transitionEnd,s=e.target}return Re({transition:r,transitionEnd:i},s)}}class Go extends Wo{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(vt.has(t)){const e=Vi(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(St(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return la(e,n)}build(e,t,n,r){Wt(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return fn(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xt(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,n,r){un(e,t,n,r)}}class Ko extends Wo{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(vt.has(t)){const e=Vi(t);return e&&e.default||0}return t=dn.has(t)?t:Ye(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return pn(e,t)}build(e,t,n,r){sn(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){hn(e,t,0,r)}mount(e){this.isSVGTag=on(e.tagName),super.mount(e)}}const Qo=(e,t)=>mt(e)?new Ko(t,{enableHardwareAcceleration:!1}):new Go(t,{enableHardwareAcceleration:!0}),Yo={layout:{ProjectionNode:bo,MeasureLayout:ba}},$o=Re(Re(Re(Re({},Es),er),xo),Yo),Xo=ft((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return Re(Re({},mt(e)?jn:An),{},{preloadedFeatures:n,useRender:cn(i),createVisualElement:r,Component:e})}(e,t,$o,Qo));function Jo(){const e=(0,t.useRef)(!1);return Ke(()=>(e.current=!0,()=>{e.current=!1}),[]),e}class Zo extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function el(e){let{children:n,isPresent:r}=e;const i=(0,t.useId)(),s=(0,t.useRef)(null),a=(0,t.useRef)({width:0,height:0,top:0,left:0});return(0,t.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:o}=a.current;if(r||!s.current||!e||!t)return;s.current.dataset.motionPopId=i;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[r]),t.createElement(Zo,{isPresent:r,childRef:s,sizeRef:a},t.cloneElement(n,{ref:s}))}const tl=e=>{let{children:n,initial:r,isPresent:i,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:l}=e;const c=gn(nl),u=(0,t.useId)(),d=(0,t.useMemo)(()=>({id:u,initial:r,isPresent:i,custom:a,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;s&&s()},register:e=>(c.set(e,!1),()=>c.delete(e))}),o?void 0:[i]);return(0,t.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[i]),t.useEffect(()=>{!i&&!c.size&&s&&s()},[i]),"popLayout"===l&&(n=t.createElement(el,{isPresent:i},n)),t.createElement(We.Provider,{value:d},n)};function nl(){return new Map}const rl=e=>e.key||"";const il=e=>{let{children:n,custom:r,initial:i=!0,onExitComplete:s,exitBeforeEnter:a,presenceAffectsLayout:o=!0,mode:l="sync"}=e;ir(!a,"Replace exitBeforeEnter with mode='wait'");const c=(0,t.useContext)(lt).forceRender||function(){const e=Jo(),[n,r]=(0,t.useState)(0),i=(0,t.useCallback)(()=>{e.current&&r(n+1)},[n]);return[(0,t.useCallback)(()=>Nn.postRender(i),[i]),n]}()[0],u=Jo(),d=function(e){const n=[];return t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&n.push(e)}),n}(n);let h=d;const f=(0,t.useRef)(new Map).current,p=(0,t.useRef)(h),m=(0,t.useRef)(new Map).current,g=(0,t.useRef)(!0);var y;if(Ke(()=>{g.current=!1,function(e,t){e.forEach(e=>{const n=rl(e);t.set(n,e)})}(d,m),p.current=h}),y=()=>{g.current=!0,m.clear(),f.clear()},(0,t.useEffect)(()=>()=>y(),[]),g.current)return t.createElement(t.Fragment,null,h.map(e=>t.createElement(tl,{key:rl(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:o,mode:l},e)));h=[...h];const v=p.current.map(rl),b=d.map(rl),x=v.length;for(let t=0;t<x;t++){const e=v[t];-1!==b.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===l&&f.size&&(h=[]),f.forEach((e,n)=>{if(-1!==b.indexOf(n))return;const i=m.get(n);if(!i)return;const a=v.indexOf(n);let g=e;if(!g){const e=()=>{f.delete(n);const e=Array.from(m.keys()).filter(e=>!b.includes(e));if(e.forEach(e=>m.delete(e)),p.current=d.filter(t=>{const r=rl(t);return r===n||e.includes(r)}),!f.size){if(!1===u.current)return;c(),s&&s()}};g=t.createElement(tl,{key:rl(i),isPresent:!1,onExitComplete:e,custom:r,presenceAffectsLayout:o,mode:l},i),f.set(n,g)}h.splice(a,0,g)}),h=h.map(e=>{const n=e.key;return f.has(n)?e:t.createElement(tl,{key:rl(e),isPresent:!0,presenceAffectsLayout:o,mode:l},e)}),t.createElement(t.Fragment,null,f.size?h:h.map(e=>(0,t.cloneElement)(e)))};var sl=n(579);const al=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=()=>{i(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const s=[{name:"Ana Sayfa",href:"#home"},{name:"Hakk\u0131m\u0131zda",href:"#about"},{name:"Hizmetler",href:"#services"},{name:"\xd6\u011fretmenler",href:"#teachers"},{name:"\u0130leti\u015fim",href:"#contact"}],a=e=>{const t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth"}),n(!1)};return(0,sl.jsx)("nav",{className:"fixed w-full z-50 transition-all duration-300 ".concat(r?"bg-white/95 backdrop-blur-md shadow-lg":"bg-transparent"),children:(0,sl.jsxs)("div",{className:"container-custom",children:[(0,sl.jsxs)("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[(0,sl.jsxs)(Xo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center space-x-2",children:[(0,sl.jsx)("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(Ve,{className:"w-6 h-6 text-white"})}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("h1",{className:"text-xl lg:text-2xl font-bold text-gradient",children:"Nora Akademi"}),(0,sl.jsx)("p",{className:"text-xs text-secondary-500 hidden sm:block",children:"Profesyonel Matematik E\u011fitimi"})]})]}),(0,sl.jsx)("div",{className:"hidden lg:flex items-center space-x-8",children:s.map((e,t)=>(0,sl.jsxs)(Xo.button,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1*t},onClick:()=>a(e.href),className:"text-secondary-700 hover:text-primary-600 font-medium transition-colors duration-200 relative group",children:[e.name,(0,sl.jsx)("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-primary-600 transition-all duration-300 group-hover:w-full"})]},e.name))}),(0,sl.jsxs)("div",{className:"hidden lg:flex items-center space-x-4",children:[(0,sl.jsxs)("div",{className:"flex items-center space-x-2 text-secondary-600",children:[(0,sl.jsx)(Fe,{className:"w-4 h-4"}),(0,sl.jsx)("span",{className:"text-sm",children:"noracademy1@gmail.com"})]}),(0,sl.jsx)("button",{className:"btn-primary",onClick:()=>{const e=document.getElementById("contact");e&&e.scrollIntoView({behavior:"smooth"})},children:"\xdccretsiz Dan\u0131\u015fmanl\u0131k"}),(0,sl.jsxs)(Ne,{to:"/login",className:"flex items-center space-x-2 text-secondary-600 hover:text-primary-600 transition-colors duration-200",children:[(0,sl.jsx)(Ue,{className:"w-4 h-4"}),(0,sl.jsx)("span",{className:"text-sm font-medium",children:"Giri\u015f Yap"})]})]}),(0,sl.jsx)("button",{onClick:()=>n(!e),className:"lg:hidden p-2 rounded-lg hover:bg-secondary-100 transition-colors duration-200",children:e?(0,sl.jsx)(ze,{className:"w-6 h-6 text-secondary-700"}):(0,sl.jsx)(Be,{className:"w-6 h-6 text-secondary-700"})})]}),(0,sl.jsx)(il,{children:e&&(0,sl.jsx)(Xo.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden bg-white border-t border-secondary-200",children:(0,sl.jsxs)("div",{className:"py-4 space-y-2",children:[s.map(e=>(0,sl.jsx)("button",{onClick:()=>a(e.href),className:"block w-full text-left px-4 py-3 text-secondary-700 hover:text-primary-600 hover:bg-secondary-50 font-medium transition-colors duration-200",children:e.name},e.name)),(0,sl.jsxs)("div",{className:"px-4 py-3 border-t border-secondary-200",children:[(0,sl.jsxs)("div",{className:"flex items-center space-x-2 text-secondary-600 mb-4",children:[(0,sl.jsx)(Fe,{className:"w-4 h-4"}),(0,sl.jsx)("span",{className:"text-sm",children:"noracademy1@gmail.com"})]}),(0,sl.jsx)("button",{className:"w-full btn-primary mb-3",onClick:()=>{const e=document.getElementById("contact");e&&e.scrollIntoView({behavior:"smooth"})},children:"\xdccretsiz Dan\u0131\u015fmanl\u0131k"}),(0,sl.jsxs)(Ne,{to:"/login",className:"flex items-center justify-center space-x-2 text-secondary-600 hover:text-primary-600 transition-colors duration-200 py-2",children:[(0,sl.jsx)(Ue,{className:"w-4 h-4"}),(0,sl.jsx)("span",{className:"text-sm font-medium",children:"Giri\u015f Yap"})]})]})]})})})]})})},ol=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ll=Me("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),cl=Me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ul=Me("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),dl=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),hl=Me("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),fl=()=>{const e=[{icon:ol,number:"50+",label:"\xd6\u011frenci"},{icon:ll,number:"8+",label:"Y\u0131l Deneyim"},{icon:cl,number:"98%",label:"Ba\u015far\u0131 Oran\u0131"},{icon:ul,number:"1000+",label:"Ders Saati"}];return(0,sl.jsxs)("section",{id:"home",className:"relative min-h-screen flex items-center bg-gradient-primary overflow-hidden",children:[(0,sl.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,sl.jsx)("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary-300 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),(0,sl.jsx)("div",{className:"absolute top-40 right-10 w-72 h-72 bg-primary-400 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-2000"}),(0,sl.jsx)("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-primary-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-4000"})]}),(0,sl.jsx)("div",{className:"container-custom relative z-10",children:(0,sl.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[(0,sl.jsxs)(Xo.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"text-center lg:text-left",children:[(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"inline-flex items-center px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-medium mb-6",children:[(0,sl.jsx)(cl,{className:"w-4 h-4 mr-2 fill-current"}),"Nora Akademi - Kaliteli Matematik E\u011fitimi"]}),(0,sl.jsxs)(Xo.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-4xl lg:text-6xl font-bold text-secondary-900 mb-6 leading-tight",children:["Matematik Art\u0131k"," ",(0,sl.jsx)("span",{className:"text-gradient",children:"Kolay!"})]}),(0,sl.jsx)(Xo.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-lg lg:text-xl text-secondary-600 mb-8 max-w-lg mx-auto lg:mx-0",children:"Deneyimli \xf6\u011fretmenlerimizle matematik korkunuzu yenin. Modern e\u011fitim y\xf6ntemleriyle ba\u015far\u0131ya ula\u015f\u0131n."}),(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[(0,sl.jsxs)("button",{className:"btn-primary group",onClick:()=>{const e=document.getElementById("contact");e&&e.scrollIntoView({behavior:"smooth"})},children:["\xdccretsiz Deneme Dersi",(0,sl.jsx)(dl,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-200"})]}),(0,sl.jsxs)("button",{className:"btn-secondary group",onClick:()=>{alert("Tan\u0131t\u0131m videosu yak\u0131nda eklenecek!")},children:[(0,sl.jsx)(hl,{className:"w-5 h-5 mr-2"}),"Tan\u0131t\u0131m Videosu"]})]}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mt-12",children:e.map((e,t)=>(0,sl.jsxs)("div",{className:"text-center",children:[(0,sl.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-primary-100 rounded-lg mx-auto mb-3",children:(0,sl.jsx)(e.icon,{className:"w-6 h-6 text-primary-600"})}),(0,sl.jsx)("div",{className:"text-2xl font-bold text-secondary-900",children:e.number}),(0,sl.jsx)("div",{className:"text-sm text-secondary-600",children:e.label})]},t))})]}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"relative",children:(0,sl.jsxs)("div",{className:"relative",children:[(0,sl.jsx)("div",{className:"bg-gradient-to-br from-primary-400 to-primary-600 rounded-2xl p-8 lg:p-12 shadow-2xl",children:(0,sl.jsxs)("div",{className:"text-center text-white",children:[(0,sl.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Uzman \xd6\u011fretmenlerimiz"}),(0,sl.jsxs)("div",{className:"flex justify-center space-x-4 mb-6",children:[(0,sl.jsxs)("div",{className:"relative",children:[(0,sl.jsxs)("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-white shadow-lg",children:[(0,sl.jsx)("img",{src:"/images/ayse-buz.jpg",alt:"Ay\u015fe BUZ",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,sl.jsx)("div",{className:"w-full h-full bg-white/20 flex items-center justify-center text-2xl",style:{display:"none"},children:"\ud83d\udc69\u200d\ud83c\udfeb"})]}),(0,sl.jsx)("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-white"})]}),(0,sl.jsxs)("div",{className:"relative",children:[(0,sl.jsxs)("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-white shadow-lg",children:[(0,sl.jsx)("img",{src:"/images/ecem-cam.jpg",alt:"Ecem \xc7AM",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,sl.jsx)("div",{className:"w-full h-full bg-white/20 flex items-center justify-center text-2xl",style:{display:"none"},children:"\ud83d\udc68\u200d\ud83c\udfeb"})]}),(0,sl.jsx)("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-white"})]})]}),(0,sl.jsx)("p",{className:"text-primary-100 mb-6",children:"Deneyimli \xf6\u011fretmenlerimizle matematik \xf6\u011frenmek art\u0131k \xe7ok kolay!"}),(0,sl.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,sl.jsxs)("div",{className:"text-center",children:[(0,sl.jsx)("div",{className:"text-2xl font-bold",children:"8+"}),(0,sl.jsx)("div",{className:"text-sm text-primary-100",children:"Y\u0131l Toplam Deneyim"})]}),(0,sl.jsxs)("div",{className:"text-center",children:[(0,sl.jsx)("div",{className:"text-2xl font-bold",children:"50+"}),(0,sl.jsx)("div",{className:"text-sm text-primary-100",children:"Ba\u015far\u0131l\u0131 \xd6\u011frenci"})]})]})]})}),(0,sl.jsx)(Xo.div,{animate:{y:[-10,10,-10]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-4 -left-4 bg-white rounded-lg p-3 shadow-lg",children:(0,sl.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sl.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,sl.jsx)("span",{className:"text-sm font-medium text-secondary-700",children:"Canl\u0131 Ders"})]})}),(0,sl.jsx)(Xo.div,{animate:{y:[10,-10,10]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute -bottom-4 -right-4 bg-white rounded-lg p-3 shadow-lg",children:(0,sl.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sl.jsx)(cl,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,sl.jsx)("span",{className:"text-sm font-medium text-secondary-700",children:"5.0 Puan"})]})})]})})]})}),(0,sl.jsx)(Xo.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:.6},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:(0,sl.jsx)(Xo.div,{animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-6 h-10 border-2 border-secondary-400 rounded-full flex justify-center",children:(0,sl.jsx)("div",{className:"w-1 h-3 bg-secondary-400 rounded-full mt-2"})})})]})},pl=Me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ml=Me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),gl=Me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),yl=()=>{const e=[{icon:pl,title:"Hedef Odakl\u0131 E\u011fitim",description:"Her \xf6\u011frencinin hedeflerine uygun ki\u015fiselle\u015ftirilmi\u015f e\u011fitim programlar\u0131"},{icon:ol,title:"Deneyimli \xd6\u011fretmenler",description:"8+ y\u0131l deneyime sahip uzman matematik \xf6\u011fretmenleri"},{icon:ul,title:"Modern M\xfcfredat",description:"G\xfcncel e\u011fitim programlar\u0131 ve teknolojik destekli \xf6\u011fretim y\xf6ntemleri"},{icon:ml,title:"\xd6\u011frenci Odakl\u0131",description:"Her \xf6\u011frencinin \xf6\u011frenme stilini dikkate alan yakla\u015f\u0131m"}];return(0,sl.jsx)("section",{id:"about",className:"section-padding bg-white",children:(0,sl.jsx)("div",{className:"container-custom",children:(0,sl.jsxs)("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[(0,sl.jsxs)(Xo.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[(0,sl.jsxs)("div",{className:"inline-flex items-center px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-medium mb-6",children:[(0,sl.jsx)(ll,{className:"w-4 h-4 mr-2"}),"Hakk\u0131m\u0131zda"]}),(0,sl.jsxs)("h2",{className:"text-3xl lg:text-4xl font-bold text-secondary-900 mb-6",children:["Matematik \xd6\u011fretiminde"," ",(0,sl.jsx)("span",{className:"text-gradient",children:"Uzmanl\u0131k"})]}),(0,sl.jsx)("p",{className:"text-lg text-secondary-600 mb-8 leading-relaxed",children:"8 y\u0131ll\u0131k deneyimimizle, matematik \xf6\u011fretiminde g\xfcvenilir e\u011fitim kurumlar\u0131ndan biriyiz. Modern e\u011fitim y\xf6ntemleri ve teknolojik destekle \xf6\u011frencilerimizin matematik korkusunu yenmelerine yard\u0131mc\u0131 oluyoruz."}),(0,sl.jsx)("p",{className:"text-lg text-secondary-600 mb-8 leading-relaxed",children:"Her \xf6\u011frencinin farkl\u0131 \xf6\u011frenme stili oldu\u011funa inan\u0131yor ve buna g\xf6re ki\u015fiselle\u015ftirilmi\u015f e\u011fitim programlar\u0131 haz\u0131rl\u0131yoruz. Amac\u0131m\u0131z sadece matematik \xf6\u011fretmek de\u011fil, matemati\u011fi sevdirmek."}),(0,sl.jsx)("div",{className:"grid sm:grid-cols-2 gap-6",children:e.map((e,t)=>(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t,duration:.6},className:"flex items-start space-x-3",children:[(0,sl.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(e.icon,{className:"w-5 h-5 text-primary-600"})}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("h3",{className:"font-semibold text-secondary-900 mb-1",children:e.title}),(0,sl.jsx)("p",{className:"text-sm text-secondary-600",children:e.description})]})]},t))})]}),(0,sl.jsxs)(Xo.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"relative",children:[(0,sl.jsxs)("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-2xl p-8 lg:p-12 relative overflow-hidden",children:[(0,sl.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary-200 rounded-full -translate-y-16 translate-x-16 opacity-50"}),(0,sl.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-primary-300 rounded-full translate-y-12 -translate-x-12 opacity-50"}),(0,sl.jsxs)("div",{className:"relative z-10",children:[(0,sl.jsx)("h3",{className:"text-2xl font-bold text-secondary-900 mb-6",children:"Uzman \xd6\u011fretmenlerimiz"}),(0,sl.jsxs)("div",{className:"flex justify-center space-x-4 mb-6",children:[(0,sl.jsxs)("div",{className:"text-center",children:[(0,sl.jsxs)("div",{className:"w-20 h-20 rounded-full overflow-hidden border-4 border-white shadow-lg mx-auto mb-2",children:[(0,sl.jsx)("img",{src:"/images/ayse-buz.jpg",alt:"Ay\u015fe BUZ",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,sl.jsx)("div",{className:"w-full h-full bg-primary-200 flex items-center justify-center text-3xl",style:{display:"none"},children:"\ud83d\udc69\u200d\ud83c\udfeb"})]}),(0,sl.jsx)("p",{className:"text-sm font-medium text-secondary-700",children:"Ay\u015fe BUZ"}),(0,sl.jsx)("p",{className:"text-xs text-secondary-500",children:"4 Y\u0131l Deneyim"})]}),(0,sl.jsxs)("div",{className:"text-center",children:[(0,sl.jsxs)("div",{className:"w-20 h-20 rounded-full overflow-hidden border-4 border-white shadow-lg mx-auto mb-2",children:[(0,sl.jsx)("img",{src:"/images/ecem-cam.jpg",alt:"Ecem \xc7AM",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,sl.jsx)("div",{className:"w-full h-full bg-primary-200 flex items-center justify-center text-3xl",style:{display:"none"},children:"\ud83d\udc68\u200d\ud83c\udfeb"})]}),(0,sl.jsx)("p",{className:"text-sm font-medium text-secondary-700",children:"Ecem \xc7AM"}),(0,sl.jsx)("p",{className:"text-xs text-secondary-500",children:"4 Y\u0131l Deneyim"})]})]}),(0,sl.jsx)("h3",{className:"text-xl font-bold text-secondary-900 mb-6",children:"Neden Bizi Se\xe7melisiniz?"}),(0,sl.jsxs)("div",{className:"space-y-6",children:[(0,sl.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,sl.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:(0,sl.jsx)(gl,{className:"w-5 h-5 text-white"})}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("h4",{className:"font-semibold text-secondary-900 mb-2",children:"Ki\u015fiselle\u015ftirilmi\u015f E\u011fitim"}),(0,sl.jsx)("p",{className:"text-secondary-600",children:"Her \xf6\u011frencinin seviyesine ve \xf6\u011frenme h\u0131z\u0131na uygun programlar"})]})]}),(0,sl.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,sl.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:(0,sl.jsx)(gl,{className:"w-5 h-5 text-white"})}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("h4",{className:"font-semibold text-secondary-900 mb-2",children:"Modern Teknoloji"}),(0,sl.jsx)("p",{className:"text-secondary-600",children:"\u0130nteraktif ara\xe7lar ve dijital platformlarla destekli e\u011fitim"})]})]}),(0,sl.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,sl.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:(0,sl.jsx)(gl,{className:"w-5 h-5 text-white"})}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("h4",{className:"font-semibold text-secondary-900 mb-2",children:"S\xfcrekli Destek"}),(0,sl.jsx)("p",{className:"text-secondary-600",children:"Ders d\u0131\u015f\u0131nda da \xf6\u011frencilerimize destek sa\u011fl\u0131yoruz"})]})]})]}),(0,sl.jsx)("div",{className:"grid grid-cols-2 gap-6 mt-8 pt-8 border-t border-primary-200",children:[{number:"50+",label:"Ba\u015far\u0131l\u0131 \xd6\u011frenci"},{number:"8+",label:"Y\u0131l Deneyim"},{number:"98%",label:"Ba\u015far\u0131 Oran\u0131"},{number:"1000+",label:"Tamamlanan Ders"}].map((e,t)=>(0,sl.jsxs)(Xo.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.1*t,duration:.5},className:"text-center",children:[(0,sl.jsx)("div",{className:"text-2xl lg:text-3xl font-bold text-primary-600",children:e.number}),(0,sl.jsx)("div",{className:"text-sm text-secondary-600",children:e.label})]},t))})]})]}),(0,sl.jsx)(Xo.div,{animate:{y:[-10,10,-10]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-4 -left-4 bg-white rounded-lg p-4 shadow-lg",children:(0,sl.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sl.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,sl.jsx)("span",{className:"text-sm font-medium text-secondary-700",children:"Online Ders"})]})}),(0,sl.jsx)(Xo.div,{animate:{y:[10,-10,10]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute -bottom-4 -right-4 bg-white rounded-lg p-4 shadow-lg",children:(0,sl.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sl.jsx)(cl,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,sl.jsx)("span",{className:"text-sm font-medium text-secondary-700",children:"4.9/5 Puan"})]})})]})]})})})},vl=Me("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),bl=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),xl=()=>{const e=[{icon:ol,title:"Birebir \xd6zel Ders",description:"\xd6\u011frencinin seviyesine uygun ki\u015fiselle\u015ftirilmi\u015f birebir matematik dersleri",features:["Ki\u015fisel \xf6\u011frenme plan\u0131","Esnek program","S\xfcrekli geri bildirim","\u0130lerleme takibi"],price:"\u20ba950",duration:"60 dk",popular:!1},{icon:ol,title:"Grup Dersleri",description:"K\xfc\xe7\xfck gruplarda etkile\u015fimli matematik \xf6\u011frenimi",features:["Maksimum 6 \xf6\u011frenci","Uygun fiyat","Akran \xf6\u011frenmesi","Sosyal etkile\u015fim"],price:"\u20ba350(ki\u015fi ba\u015f\u0131)",duration:"60 dk",popular:!0},{icon:vl,title:"Online Dersler",description:"Teknolojik ara\xe7larla uzaktan matematik e\u011fitimi",features:["Canl\u0131 video ders","\u0130nteraktif ara\xe7lar","Kay\u0131t imkan\u0131","7/24 eri\u015fim"],price:"\u20ba450",duration:"60 dk",popular:!1},{icon:pl,title:"S\u0131nav Haz\u0131rl\u0131\u011f\u0131",description:"LGS, YKS ve di\u011fer s\u0131navlara \xf6zel haz\u0131rl\u0131k programlar\u0131",features:["S\u0131nav odakl\u0131 m\xfcfredat","Deneme s\u0131navlar\u0131","Strateji e\u011fitimi","Motivasyon deste\u011fi"],price:"\u20ba350",duration:"30 dk",popular:!1}],t=[{icon:ll,title:"Uzman \xd6\u011fretmenler",description:"10+ y\u0131l deneyime sahip uzman matematik \xf6\u011fretmenleri"},{icon:bl,title:"Esnek Program",description:"\xd6\u011frencinin program\u0131na uygun esnek ders saatleri"},{icon:gl,title:"Garantili Ba\u015far\u0131",description:"Ba\u015far\u0131 garantisi ile \xf6\u011frenci memnuniyeti odakl\u0131 e\u011fitim"},{icon:cl,title:"Modern Y\xf6ntemler",description:"G\xfcncel e\u011fitim teknolojileri ve interaktif \xf6\u011fretim y\xf6ntemleri"}];return(0,sl.jsx)("section",{id:"services",className:"section-padding bg-gradient-primary",children:(0,sl.jsxs)("div",{className:"container-custom",children:[(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[(0,sl.jsxs)("div",{className:"inline-flex items-center px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-medium mb-6",children:[(0,sl.jsx)(ul,{className:"w-4 h-4 mr-2"}),"Hizmetlerimiz"]}),(0,sl.jsxs)("h2",{className:"text-3xl lg:text-4xl font-bold text-secondary-900 mb-6",children:["Size \xd6zel"," ",(0,sl.jsx)("span",{className:"text-gradient",children:"Matematik E\u011fitimi"})]}),(0,sl.jsx)("p",{className:"text-lg text-secondary-600 max-w-3xl mx-auto",children:"Her \xf6\u011frencinin ihtiyac\u0131na uygun farkl\u0131 e\u011fitim se\xe7enekleri sunuyoruz. Birebir derslerden grup derslerine, online e\u011fitimden s\u0131nav haz\u0131rl\u0131\u011f\u0131na kadar t\xfcm matematik e\u011fitim ihtiya\xe7lar\u0131n\u0131z i\xe7in yan\u0131n\u0131zday\u0131z."})]}),(0,sl.jsx)("div",{className:"grid lg:grid-cols-2 xl:grid-cols-4 gap-8 mb-16",children:e.map((e,t)=>(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t,duration:.6},className:"card relative ".concat(e.popular?"ring-2 ring-primary-500":""),children:[e.popular&&(0,sl.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,sl.jsx)("span",{className:"bg-primary-600 text-white px-4 py-1 rounded-full text-sm font-medium",children:"En Pop\xfcler"})}),(0,sl.jsxs)("div",{className:"text-center mb-6",children:[(0,sl.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:(0,sl.jsx)(e.icon,{className:"w-8 h-8 text-primary-600"})}),(0,sl.jsx)("h3",{className:"text-xl font-bold text-secondary-900 mb-2",children:e.title}),(0,sl.jsx)("p",{className:"text-secondary-600 mb-4",children:e.description})]}),(0,sl.jsx)("div",{className:"space-y-3 mb-6",children:e.features.map((e,t)=>(0,sl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sl.jsx)(gl,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),(0,sl.jsx)("span",{className:"text-sm text-secondary-700",children:e})]},t))}),(0,sl.jsx)("div",{className:"border-t border-secondary-200 pt-6",children:(0,sl.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:e.price}),(0,sl.jsxs)("div",{className:"text-sm text-secondary-600",children:["/ ",e.duration]})]}),(0,sl.jsxs)("button",{className:"btn-primary group",onClick:()=>{const e=document.getElementById("contact");e&&e.scrollIntoView({behavior:"smooth"})},children:["Ba\u015fla",(0,sl.jsx)(dl,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform duration-200"})]})]})})]},t))}),(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"bg-white rounded-2xl p-8 lg:p-12 shadow-xl",children:[(0,sl.jsxs)("div",{className:"text-center mb-12",children:[(0,sl.jsx)("h3",{className:"text-2xl lg:text-3xl font-bold text-secondary-900 mb-4",children:"Neden Bizi Tercih Etmelisiniz?"}),(0,sl.jsx)("p",{className:"text-lg text-secondary-600",children:"Kaliteli e\u011fitim ve \xf6\u011frenci memnuniyeti odakl\u0131 yakla\u015f\u0131m\u0131m\u0131zla fark yarat\u0131yoruz"})]}),(0,sl.jsx)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,t)=>(0,sl.jsxs)(Xo.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.1*t,duration:.5},className:"text-center",children:[(0,sl.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:(0,sl.jsx)(e.icon,{className:"w-8 h-8 text-primary-600"})}),(0,sl.jsx)("h4",{className:"text-lg font-semibold text-secondary-900 mb-2",children:e.title}),(0,sl.jsx)("p",{className:"text-secondary-600",children:e.description})]},t))})]})]})})},wl=Me("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),kl=()=>(0,sl.jsx)("section",{id:"teachers",className:"section-padding bg-white",children:(0,sl.jsxs)("div",{className:"container-custom",children:[(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[(0,sl.jsxs)("div",{className:"inline-flex items-center px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-medium mb-6",children:[(0,sl.jsx)(ol,{className:"w-4 h-4 mr-2"}),"\xd6\u011fretmenlerimiz"]}),(0,sl.jsxs)("h2",{className:"text-3xl lg:text-4xl font-bold text-secondary-900 mb-6",children:["Uzman"," ",(0,sl.jsx)("span",{className:"text-gradient",children:"Matematik \xd6\u011fretmenleri"})]}),(0,sl.jsx)("p",{className:"text-lg text-secondary-600 max-w-3xl mx-auto",children:"Deneyimli ve uzman \xf6\u011fretmenlerimizle matematik \xf6\u011frenmek art\u0131k \xe7ok kolay. Her \xf6\u011fretmenimiz kendi alan\u0131nda uzmanla\u015fm\u0131\u015f ve \xf6\u011frenci ba\u015far\u0131s\u0131 odakl\u0131 \xe7al\u0131\u015fmaktad\u0131r."})]}),(0,sl.jsx)("div",{className:"grid lg:grid-cols-2 gap-12 mb-16",children:[{name:"Ay\u015fe BUZ",title:"Matematik \xd6\u011fretmeni",experience:"4 y\u0131l",expertise:["LGS Haz\u0131rl\u0131k","YKS Matematik","\u0130lkokul Matematik","Ortaokul Matematik"],education:"Matematik \xd6\u011fretmenli\u011fi - F\u0131rat \xdcniversitesi",description:"4 y\u0131ll\u0131k deneyimiyle \xf6\u011frencilerin matematik korkusunu yenmelerine yard\u0131mc\u0131 olan uzman \xf6\u011fretmen. Modern e\u011fitim y\xf6ntemleri ve sab\u0131rl\u0131 yakla\u015f\u0131m\u0131yla tan\u0131n\u0131r.",rating:4.9,students:50,image:"/images/ayse-buz.jpg",contact:{email:"noracademy1@gmail.com"}},{name:"Ecem \xc7AM",title:"Matematik \xd6\u011fretmeni",experience:"4 y\u0131l",expertise:["LGS Haz\u0131rl\u0131k","YKS Matematik","\u0130lkokul Matematik","Ortaokul Matematik"],education:"Matematik \xd6\u011fretmenli\u011fi - F\u0131rat \xdcniversitesi",description:"4 y\u0131ll\u0131k deneyimiyle \xf6zellikle s\u0131nav haz\u0131rl\u0131\u011f\u0131 konusunda uzmanla\u015fm\u0131\u015f \xf6\u011fretmen. \xd6\u011frencilerinin %95'inin hedeflerine ula\u015fmas\u0131n\u0131 sa\u011flam\u0131\u015ft\u0131r.",rating:4.9,students:51,image:"/images/ecem-cam.jpg",contact:{email:"noracademy1@gmail.com"}}].map((e,t)=>(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2*t,duration:.6},className:"card group hover:shadow-2xl transition-all duration-300",children:(0,sl.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,sl.jsx)("div",{className:"flex-shrink-0",children:(0,sl.jsxs)("div",{className:"w-32 h-32 rounded-2xl shadow-lg group-hover:scale-105 transition-transform duration-300 overflow-hidden",children:[(0,sl.jsx)("img",{src:e.image,alt:"".concat(e.name," - ").concat(e.title),className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,sl.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-6xl",style:{display:"none"},children:e.name.includes("Ay\u015fe")?"\ud83d\udc69\u200d\ud83c\udfeb":"\ud83d\udc68\u200d\ud83c\udfeb"})]})}),(0,sl.jsxs)("div",{className:"flex-1",children:[(0,sl.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("h3",{className:"text-2xl font-bold text-secondary-900 mb-1",children:e.name}),(0,sl.jsx)("p",{className:"text-primary-600 font-medium",children:e.title})]}),(0,sl.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,sl.jsx)(cl,{className:"w-5 h-5 text-yellow-500 fill-current"}),(0,sl.jsx)("span",{className:"font-semibold text-secondary-900",children:e.rating})]})]}),(0,sl.jsx)("p",{className:"text-secondary-600 mb-4 leading-relaxed",children:e.description}),(0,sl.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,sl.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sl.jsx)(ll,{className:"w-4 h-4 text-primary-600"}),(0,sl.jsxs)("span",{className:"text-sm text-secondary-700",children:[(0,sl.jsx)("strong",{children:"Deneyim:"})," ",e.experience]})]}),(0,sl.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sl.jsx)(ul,{className:"w-4 h-4 text-primary-600"}),(0,sl.jsxs)("span",{className:"text-sm text-secondary-700",children:[(0,sl.jsx)("strong",{children:"E\u011fitim:"})," ",e.education]})]}),(0,sl.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,sl.jsx)(ol,{className:"w-4 h-4 text-primary-600"}),(0,sl.jsxs)("span",{className:"text-sm text-secondary-700",children:[(0,sl.jsx)("strong",{children:"\xd6\u011frenci:"})," ",e.students,"+"]})]})]}),(0,sl.jsxs)("div",{className:"mb-6",children:[(0,sl.jsx)("h4",{className:"font-semibold text-secondary-900 mb-3",children:"Uzmanl\u0131k Alanlar\u0131:"}),(0,sl.jsx)("div",{className:"flex flex-wrap gap-2",children:e.expertise.map((e,t)=>(0,sl.jsx)("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:e},t))})]}),(0,sl.jsx)("div",{className:"space-y-2",children:(0,sl.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-secondary-600",children:[(0,sl.jsx)(Fe,{className:"w-4 h-4"}),(0,sl.jsx)("span",{children:e.contact.email})]})})]})]})},t))}),(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-2xl p-8 lg:p-12 text-white mb-16",children:[(0,sl.jsxs)("div",{className:"text-center mb-8",children:[(0,sl.jsx)("h3",{className:"text-2xl lg:text-3xl font-bold mb-4",children:"Ba\u015far\u0131lar\u0131m\u0131z"}),(0,sl.jsx)("p",{className:"text-primary-100 text-lg",children:"Y\u0131llar\u0131n deneyimi ve \xf6\u011frenci odakl\u0131 yakla\u015f\u0131m\u0131m\u0131zla elde etti\u011fimiz sonu\xe7lar"})]}),(0,sl.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:[{number:"50+",label:"Ba\u015far\u0131l\u0131 \xd6\u011frenci"},{number:"8+",label:"Y\u0131l Toplam Deneyim"},{number:"96%",label:"Ba\u015far\u0131 Oran\u0131"},{number:"2000+",label:"Tamamlanan Ders"}].map((e,t)=>(0,sl.jsxs)(Xo.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.1*t,duration:.5},className:"text-center",children:[(0,sl.jsx)("div",{className:"text-3xl lg:text-4xl font-bold mb-2",children:e.number}),(0,sl.jsx)("div",{className:"text-primary-100",children:e.label})]},t))})]}),(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:[(0,sl.jsxs)("div",{className:"text-center mb-12",children:[(0,sl.jsx)("h3",{className:"text-2xl lg:text-3xl font-bold text-secondary-900 mb-4",children:"\xd6\u011frenci ve Veli Yorumlar\u0131"}),(0,sl.jsx)("p",{className:"text-lg text-secondary-600",children:"Ba\u015far\u0131lar\u0131m\u0131z\u0131n en b\xfcy\xfck kan\u0131t\u0131 \xf6\u011frencilerimizin ve velilerimizin yorumlar\u0131"})]}),(0,sl.jsx)("div",{className:"grid lg:grid-cols-3 gap-8",children:[{name:"Elif Kaya",grade:"12. S\u0131n\u0131f \xd6\u011frencisi",content:"Ay\u015fe \xf6\u011fretmenim sayesinde matematik korkumu yendim. YKS'de matematikten 35 net yapt\u0131m!",rating:5,teacher:"Ay\u015fe BUZ"},{name:"Ahmet \xd6zkan",grade:"8. S\u0131n\u0131f \xd6\u011frencisi",content:"Ecem \xf6\u011fretmenim \xe7ok sab\u0131rl\u0131 ve anlay\u0131\u015fl\u0131. LGS'de matematikten full \xe7ektim!",rating:5,teacher:"Ecem \xc7AM"},{name:"Zeynep Arslan",grade:"Veli",content:"K\u0131z\u0131m\u0131n matematik notlar\u0131 inan\u0131lmaz y\xfckseldi. \xd6\u011fretmenlerimiz ger\xe7ekten \xe7ok ba\u015far\u0131l\u0131.",rating:5,teacher:"Ay\u015fe BUZ"}].map((e,t)=>(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t,duration:.6},className:"card",children:[(0,sl.jsxs)("div",{className:"flex items-center mb-4",children:[(0,sl.jsx)(wl,{className:"w-8 h-8 text-primary-600 mr-3"}),(0,sl.jsx)("div",{className:"flex items-center space-x-1",children:[...Array(e.rating)].map((e,t)=>(0,sl.jsx)(cl,{className:"w-4 h-4 text-yellow-500 fill-current"},t))})]}),(0,sl.jsxs)("p",{className:"text-secondary-700 mb-4 leading-relaxed",children:['"',e.content,'"']}),(0,sl.jsxs)("div",{className:"border-t border-secondary-200 pt-4",children:[(0,sl.jsx)("div",{className:"font-semibold text-secondary-900",children:e.name}),(0,sl.jsx)("div",{className:"text-sm text-secondary-600",children:e.grade}),(0,sl.jsx)("div",{className:"text-sm text-primary-600 font-medium mt-1",children:e.teacher})]})]},t))})]})]})}),El=Me("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Sl=Me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var Tl=n(173),Nl=n.n(Tl),_l=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cl.apply(this,arguments)}function Il(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jl(e,t){return jl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jl(e,t)}var Al=function(e){var n,r;function i(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(Il(t)),t.handleErrored=t.handleErrored.bind(Il(t)),t.handleChange=t.handleChange.bind(Il(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(Il(t)),t}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,jl(n,r);var s=i.prototype;return s.getCaptchaFunction=function(e){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[e]:this.props.grecaptcha[e]:null},s.getValue=function(){var e=this.getCaptchaFunction("getResponse");return e&&void 0!==this._widgetId?e(this._widgetId):null},s.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},s.execute=function(){var e=this.getCaptchaFunction("execute");if(e&&void 0!==this._widgetId)return e(this._widgetId);this._executeRequested=!0},s.executeAsync=function(){var e=this;return new Promise(function(t,n){e.executionResolve=t,e.executionReject=n,e.execute()})},s.reset=function(){var e=this.getCaptchaFunction("reset");e&&void 0!==this._widgetId&&e(this._widgetId)},s.forceReset=function(){var e=this.getCaptchaFunction("reset");e&&e()},s.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},s.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},s.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.executionResolve&&(this.executionResolve(e),delete this.executionReject,delete this.executionResolve)},s.explicitRender=function(){var e=this.getCaptchaFunction("render");if(e&&void 0===this._widgetId){var t=document.createElement("div");this._widgetId=e(t,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(t)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},s.componentDidMount=function(){this.explicitRender()},s.componentDidUpdate=function(){this.explicitRender()},s.handleRecaptchaRef=function(e){this.captcha=e},s.render=function(){var e=this.props,n=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,e.isolated,function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_l));return t.createElement("div",Cl({},n,{ref:this.handleRecaptchaRef}))},i}(t.Component);Al.displayName="ReCAPTCHA",Al.propTypes={sitekey:Nl().string.isRequired,onChange:Nl().func,grecaptcha:Nl().object,theme:Nl().oneOf(["dark","light"]),type:Nl().oneOf(["image","audio"]),tabindex:Nl().number,onExpired:Nl().func,onErrored:Nl().func,size:Nl().oneOf(["compact","normal","invisible"]),stoken:Nl().string,hl:Nl().string,badge:Nl().oneOf(["bottomright","bottomleft","inline"]),isolated:Nl().bool},Al.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var Pl=n(219),Rl=n.n(Pl);function Dl(){return Dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}var Ol={},Ll=0;var Ml="onloadcallback";function Vl(){return"undefined"!==typeof window&&window.recaptchaOptions||{}}const Fl=(Ul=function(){var e=Vl(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+Ml+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+Ml+"&render=explicit"},zl=(zl={callbackName:Ml,globalName:"grecaptcha",attributes:Vl().nonce?{nonce:Vl().nonce}:{}})||{},function(e){var n=e.displayName||e.name||"Component",r=function(n){var r,i;function s(e,t){var r;return(r=n.call(this,e,t)||this).state={},r.__scriptURL="",r}i=n,(r=s).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var a=s.prototype;return a.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+Ll++),this.__scriptLoaderID},a.setupScriptURL=function(){return this.__scriptURL="function"===typeof Ul?Ul():Ul,this.__scriptURL},a.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)})},a.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=Ol[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[zl.callbackName]},a.componentDidMount=function(){var e=this,t=this.setupScriptURL(),n=this.asyncScriptLoaderGetScriptLoaderID(),r=zl,i=r.globalName,s=r.callbackName,a=r.scriptId;if(i&&"undefined"!==typeof window[i]&&(Ol[t]={loaded:!0,observers:{}}),Ol[t]){var o=Ol[t];return o&&(o.loaded||o.errored)?void this.asyncScriptLoaderHandleLoad(o):void(o.observers[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var l={};l[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)},Ol[t]={loaded:!1,observers:l};var c=document.createElement("script");for(var u in c.src=t,c.async=!0,zl.attributes)c.setAttribute(u,zl.attributes[u]);a&&(c.id=a);var d=function(e){if(Ol[t]){var n=Ol[t].observers;for(var r in n)e(n[r])&&delete n[r]}};s&&"undefined"!==typeof window&&(window[s]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),c.onload=function(){var e=Ol[t];e&&(e.loaded=!0,d(function(t){return!s&&(t(e),!0)}))},c.onerror=function(){var e=Ol[t];e&&(e.errored=!0,d(function(t){return t(e),!0}))},document.body.appendChild(c)},a.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===zl.removeOnUnmount)for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n+=1)t[n].src.indexOf(e)>-1&&t[n].parentNode&&t[n].parentNode.removeChild(t[n]);var r=Ol[e];r&&(delete r.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===zl.removeOnUnmount&&delete Ol[e])},a.render=function(){var n=zl.globalName,r=this.props,i=(r.asyncScriptOnLoad,r.forwardedRef),s=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,["asyncScriptOnLoad","forwardedRef"]);return n&&"undefined"!==typeof window&&(s[n]="undefined"!==typeof window[n]?window[n]:void 0),s.ref=i,(0,t.createElement)(e,s)},s}(t.Component),i=(0,t.forwardRef)(function(e,n){return(0,t.createElement)(r,Dl({},e,{forwardedRef:n}))});return i.displayName="AsyncScriptLoader("+n+")",i.propTypes={asyncScriptOnLoad:Nl().func},Rl()(i,e)})(Al);var Ul,zl;const Bl=Fl,Hl=()=>{const[e,n]=(0,t.useState)({name:"",email:"",phone:"",subject:"",message:""}),[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),c=e=>{const{name:t,value:r}=e.target;n(e=>Re(Re({},e),{},{[t]:r}))},u=[{icon:Fe,title:"E-posta",details:["noracademy1@gmail.com"],action:"E-posta G\xf6nder"},{icon:bl,title:"\xc7al\u0131\u015fma Saatleri",details:["Pazartesi - Cuma: 09:00 - 21:00","Cumartesi: 09:00 - 18:00"],action:"Randevu Al"}];return(0,sl.jsx)("section",{id:"contact",className:"section-padding bg-gradient-primary",children:(0,sl.jsxs)("div",{className:"container-custom",children:[(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[(0,sl.jsxs)("div",{className:"inline-flex items-center px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-medium mb-6",children:[(0,sl.jsx)(El,{className:"w-4 h-4 mr-2"}),"\u0130leti\u015fim"]}),(0,sl.jsxs)("h2",{className:"text-3xl lg:text-4xl font-bold text-secondary-900 mb-6",children:["Bizimle"," ",(0,sl.jsx)("span",{className:"text-gradient",children:"\u0130leti\u015fime Ge\xe7in"})]}),(0,sl.jsx)("p",{className:"text-lg text-secondary-600 max-w-3xl mx-auto",children:"Matematik e\u011fitimi hakk\u0131nda sorular\u0131n\u0131z m\u0131 var? Size yard\u0131mc\u0131 olmaktan mutluluk duyar\u0131z. A\u015fa\u011f\u0131daki formu doldurun veya do\u011frudan bizimle ileti\u015fime ge\xe7in."})]}),(0,sl.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12",children:[(0,sl.jsxs)(Xo.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"bg-white rounded-2xl p-8 shadow-xl",children:[(0,sl.jsx)("h3",{className:"text-2xl font-bold text-secondary-900 mb-6",children:"Mesaj G\xf6nderin"}),"success"===s&&(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-100 border border-green-300 rounded-lg flex items-center space-x-3",children:[(0,sl.jsx)(gl,{className:"w-5 h-5 text-green-600"}),(0,sl.jsx)("span",{className:"text-green-800 font-medium",children:"Mesaj\u0131n\u0131z ba\u015far\u0131yla g\xf6nderildi! En k\u0131sa s\xfcrede size d\xf6n\xfc\u015f yapaca\u011f\u0131z."})]}),"error"===s&&(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-100 border border-red-300 rounded-lg flex items-center space-x-3",children:[(0,sl.jsx)("div",{className:"w-5 h-5 text-red-600",children:"\u26a0\ufe0f"}),(0,sl.jsx)("span",{className:"text-red-800 font-medium",children:"Mesaj g\xf6nderilirken bir hata olu\u015ftu. L\xfctfen tekrar deneyin veya do\u011frudan e-posta g\xf6nderin."})]}),(0,sl.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),o){i(!0);try{const t="https://formspree.io/f/manjzygp";if(!(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,phone:e.phone||"Belirtilmemi\u015f",subject:e.subject,message:e.message,_replyto:e.email,"g-recaptcha-response":o})})).ok)throw new Error("Form submission failed");i(!1),a("success"),n({name:"",email:"",phone:"",subject:"",message:""}),l(null),setTimeout(()=>a(null),5e3)}catch(r){console.error("Form g\xf6nderimi ba\u015far\u0131s\u0131z:",r),i(!1),a("error"),setTimeout(()=>a(null),5e3)}}else alert('L\xfctfen "Ben robot de\u011filim" kutusunu i\u015faretleyin.')},className:"space-y-6",children:[(0,sl.jsxs)("div",{className:"grid sm:grid-cols-2 gap-6",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Ad Soyad *"}),(0,sl.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:c,required:!0,className:"w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"Ad\u0131n\u0131z ve soyad\u0131n\u0131z"})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-secondary-700 mb-2",children:"E-posta *"}),(0,sl.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:c,required:!0,className:"w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"ornek@email.com"})]})]}),(0,sl.jsxs)("div",{className:"grid sm:grid-cols-2 gap-6",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Telefon"}),(0,sl.jsx)("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:c,className:"w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"+90 555 123 45 67"})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Konu *"}),(0,sl.jsxs)("select",{id:"subject",name:"subject",value:e.subject,onChange:c,required:!0,className:"w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[(0,sl.jsx)("option",{value:"",children:"Konu se\xe7iniz"}),["Birebir \xd6zel Ders","Grup Dersleri","Online Dersler","S\u0131nav Haz\u0131rl\u0131\u011f\u0131","Dan\u0131\u015fmanl\u0131k","Di\u011fer"].map((e,t)=>(0,sl.jsx)("option",{value:e,children:e},t))]})]})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Mesaj\u0131n\u0131z *"}),(0,sl.jsx)("textarea",{id:"message",name:"message",value:e.message,onChange:c,required:!0,rows:5,className:"w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 resize-none",placeholder:"Mesaj\u0131n\u0131z\u0131 buraya yaz\u0131n..."})]}),(0,sl.jsx)("div",{className:"flex justify-center",children:(0,sl.jsx)(Bl,{sitekey:"6LckGXcrAAAAAM1qZxxtswuGwyVKUz_sMgNUEukm",onChange:e=>l(e),theme:"light"})}),(0,sl.jsx)("button",{type:"submit",disabled:r,className:"w-full btn-primary group disabled:opacity-50 disabled:cursor-not-allowed",children:r?(0,sl.jsxs)("div",{className:"flex items-center justify-center",children:[(0,sl.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"G\xf6nderiliyor..."]}):(0,sl.jsxs)("div",{className:"flex items-center justify-center",children:[(0,sl.jsx)(Sl,{className:"w-5 h-5 mr-2"}),"Mesaj G\xf6nder"]})})]})]}),(0,sl.jsxs)(Xo.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"space-y-6",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("h3",{className:"text-2xl font-bold text-secondary-900 mb-6",children:"\u0130leti\u015fim Bilgileri"}),(0,sl.jsx)("p",{className:"text-secondary-600 mb-8",children:"Size en uygun y\xf6ntemle bizimle ileti\u015fime ge\xe7ebilirsiniz. Uzman ekibimiz size yard\u0131mc\u0131 olmaktan mutluluk duyacakt\u0131r."})]}),(0,sl.jsx)("div",{className:"space-y-6",children:u.map((e,t)=>(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t,duration:.6},className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow duration-300",children:(0,sl.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,sl.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(e.icon,{className:"w-6 h-6 text-primary-600"})}),(0,sl.jsxs)("div",{className:"flex-1",children:[(0,sl.jsx)("h4",{className:"text-lg font-semibold text-secondary-900 mb-2",children:e.title}),(0,sl.jsx)("div",{className:"space-y-1 mb-4",children:e.details.map((e,t)=>(0,sl.jsx)("p",{className:"text-secondary-600",children:e},t))}),(0,sl.jsxs)("button",{className:"text-primary-600 hover:text-primary-700 font-medium text-sm transition-colors duration-200",onClick:()=>{if("E-posta"===e.title)window.open("mailto:".concat(e.details[0]),"_blank");else if("\xc7al\u0131\u015fma Saatleri"===e.title){const e=document.getElementById("contact");e&&e.scrollIntoView({behavior:"smooth"})}},children:[e.action," \u2192"]})]})]})},t))}),(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4,duration:.6},className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl p-6 text-white",children:[(0,sl.jsx)("h4",{className:"text-xl font-bold mb-4",children:"H\u0131zl\u0131 \u0130leti\u015fim"}),(0,sl.jsx)("p",{className:"text-primary-100 mb-6",children:"WhatsApp \xfczerinden mesaj g\xf6nderebilir veya e-posta ile ileti\u015fime ge\xe7ebilirsiniz."}),(0,sl.jsx)("div",{className:"flex flex-col sm:flex-row gap-3",children:(0,sl.jsx)("button",{className:"bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200",onClick:()=>{const e="https://wa.me/".concat("905522641898","?text=").concat(encodeURIComponent("Merhaba! Nora Akademi hakk\u0131nda bilgi almak istiyorum."));window.open(e,"_blank")},children:"WhatsApp"})})]})]})]})]})})},ql=Me("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Wl=Me("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Gl=Me("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Kl=Me("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Ql=Me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Yl=Me("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),$l=()=>{const e=[{icon:ql,href:"#",label:"Facebook"},{icon:Wl,href:"#",label:"Instagram"},{icon:Gl,href:"#",label:"Twitter"},{icon:Kl,href:"#",label:"YouTube"}];return(0,sl.jsxs)("footer",{className:"bg-secondary-900 text-white",children:[(0,sl.jsxs)("div",{className:"container-custom py-16",children:[(0,sl.jsxs)("div",{className:"grid lg:grid-cols-4 gap-8",children:[(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"lg:col-span-1",children:[(0,sl.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,sl.jsx)("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(Ve,{className:"w-6 h-6 text-white"})}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("h3",{className:"text-xl font-bold",children:"Nora Akademi"}),(0,sl.jsx)("p",{className:"text-secondary-400 text-sm",children:"Profesyonel Matematik E\u011fitimi"})]})]}),(0,sl.jsx)("p",{className:"text-secondary-400 mb-6 leading-relaxed",children:"8 y\u0131ll\u0131k deneyimimizle matematik \xf6\u011fretiminde g\xfcvenilir e\u011fitim kurumlar\u0131ndan biriyiz. Modern e\u011fitim y\xf6ntemleri ve teknolojik destekle \xf6\u011frencilerimizin ba\u015far\u0131s\u0131na katk\u0131 sa\u011fl\u0131yoruz."}),(0,sl.jsxs)("div",{className:"space-y-3",children:[(0,sl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sl.jsx)(Fe,{className:"w-4 h-4 text-primary-400"}),(0,sl.jsx)("span",{className:"text-secondary-300",children:"noracademy1@gmail.com"})]}),(0,sl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sl.jsx)(Ql,{className:"w-4 h-4 text-primary-400"}),(0,sl.jsx)("span",{className:"text-secondary-300",children:"Elaz\u0131\u011f,Gaziantep"})]})]})]}),Object.entries({hizmetler:["Birebir \xd6zel Ders","Grup Dersleri","Online Dersler","S\u0131nav Haz\u0131rl\u0131\u011f\u0131","Dan\u0131\u015fmanl\u0131k"],kurumsal:["Hakk\u0131m\u0131zda","\xd6\u011fretmenlerimiz","Ba\u015far\u0131lar\u0131m\u0131z","Referanslar","Kariyer"],destek:["SSS","\u0130leti\u015fim","Randevu Al","\xdccretsiz Dan\u0131\u015fmanl\u0131k","Gizlilik Politikas\u0131"]}).map((e,t)=>{let[n,r]=e;return(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t,duration:.6},className:"lg:col-span-1",children:[(0,sl.jsx)("h4",{className:"text-lg font-semibold mb-6 capitalize",children:n}),(0,sl.jsx)("ul",{className:"space-y-3",children:r.map((e,t)=>(0,sl.jsx)("li",{children:(0,sl.jsx)("button",{className:"text-secondary-400 hover:text-primary-400 transition-colors duration-200 text-sm text-left",children:e})},t))})]},n)})]}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4,duration:.6},className:"border-t border-secondary-800 mt-12 pt-8",children:(0,sl.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-6",children:[(0,sl.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,sl.jsx)("span",{className:"text-secondary-400 text-sm",children:"Bizi takip edin:"}),(0,sl.jsx)("div",{className:"flex space-x-3",children:e.map((e,t)=>(0,sl.jsx)("a",{href:e.href,className:"w-10 h-10 bg-secondary-800 hover:bg-primary-600 rounded-lg flex items-center justify-center transition-colors duration-200 group","aria-label":e.label,children:(0,sl.jsx)(e.icon,{className:"w-5 h-5 text-secondary-400 group-hover:text-white transition-colors duration-200"})},t))})]}),(0,sl.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,sl.jsx)("span",{className:"text-secondary-400 text-sm",children:"E-b\xfcltenimize kat\u0131l\u0131n:"}),(0,sl.jsxs)("div",{className:"flex",children:[(0,sl.jsx)("input",{type:"email",placeholder:"E-posta adresiniz",className:"px-4 py-2 bg-secondary-800 border border-secondary-700 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white placeholder-secondary-400 text-sm"}),(0,sl.jsx)("button",{className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 rounded-r-lg transition-colors duration-200 text-sm font-medium",onClick:()=>{const e=document.querySelector('input[type="email"]').value;e&&e.includes("@")?(alert("E-b\xfcltenimize ba\u015far\u0131yla kaydoldunuz!"),document.querySelector('input[type="email"]').value=""):alert("L\xfctfen ge\xe7erli bir e-posta adresi girin.")},children:"Kat\u0131l"})]})]})]})})]}),(0,sl.jsx)("div",{className:"border-t border-secondary-800",children:(0,sl.jsx)("div",{className:"container-custom py-6",children:(0,sl.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-4",children:[(0,sl.jsx)("div",{className:"text-secondary-400 text-sm",children:"\xa9 2024 Nora Akademi. T\xfcm haklar\u0131 sakl\u0131d\u0131r."}),(0,sl.jsxs)("div",{className:"flex items-center space-x-6 text-sm",children:[(0,sl.jsx)("button",{className:"text-secondary-400 hover:text-primary-400 transition-colors duration-200",children:"Gizlilik Politikas\u0131"}),(0,sl.jsx)("button",{className:"text-secondary-400 hover:text-primary-400 transition-colors duration-200",children:"Kullan\u0131m \u015eartlar\u0131"}),(0,sl.jsx)("button",{className:"text-secondary-400 hover:text-primary-400 transition-colors duration-200",children:"KVKK"})]}),(0,sl.jsx)(Xo.button,{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-10 h-10 bg-primary-600 hover:bg-primary-700 rounded-lg flex items-center justify-center transition-colors duration-200","aria-label":"Yukar\u0131 \xe7\u0131k",children:(0,sl.jsx)(Yl,{className:"w-5 h-5"})})]})})}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.5},className:"fixed bottom-6 right-6 z-50",children:(0,sl.jsxs)("button",{className:"w-14 h-14 bg-green-600 hover:bg-green-700 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-200 group",onClick:()=>{const e="https://wa.me/".concat("905522641898","?text=").concat(encodeURIComponent("Merhaba! Nora Akademi hakk\u0131nda bilgi almak istiyorum."));window.open(e,"_blank")},children:[(0,sl.jsx)("div",{className:"text-white text-2xl",children:"\ud83d\udcac"}),(0,sl.jsx)("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-red-500 rounded-full animate-pulse"})]})})]})},Xl=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Jl=Me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Zl=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ec=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},tc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ec(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new nc;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nc extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rc=function(e){return function(e){const t=ec(e);return tc.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ic=function(e){try{return tc.decodeString(e,!0)}catch(bN){console.error("base64Decode failed: ",bN)}return null};function sc(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const ac=()=>{try{return sc().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(bN){return}const t=e&&ic(e[1]);return t&&JSON.parse(t)})()}catch(bN){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(bN))}},oc=e=>{var t,n;return null===(n=null===(t=ac())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},lc=()=>{var e;return null===(e=ac())||void 0===e?void 0:e.config},cc=e=>{var t;return null===(t=ac())||void 0===t?void 0:t["_".concat(e)]};class uc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function dc(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(xN){return!1}}async function hc(e){return(await fetch(e,{credentials:"include"})).ok}const fc={};let pc=!1;function mc(e,t){if("undefined"===typeof window||"undefined"===typeof document||!dc(window.location.host)||fc[e]===t||fc[e]||pc)return;function n(e){return"__firebase__banner__".concat(e)}fc[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(fc))fc[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{pc=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function gc(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function yc(){var e;const t=null===(e=ac())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(bN){return!1}}function vc(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function bc(){return!yc()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xc(){try{return"object"===typeof indexedDB}catch(bN){return!1}}function wc(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class kc extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,kc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ec.prototype.create)}}class Ec{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Sc,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new kc(n,s,t)}}const Sc=/\{\$([^}]+)}/g;function Tc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Nc(n)&&Nc(s)){if(!Tc(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Nc(e){return null!==e&&"object"===typeof e}function _c(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Cc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Ic(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class jc{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ac),void 0===r.error&&(r.error=Ac),void 0===r.complete&&(r.complete=Ac);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(bN){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(bN){"undefined"!==typeof console&&console.error&&console.error(bN)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ac(){}function Pc(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Rc(e){return e&&e._delegate?e._delegate:e}class Dc{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Oc="[DEFAULT]";class Lc{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new uc;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(bN){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(bN){if(r)return null;throw bN}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Oc})}catch(bN){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(bN){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oc;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oc;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oc;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(xN){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Oc?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(xN){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oc;return this.component?this.component.multipleInstances?e:Oc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Mc{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Lc(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Vc=[];var Fc;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Fc||(Fc={}));const Uc={debug:Fc.DEBUG,verbose:Fc.VERBOSE,info:Fc.INFO,warn:Fc.WARN,error:Fc.ERROR,silent:Fc.SILENT},zc=Fc.INFO,Bc={[Fc.DEBUG]:"log",[Fc.VERBOSE]:"log",[Fc.INFO]:"info",[Fc.WARN]:"warn",[Fc.ERROR]:"error"},Hc=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Bc[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class qc{constructor(e){this.name=e,this._logLevel=zc,this._logHandler=Hc,this._userLogHandler=null,Vc.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fc))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Uc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fc.DEBUG,...t),this._logHandler(this,Fc.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fc.VERBOSE,...t),this._logHandler(this,Fc.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fc.INFO,...t),this._logHandler(this,Fc.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fc.WARN,...t),this._logHandler(this,Fc.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fc.ERROR,...t),this._logHandler(this,Fc.ERROR,...t)}}let Wc,Gc;const Kc=new WeakMap,Qc=new WeakMap,Yc=new WeakMap,$c=new WeakMap,Xc=new WeakMap;let Jc={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Yc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tu(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Zc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gc||(Gc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(nu(this),n),tu(Kc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tu(e.apply(nu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(nu(this),t,...r);return Yc.set(s,t.sort?t.sort():[t]),tu(s)}}function eu(e){return"function"===typeof e?Zc(e):(e instanceof IDBTransaction&&function(e){if(Qc.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Qc.set(e,t)}(e),t=e,(Wc||(Wc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Jc):e);var t}function tu(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(tu(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Kc.set(t,e)}).catch(()=>{}),Xc.set(t,e),t}(e);if($c.has(e))return $c.get(e);const t=eu(e);return t!==e&&($c.set(e,t),Xc.set(t,e)),t}const nu=e=>Xc.get(e);function ru(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=tu(a);return r&&a.addEventListener("upgradeneeded",e=>{r(tu(a.result),e.oldVersion,e.newVersion,tu(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const iu=["get","getKey","getAll","getAllKeys","count"],su=["put","add","delete","clear"],au=new Map;function ou(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(au.get(t))return au.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=su.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!iu.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return au.set(t,s),s}Jc=(e=>Re(Re({},e),{},{get:(t,n,r)=>ou(t,n)||e.get(t,n,r),has:(t,n)=>!!ou(t,n)||e.has(t,n)}))(Jc);class lu{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const cu="@firebase/app",uu="0.13.2",du=new qc("@firebase/app"),hu="@firebase/app-compat",fu="@firebase/analytics-compat",pu="@firebase/analytics",mu="@firebase/app-check-compat",gu="@firebase/app-check",yu="@firebase/auth",vu="@firebase/auth-compat",bu="@firebase/database",xu="@firebase/data-connect",wu="@firebase/database-compat",ku="@firebase/functions",Eu="@firebase/functions-compat",Su="@firebase/installations",Tu="@firebase/installations-compat",Nu="@firebase/messaging",_u="@firebase/messaging-compat",Cu="@firebase/performance",Iu="@firebase/performance-compat",ju="@firebase/remote-config",Au="@firebase/remote-config-compat",Pu="@firebase/storage",Ru="@firebase/storage-compat",Du="@firebase/firestore",Ou="@firebase/ai",Lu="@firebase/firestore-compat",Mu="firebase",Vu="[DEFAULT]",Fu={[cu]:"fire-core",[hu]:"fire-core-compat",[pu]:"fire-analytics",[fu]:"fire-analytics-compat",[gu]:"fire-app-check",[mu]:"fire-app-check-compat",[yu]:"fire-auth",[vu]:"fire-auth-compat",[bu]:"fire-rtdb",[xu]:"fire-data-connect",[wu]:"fire-rtdb-compat",[ku]:"fire-fn",[Eu]:"fire-fn-compat",[Su]:"fire-iid",[Tu]:"fire-iid-compat",[Nu]:"fire-fcm",[_u]:"fire-fcm-compat",[Cu]:"fire-perf",[Iu]:"fire-perf-compat",[ju]:"fire-rc",[Au]:"fire-rc-compat",[Pu]:"fire-gcs",[Ru]:"fire-gcs-compat",[Du]:"fire-fst",[Lu]:"fire-fst-compat",[Ou]:"fire-vertex","fire-js":"fire-js",[Mu]:"fire-js-all"},Uu=new Map,zu=new Map,Bu=new Map;function Hu(e,t){try{e.container.addComponent(t)}catch(bN){du.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),bN)}}function qu(e){const t=e.name;if(Bu.has(t))return du.debug("There were multiple attempts to register component ".concat(t,".")),!1;Bu.set(t,e);for(const n of Uu.values())Hu(n,e);for(const n of zu.values())Hu(n,e);return!0}function Wu(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Gu(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Ku=new Ec("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Qu{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ku.create("app-deleted",{appName:this._name})}}const Yu="11.10.0";function $u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Vu,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Ku.create("bad-app-name",{appName:String(i)});if(n||(n=lc()),!n)throw Ku.create("no-options");const s=Uu.get(i);if(s){if(Tc(n,s.options)&&Tc(r,s.config))return s;throw Ku.create("duplicate-app",{appName:i})}const a=new Mc(i);for(const l of Bu.values())a.addComponent(l);const o=new Qu(n,r,a);return Uu.set(i,o),o}function Xu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vu;const t=Uu.get(e);if(!t&&e===Vu&&lc())return $u();if(!t)throw Ku.create("no-app",{appName:e});return t}function Ju(e,t,n){var r;let i=null!==(r=Fu[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void du.warn(e.join(" "))}qu(new Dc("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Zu="firebase-heartbeat-store";let ed=null;function td(){return ed||(ed=ru("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Zu)}catch(bN){console.warn(bN)}}}).catch(e=>{throw Ku.create("idb-open",{originalErrorMessage:e.message})})),ed}async function nd(e,t){try{const n=(await td()).transaction(Zu,"readwrite"),r=n.objectStore(Zu);await r.put(t,rd(e)),await n.done}catch(bN){if(bN instanceof kc)du.warn(bN.message);else{const t=Ku.create("idb-set",{originalErrorMessage:null===bN||void 0===bN?void 0:bN.message});du.warn(t.message)}}}function rd(e){return"".concat(e.name,"!").concat(e.options.appId)}class id{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ad(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sd();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(bN){du.warn(bN)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=sd(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),od(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),od(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=rc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(bN){return du.warn(bN),""}}}function sd(){return(new Date).toISOString().substring(0,10)}class ad{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!xc()&&wc().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await td()).transaction(Zu),n=await t.objectStore(Zu).get(rd(e));return await t.done,n}catch(bN){if(bN instanceof kc)du.warn(bN.message);else{const t=Ku.create("idb-get",{originalErrorMessage:null===bN||void 0===bN?void 0:bN.message});du.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return nd(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return nd(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function od(e){return rc(JSON.stringify({version:2,heartbeats:e})).length}var ld;ld="",qu(new Dc("platform-logger",e=>new lu(e),"PRIVATE")),qu(new Dc("heartbeat",e=>new id(e),"PRIVATE")),Ju(cu,uu,ld),Ju(cu,uu,"esm2017"),Ju("fire-js","");Ju("firebase","11.10.0","app");function cd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ud(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dd=ud,hd=new Ec("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fd=new qc("@firebase/auth");function pd(e){if(fd.logLevel<=Fc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fd.error("Auth (".concat(Yu,"): ").concat(e),...n)}}function md(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw bd(e,...n)}function gd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return bd(e,...n)}function yd(e,t,n){const r=Object.assign(Object.assign({},dd()),{[t]:n});return new Ec("auth","Firebase",r).create(t,{appName:e.name})}function vd(e){return yd(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return hd.create(e,...n)}function xd(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw bd(t,...r)}}function wd(e){const t="INTERNAL ASSERTION FAILED: "+e;throw pd(t),new Error(t)}function kd(e,t){e||wd(t)}function Ed(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Sd(){return"http:"===Td()||"https:"===Td()}function Td(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Nd{constructor(e,t){this.shortDelay=e,this.longDelay=t,kd(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gc())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Sd()||vc()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _d(e,t){kd(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Cd{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void wd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void wd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void wd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Id={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jd=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ad=new Nd(3e4,6e4);function Pd(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Rd(e,t,n,r){return Dd(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=_c(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&dc(e.emulatorConfig.host)&&(l.credentials="include"),Cd.fetch()(await Ld(e,e.config.apiHost,n,a),l)})}async function Dd(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Id),t);try{const t=new Vd(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Fd(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Fd(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Fd(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Fd(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw yd(e,o,a);md(e,o)}}catch(bN){if(bN instanceof kc)throw bN;md(e,"network-request-failed",{message:String(bN)})}}async function Od(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Rd(e,t,n,r,i);return"mfaPendingCredential"in s&&md(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Ld(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,a=s.config.emulator?_d(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(jd.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function Md(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Vd{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(gd(this.auth,"network-request-failed")),Ad.get())})}}function Fd(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gd(e,t,r);return i.customData._tokenResponse=n,i}function Ud(e){return void 0!==e&&void 0!==e.enterprise}class zd{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Md(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Bd(e,t){return Rd(e,"GET","/v2/recaptchaConfig",Pd(e,t))}async function Hd(e,t){return Rd(e,"POST","/v1/accounts:lookup",t)}function qd(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(bN){}}function Wd(e){return 1e3*Number(e)}function Gd(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return pd("JWT malformed, contained fewer than 3 sections"),null;try{const e=ic(n);return e?JSON.parse(e):(pd("Failed to decode base64 JWT payload"),null)}catch(bN){return pd("Caught error parsing JWT payload as JSON",null===bN||void 0===bN?void 0:bN.toString()),null}}function Kd(e){const t=Gd(e);return xd(t,"internal-error"),xd("undefined"!==typeof t.exp,"internal-error"),xd("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Qd(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(bN){throw bN instanceof kc&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(bN)&&e.auth.currentUser===e&&await e.auth.signOut(),bN}}class Yd{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(bN){return void((null===bN||void 0===bN?void 0:bN.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class $d{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qd(this.lastLoginAt),this.creationTime=qd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xd(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Qd(e,Hd(n,{idToken:r}));xd(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Jd(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new $d(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Jd(e){return e.map(e=>{var{providerId:t}=e,n=cd(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Zd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xd(e.idToken,"internal-error"),xd("undefined"!==typeof e.idToken,"internal-error"),xd("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Kd(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xd(0!==e.length,"internal-error");const t=Kd(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(xd(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Dd(e,{},async()=>{const n=_c({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Ld(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&dc(e.emulatorConfig.host)&&(o.credentials="include"),Cd.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Zd;return n&&(xd("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(xd("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(xd("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zd,this.toJSON())}_performRefresh(){return wd("not implemented")}}function eh(e,t){xd("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class th{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=cd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $d(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Qd(this,this.stsTokenManager.getToken(this.auth,e));return xd(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Rc(e),r=await n.getIdToken(t),i=Gd(r);xd(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qd(Wd(i.auth_time)),issuedAtTime:qd(Wd(i.iat)),expirationTime:qd(Wd(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Rc(e);await Xd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(xd(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new th(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xd(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gu(this.auth.app))return Promise.reject(vd(this.auth));const e=await this.getIdToken();return await Qd(this,async function(e,t){return Rd(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:k}=t;xd(v&&k,e,"internal-error");const E=Zd.fromJSON(this.name,k);xd("string"===typeof v,e,"internal-error"),eh(u,e.name),eh(d,e.name),xd("boolean"===typeof b,e,"internal-error"),xd("boolean"===typeof x,e,"internal-error"),eh(h,e.name),eh(f,e.name),eh(p,e.name),eh(m,e.name),eh(g,e.name),eh(y,e.name);const S=new th({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(S.providerData=w.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Zd;r.updateFromServerResponse(t);const i=new th({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Xd(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];xd(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Jd(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Zd;a.updateFromIdToken(n);const o=new th({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new $d(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const nh=new Map;function rh(e){kd(e instanceof Function,"Expected a class definition");let t=nh.get(e);return t?(kd(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,nh.set(e,t),t)}class ih{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ih.type="NONE";const sh=ih;function ah(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class oh{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ah(this.userKey,r.apiKey,i),this.fullPersistenceKey=ah("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Hd(this.auth,{idToken:e}).catch(()=>{});return t?th._fromGetAccountInfoResponse(this.auth,t,e):null}return th._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new oh(rh(sh),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||rh(sh);const s=ah(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(s);if(t){let n;if("string"===typeof t){const r=await Hd(e,{idToken:t}).catch(()=>{});if(!r)break;n=await th._fromGetAccountInfoResponse(e,r,t)}else n=th._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch(xN){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(xN){}})),new oh(i,e,n)):new oh(i,e,n)}}function lh(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ch(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ph(t))return"Blackberry";if(mh(t))return"Webos";if(uh(t))return"Safari";if((t.includes("chrome/")||dh(t))&&!t.includes("edge/"))return"Chrome";if(fh(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc();return/firefox\//i.test(e)}function uh(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc();return/crios\//i.test(e)}function hh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc();return/iemobile/i.test(e)}function fh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc();return/android/i.test(e)}function ph(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc();return/blackberry/i.test(e)}function mh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc();return/webos/i.test(e)}function gh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function yh(){return function(){const e=gc();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function vh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc();return gh(e)||fh(e)||mh(e)||ph(e)||/windows phone/i.test(e)||hh(e)}function bh(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=lh(gc());break;case"Worker":t="".concat(lh(gc()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Yu,"/").concat(r)}class xh{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(bN){r(bN)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(bN){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===bN||void 0===bN?void 0:bN.message})}}}class wh{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class kh{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sh(this),this.idTokenSubscription=new Sh(this),this.beforeStateQueue=new xh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hd,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rh(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await oh.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(bN){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Hd(this,{idToken:e}),n=await th._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gu(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(bN){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(bN))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xd(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(bN){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xd(e)}catch(bN){if((null===bN||void 0===bN?void 0:bN.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gu(this.app))return Promise.reject(vd(this));const t=e?Rc(e):null;return t&&xd(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&xd(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gu(this.app)?Promise.reject(vd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gu(this.app)?Promise.reject(vd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rh(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Rd(e,"GET","/v2/passwordPolicy",Pd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new wh(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ec("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Rd(e,"POST","/v2/accounts:revokeToken",Pd(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rh(e)||this._popupRedirectResolver;xd(t,this,"argument-error"),this.redirectPersistenceManager=await oh.create(this,[rh(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xd(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xd(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Gu(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(fd.logLevel<=Fc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fd.warn("Auth (".concat(Yu,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Eh(e){return Rc(e)}class Sh{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new jc(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return xd(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nh(e){return Th.loadJS(e)}function _h(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ch{constructor(){this.enterprise=new Ih}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ih{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jh="NO_RECAPTCHA";class Ah{constructor(e){this.type="recaptcha-enterprise",this.auth=Eh(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ud(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(jh)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ch).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Bd(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new zd(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Ud(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Th.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Nh(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ph(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Ah(e);let a;if(i)a=jh;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Rh(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ph(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ph(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Ph(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Ph(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Ph(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Dh(e){const t=Eh(e),n=await Bd(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new zd(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ah(t).verify()}}function Oh(e,t,n){const r=Eh(e);xd(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Lh(t),{host:a,port:o}=function(e){const t=Lh(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Mh(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Mh(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(s,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return xd(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void xd(Tc(c,r.config.emulator)&&Tc(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,dc(a)?(hc("".concat(s,"//").concat(a).concat(l)),mc("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Lh(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Mh(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Vh{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wd("not implemented")}_getIdTokenResponse(e){return wd("not implemented")}_linkToIdToken(e,t){return wd("not implemented")}_getReauthenticationResolver(e){return wd("not implemented")}}async function Fh(e,t){return Rd(e,"POST","/v1/accounts:signUp",t)}async function Uh(e,t){return Od(e,"POST","/v1/accounts:signInWithPassword",Pd(e,t))}class zh extends Vh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new zh(e,t,"password")}static _fromEmailAndCode(e,t){return new zh(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Rh(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Uh,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Od(e,"POST","/v1/accounts:signInWithEmailLink",Pd(e,t))}(e,{email:this._email,oobCode:this._password});default:md(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Rh(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fh,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Od(e,"POST","/v1/accounts:signInWithEmailLink",Pd(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:md(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Bh(e,t){return Od(e,"POST","/v1/accounts:signInWithIdp",Pd(e,t))}class Hh extends Vh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):md("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=cd(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Hh(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Bh(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Bh(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bh(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_c(t)}return e}}async function qh(e,t){return Rd(e,"POST","/v1/accounts:sendVerificationCode",Pd(e,t))}const Wh={USER_NOT_FOUND:"user-not-found"};class Gh extends Vh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Gh({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Gh({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Od(e,"POST","/v1/accounts:signInWithPhoneNumber",Pd(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Od(e,"POST","/v1/accounts:signInWithPhoneNumber",Pd(e,t));if(n.temporaryProof)throw Fd(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Od(e,"POST","/v1/accounts:signInWithPhoneNumber",Pd(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Wh)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Gh({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Kh{constructor(e){var t,n,r,i,s,a;const o=Cc(Ic(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);xd(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.lang)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Cc(Ic(e)).link,n=t?Cc(Ic(t)).deep_link_id:null,r=Cc(Ic(e)).deep_link_id;return(r?Cc(Ic(r)).link:null)||r||n||t||e}(e);try{return new Kh(t)}catch(xN){return null}}}class Qh{constructor(){this.providerId=Qh.PROVIDER_ID}static credential(e,t){return zh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Kh.parseLink(t);return xd(n,"argument-error"),zh._fromEmailAndCode(e,n.code,n.tenantId)}}Qh.PROVIDER_ID="password",Qh.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Yh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $h extends Yh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xh extends $h{constructor(){super("facebook.com")}static credential(e){return Hh._fromParams({providerId:Xh.PROVIDER_ID,signInMethod:Xh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xh.credentialFromTaggedObject(e)}static credentialFromError(e){return Xh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xh.credential(t.oauthAccessToken)}catch(xN){return null}}}Xh.FACEBOOK_SIGN_IN_METHOD="facebook.com",Xh.PROVIDER_ID="facebook.com";class Jh extends $h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hh._fromParams({providerId:Jh.PROVIDER_ID,signInMethod:Jh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jh.credentialFromTaggedObject(e)}static credentialFromError(e){return Jh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Jh.credential(n,r)}catch(xN){return null}}}Jh.GOOGLE_SIGN_IN_METHOD="google.com",Jh.PROVIDER_ID="google.com";class Zh extends $h{constructor(){super("github.com")}static credential(e){return Hh._fromParams({providerId:Zh.PROVIDER_ID,signInMethod:Zh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zh.credentialFromTaggedObject(e)}static credentialFromError(e){return Zh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Zh.credential(t.oauthAccessToken)}catch(xN){return null}}}Zh.GITHUB_SIGN_IN_METHOD="github.com",Zh.PROVIDER_ID="github.com";class ef extends $h{constructor(){super("twitter.com")}static credential(e,t){return Hh._fromParams({providerId:ef.PROVIDER_ID,signInMethod:ef.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ef.credentialFromTaggedObject(e)}static credentialFromError(e){return ef.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ef.credential(n,r)}catch(xN){return null}}}async function tf(e,t){return Od(e,"POST","/v1/accounts:signUp",Pd(e,t))}ef.TWITTER_SIGN_IN_METHOD="twitter.com",ef.PROVIDER_ID="twitter.com";class nf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await th._fromIdTokenResponse(e,n,r),s=rf(n);return new nf({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=rf(n);return new nf({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function rf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class sf extends kc{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,sf.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new sf(e,t,n,r)}}function af(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw sf._fromErrorAndOperation(e,n,t,r);throw n})}async function of(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Qd(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return nf._forOperation(e,"link",r)}async function lf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Gu(r.app))return Promise.reject(vd(r));const i="reauthenticate";try{const s=await Qd(e,af(r,i,t,e),n);xd(s.idToken,r,"internal-error");const a=Gd(s.idToken);xd(a,r,"internal-error");const{sub:o}=a;return xd(e.uid===o,r,"user-mismatch"),nf._forOperation(e,i,s)}catch(bN){throw(null===bN||void 0===bN?void 0:bN.code)==="auth/".concat("user-not-found")&&md(r,"user-mismatch"),bN}}async function cf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Gu(e.app))return Promise.reject(vd(e));const r="signIn",i=await af(e,r,t),s=await nf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function uf(e,t){return cf(Eh(e),t)}async function df(e){const t=Eh(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function hf(e,t,n){if(Gu(e.app))return Promise.reject(vd(e));const r=Eh(e),i=Rh(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tf,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&df(e),t}),a=await nf._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function ff(e){return Rc(e).signOut()}function pf(e,t){return Rd(e,"POST","/v2/accounts/mfaEnrollment:start",Pd(e,t))}new WeakMap;const mf="__sak";class gf{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch(xN){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class yf extends gf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vh(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);yh()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yf.type="LOCAL";const vf=yf;function bf(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function xf(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class wf{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=xf(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return bf(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=xf(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=xf(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=bf(n);const i=setInterval(()=>{const e=bf(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}wf.type="COOKIE";class kf extends gf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}kf.type="SESSION";const Ef=kf;class Sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Sf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Tf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Sf.receivers=[];class Nf{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Tf("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function _f(){return window}function Cf(){return"undefined"!==typeof _f().WorkerGlobalScope&&"function"===typeof _f().importScripts}const If="firebaseLocalStorageDb",jf="firebaseLocalStorage",Af="fbase_key";class Pf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rf(e,t){return e.transaction([jf],t?"readwrite":"readonly").objectStore(jf)}function Df(){const e=indexedDB.open(If,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(jf,{keyPath:Af})}catch(bN){n(bN)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(jf)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(If);return new Pf(e).toPromise()}(),t(await Df()))})})}async function Of(e,t,n){const r=Rf(e,!0).put({[Af]:t,value:n});return new Pf(r).toPromise()}function Lf(e,t){const n=Rf(e,!0).delete(t);return new Pf(n).toPromise()}class Mf{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Df()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(bN){if(t++>3)throw bN;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cf()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(Cf()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Nf(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(xN){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Df();return await Of(e,mf,"1"),await Lf(e,mf),!0}catch(xN){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Of(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Rf(e,!1).get(t),r=await new Pf(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Lf(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Rf(e,!1).getAll();return new Pf(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Mf.type="LOCAL";const Vf=Mf;function Ff(e,t){return Rd(e,"POST","/v2/accounts/mfaSignIn:start",Pd(e,t))}_h("rcb"),new Nd(3e4,6e4);const Uf="recaptcha";async function zf(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Dh(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){xd("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Rh(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===jh){xd((null===n||void 0===n?void 0:n.type)===Uf,e,"argument-error");return pf(e,await Bf(e,t,n))}return pf(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{xd("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;xd(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Rh(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===jh){xd((null===n||void 0===n?void 0:n.type)===Uf,e,"argument-error");return Ff(e,await Bf(e,t,n))}return Ff(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Rh(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===jh){xd((null===n||void 0===n?void 0:n.type)===Uf,e,"argument-error");return qh(e,await Bf(e,t,n))}return qh(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Bf(e,t,n){xd(n.type===Uf,e,"argument-error");const r=await n.verify();xd("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Hf{constructor(e){this.providerId=Hf.PROVIDER_ID,this.auth=Eh(e)}verifyPhoneNumber(e,t){return zf(this.auth,e,Rc(t))}static credential(e,t){return Gh._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Hf.credentialFromTaggedObject(t)}static credentialFromError(e){return Hf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Gh._fromTokenResponse(n,r):null}}function qf(e,t){return t?rh(t):(xd(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Hf.PROVIDER_ID="phone",Hf.PHONE_SIGN_IN_METHOD="phone";class Wf extends Vh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gf(e){return cf(e.auth,new Wf(e),e.bypassAuthState)}function Kf(e){const{auth:t,user:n}=e;return xd(n,t,"internal-error"),lf(n,new Wf(e),e.bypassAuthState)}async function Qf(e){const{auth:t,user:n}=e;return xd(n,t,"internal-error"),of(n,new Wf(e),e.bypassAuthState)}class Yf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(bN){this.reject(bN)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(bN){this.reject(bN)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gf;case"linkViaPopup":case"linkViaRedirect":return Qf;case"reauthViaPopup":case"reauthViaRedirect":return Kf;default:md(this.auth,"internal-error")}}resolve(e){kd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $f=new Nd(2e3,1e4);class Xf extends Yf{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Xf.currentPopupAction&&Xf.currentPopupAction.cancel(),Xf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xd(e,this.auth,"internal-error"),e}async onExecution(){kd(1===this.filter.length,"Popup operations only handle one event");const e=Tf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(gd(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(gd(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gd(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,$f.get())};e()}}Xf.currentPopupAction=null;const Jf=new Map;class Zf extends Yf{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Jf.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=np(t),r=tp(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(bN){e=()=>Promise.reject(bN)}Jf.set(this.auth._key(),e)}return this.bypassAuthState||Jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ep(e,t){Jf.set(e._key(),t)}function tp(e){return rh(e._redirectPersistence)}function np(e){return ah("pendingRedirect",e.config.apiKey,e.name)}async function rp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Gu(e.app))return Promise.reject(vd(e));const r=Eh(e),i=qf(r,t),s=new Zf(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class ip{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ap(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ap(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(gd(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sp(e))}saveEventToCache(e){this.cachedEventUids.add(sp(e)),this.lastProcessedEventTime=Date.now()}}function sp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ap(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const op=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lp=/^https?/;async function cp(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Rd(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(up(n))return}catch(xN){}md(e,"unauthorized-domain")}function up(e){const t=Ed(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!lp.test(n))return!1;if(op.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const dp=new Nd(3e4,6e4);function hp(){const e=_f().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fp(e){return new Promise((t,n)=>{var r,i,s;function a(){hp(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hp(),n(gd(e,"network-request-failed"))},timeout:dp.get()})}if(null===(i=null===(r=_f().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=_f().gapi)||void 0===s?void 0:s.load)){const t=_h("iframefcb");return _f()[t]=()=>{gapi.load?a():n(gd(e,"network-request-failed"))},Nh("".concat(Th.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw pp=null,e})}let pp=null;const mp=new Nd(5e3,15e3),gp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vp(e){const t=e.config;xd(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_d(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Yu},i=yp.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(_c(r).slice(1))}async function bp(e){const t=await function(e){return pp=pp||fp(e),pp}(e),n=_f().gapi;return xd(n,e,"internal-error"),t.open({where:document.body,url:vp(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gp,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=gd(e,"network-request-failed"),s=_f().setTimeout(()=>{r(i)},mp.get());function a(){_f().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const xp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(bN){}}}function kp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},xp),{width:r.toString(),height:i.toString(),top:s,left:a}),c=gc().toLowerCase();n&&(o=dh(c)?"_blank":n),ch(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return gh(arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new wp(null);const d=window.open(t||"",o,u);xd(d,e,"popup-blocked");try{d.focus()}catch(bN){}return new wp(d)}const Ep="__/auth/handler",Sp="emulator/auth/handler",Tp=encodeURIComponent("fac");async function Np(e,t,n,r,i,s){xd(e.config.authDomain,e,"auth-domain-config-required"),xd(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yu,eventId:i};if(t instanceof Yh){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof $h){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Tp,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ep);return _d(t,Sp)}(e),"?").concat(_c(o).slice(1)).concat(c)}const _p="webStorageSupport";const Cp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ef,this._completeRedirectFn=rp,this._overrideRedirectResult=ep}async _openPopup(e,t,n,r){var i;kd(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return kp(e,await Np(e,t,n,Ed(),r),Tf())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){_f().location.href=e}(await Np(e,t,n,Ed(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(kd(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await bp(e),n=new ip(e);return t.register("authEvent",t=>{xd(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_p,{type:_p},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[_p];void 0!==i&&t(!!i),md(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cp(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vh()||uh()||gh()}};var Ip="@firebase/auth",jp="1.10.8";class Ap{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xd(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Pp=cc("authIdTokenMaxAge")||300;let Rp=null;var Dp;Th={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=gd("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Dp="Browser",qu(new Dc("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;xd(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Dp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bh(Dp)},c=new kh(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rh);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),qu(new Dc("auth-internal",e=>(e=>new Ap(e))(Eh(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Ju(Ip,jp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Dp)),Ju(Ip,jp,"esm2017");var Op,Lp,Mp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Vp={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Lp=Vp.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Op=Vp.Integer=r}).apply("undefined"!==typeof Mp?Mp:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Fp,Up,zp,Bp,Hp,qp,Wp,Gp,Kp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Qp={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Kp&&Kp];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout(()=>{throw e},0)}function S(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new N,e=>e.reset());class N{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let _,C=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);_=()=>{e.then(A)}};var A=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){E(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function P(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,R);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),V=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++V,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=H(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function G(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&$(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;w(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&$(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function be(){R.call(this,"c")}d(ve,R),d(be,R);var xe={},we=null;function ke(){return we=we||new ne}function Ee(e){R.call(this,xe.La,e)}function Se(e){const t=ke();re(t,new Ee(t))}function Te(e,t){R.call(this,xe.STAT_EVENT,e),this.stat=t}function Ne(e){const t=ke();re(t,new Te(t,e))}function _e(e,t){R.call(this,xe.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ie(){this.g=!0}function je(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(Ee,R),xe.STAT_EVENT="statevent",d(Te,R),xe.Ma="timingevent",d(_e,R),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Me={},Ve={};function Fe(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),He(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=G(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ve:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Ve:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),$t(n)}rn(n),Ne(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),He(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=h||7==t||Se(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Gt(this.g);e="";var s=r.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ne(12),Ke(this),Ge(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Ve){4==h&&(this.s=4,Ne(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Ne(15),je(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ne(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Ne(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else je(this.i,this.l,o,null),Qe(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Ke(this),Ge(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,Ke(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),Ne(17)),Ke(this),this.s=2,Ge(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function $e(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}$e.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(kt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),Tt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,xt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Et(e,t){kt(e),t=Nt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return kt(e),t=Nt(e,t),e.g.has(t)}function Tt(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Nt(e,t),h(n)),e.h+=n.length)}function Nt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ct(){this.g=new fe}function It(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(bN){throw t.push(r+"type="+encodeURIComponent("_badmap")),bN}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){kt(this),this.i=null,e=Nt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){kt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){kt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){kt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Nt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return kt(this),this.i=null,St(this,e=Nt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(jt,pe),jt.prototype.g=function(){return new At(this.l,this.j)},jt.prototype.i=(mt={},function(){return mt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Dt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Vt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Ht(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Vt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(bN){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new $e(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}dn(e)}function $t(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){$t(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;_||j(),C||(_(),C=!0),I.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{It(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;_||j(),C||(_(),C=!0),I.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=ke(),new _e(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=u(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=u(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(_t,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout(()=>{n.abort(),_t(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)}).catch(()=>{clearTimeout(r),_t(0,0,!1,t)})}(r.toString(),n)}else Ne(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new jt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ne(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ot(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),$t(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,$t(this),rn(this),Ne(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Gp=Qp.createWebChannelTransport=function(){return new mn},Wp=Qp.getStatEventTarget=function(){return ke()},qp=Qp.Event=xe,Hp=Qp.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Bp=Qp.ErrorCode=Pe,Re.COMPLETE="complete",zp=Qp.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Up=Qp.WebChannel=ge,Qp.FetchXmlHttpFactory=jt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Fp=Qp.XhrIo=Mt}).apply("undefined"!==typeof Kp?Kp:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Yp="@firebase/firestore",$p="4.8.0";class Xp{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xp.UNAUTHENTICATED=new Xp(null),Xp.GOOGLE_CREDENTIALS=new Xp("google-credentials-uid"),Xp.FIRST_PARTY=new Xp("first-party-uid"),Xp.MOCK_USER=new Xp("mock-user");let Jp="11.10.0";const Zp=new qc("@firebase/firestore");function em(){return Zp.logLevel}function tm(e){if(Zp.logLevel<=Fc.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(im);Zp.debug("Firestore (".concat(Jp,"): ").concat(e),...i)}}function nm(e){if(Zp.logLevel<=Fc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(im);Zp.error("Firestore (".concat(Jp,"): ").concat(e),...i)}}function rm(e){if(Zp.logLevel<=Fc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(im);Zp.warn("Firestore (".concat(Jp,"): ").concat(e),...i)}}function im(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function sm(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,am(e,r,n)}function am(e,t,n){let r="FIRESTORE (".concat(Jp,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw nm(r),new Error(r)}function om(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||am(t,i,r)}function lm(e,t){return e}const cm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class um extends kc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class dm{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class fm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xp.UNAUTHENTICATED))}shutdown(){}}class pm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mm{constructor(e){this.t=e,this.currentUser=Xp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){om(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new dm;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new dm,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{tm("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(tm("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new dm)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(tm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(om("string"==typeof t.accessToken,31837,{l:t}),new hm(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return om(null===e||"string"==typeof e,2055,{h:e}),new Xp(e)}}class gm{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Xp.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ym{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new gm(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xp.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bm{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gu(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){om(void 0===this.o,3512);const n=e=>{null!=e.error&&tm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,tm("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{tm("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):tm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vm(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(om("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new vm(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xm(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function wm(){return new TextEncoder}class km{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=xm(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Em(e,t){return e<t?-1:e>t?1:0}function Sm(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Em(r,i);{const s=wm(),a=Nm(s.encode(Tm(e,n)),s.encode(Tm(t,n)));return 0!==a?a:Em(r,i)}}n+=r>65535?2:1}return Em(e.length,t.length)}function Tm(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Nm(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Em(e[n],t[n]);return Em(e.length,t.length)}function _m(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Cm="__name__";class Im{constructor(e,t,n){void 0===t?t=0:t>e.length&&sm(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&sm(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Im.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Im?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Im.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Em(e.length,t.length)}static compareSegments(e,t){const n=Im.isNumericId(e),r=Im.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Im.extractNumericId(e).compare(Im.extractNumericId(t)):Sm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Op.fromString(e.substring(4,e.length-2))}}class jm extends Im{construct(e,t,n){return new jm(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new um(cm.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new jm(e)}static emptyPath(){return new jm([])}}const Am=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pm extends Im{construct(e,t,n){return new Pm(e,t,n)}static isValidIdentifier(e){return Am.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pm.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Cm}static keyField(){return new Pm([Cm])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new um(cm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new um(cm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new um(cm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new um(cm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pm(t)}static emptyPath(){return new Pm([])}}class Rm{constructor(e){this.path=e}static fromPath(e){return new Rm(jm.fromString(e))}static fromName(e){return new Rm(jm.fromString(e).popFirst(5))}static empty(){return new Rm(jm.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jm.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jm.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rm(new jm(e.slice()))}}function Dm(e,t,n){if(!n)throw new um(cm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Om(e){if(!Rm.isDocumentKey(e))throw new um(cm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lm(e){if(Rm.isDocumentKey(e))throw new um(cm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Mm(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Vm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":sm(12329,{type:typeof e})}function Fm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new um(cm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vm(e);throw new um(cm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Um(e,t){const n={typeString:e};return t&&(n.value=t),n}function zm(e,t){if(!Mm(e))throw new um(cm.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(i&&typeof a!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&a!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new um(cm.INVALID_ARGUMENT,n);return!0}const Bm=-62135596800,Hm=1e6;class qm{static now(){return qm.fromMillis(Date.now())}static fromDate(e){return qm.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Hm);return new qm(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new um(cm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new um(cm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Bm)throw new um(cm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new um(cm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hm}_compareTo(e){return this.seconds===e.seconds?Em(this.nanoseconds,e.nanoseconds):Em(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qm._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zm(e,qm._jsonSchema))return new qm(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Bm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qm._jsonSchemaVersion="firestore/timestamp/1.0",qm._jsonSchema={type:Um("string",qm._jsonSchemaVersion),seconds:Um("number"),nanoseconds:Um("number")};class Wm{static fromTimestamp(e){return new Wm(e)}static min(){return new Wm(new qm(0,0))}static max(){return new Wm(new qm(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gm=-1;class Km{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Km.UNKNOWN_ID=-1;function Qm(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Wm.fromTimestamp(1e9===r?new qm(n+1,0):new qm(n,r));return new $m(i,Rm.empty(),t)}function Ym(e){return new $m(e.readTime,e.key,Gm)}class $m{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new $m(Wm.min(),Rm.empty(),Gm)}static max(){return new $m(Wm.max(),Rm.empty(),Gm)}}function Xm(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Rm.comparator(e.documentKey,t.documentKey),0!==n?n:Em(e.largestBatchId,t.largestBatchId))}const Jm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function eg(e){if(e.code!==cm.FAILED_PRECONDITION||e.message!==Jm)throw e;tm("LocalStore","Unexpectedly lost primary lease")}class tg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sm(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tg((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof tg?t:tg.resolve(t)}catch(e){return tg.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):tg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):tg.reject(t)}static resolve(e){return new tg((t,n)=>{t(e)})}static reject(e){return new tg((t,n)=>{n(e)})}static waitFor(e){return new tg((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=tg.resolve(!1);for(const n of e)t=t.next(e=>e?tg.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new tg((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new tg((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function ng(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rg(e){return"IndexedDbTransactionError"===e.name}class ig{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ig.ue=-1;const sg=-1;function ag(e){return null==e}function og(e){return 0===e&&1/e==-1/0}function lg(e){return"number"==typeof e&&Number.isInteger(e)&&!og(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const cg="\x01";function ug(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hg(t)),t=dg(e.get(n),t);return hg(t)}function dg(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case cg:n+="\x01\x11";break;default:n+=t}}return n}function hg(e){return e+cg+"\x01"}const fg="remoteDocuments",pg="owner",mg="mutationQueues",gg="mutations";const yg="documentMutations",vg="remoteDocumentsV14",bg="remoteDocumentGlobal",xg="targets",wg="targetDocuments",kg="targetGlobal",Eg="collectionParents",Sg="clientMetadata",Tg="bundles",Ng="namedQueries",_g="indexConfiguration",Cg="indexState",Ig="indexEntries",jg="documentOverlays",Ag="globals",Pg=[mg,gg,yg,fg,xg,pg,kg,wg,Sg,bg,Eg,Tg,Ng],Rg=[mg,gg,yg,vg,xg,pg,kg,wg,Sg,bg,Eg,Tg,Ng,jg],Dg=Rg,Og=[...Dg,_g,Cg,Ig];function Lg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Mg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Vg(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Fg{constructor(e,t){this.comparator=e,this.root=t||zg.EMPTY}insert(e,t){return new Fg(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zg.BLACK,null,null))}remove(e){return new Fg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zg.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ug(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ug(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ug(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ug(this.root,e,this.comparator,!0)}}class Ug{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zg{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:zg.RED,this.left=null!=r?r:zg.EMPTY,this.right=null!=i?i:zg.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new zg(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return zg.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return zg.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zg.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zg.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw sm(43730,{key:this.key,value:this.value});if(this.right.isRed())throw sm(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw sm(27949);return e+(this.isRed()?0:1)}}zg.EMPTY=null,zg.RED=!0,zg.BLACK=!1,zg.EMPTY=new class{constructor(){this.size=0}get key(){throw sm(57766)}get value(){throw sm(16141)}get color(){throw sm(16727)}get left(){throw sm(29726)}get right(){throw sm(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new zg(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bg{constructor(e){this.comparator=e,this.data=new Fg(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hg(this.data.getIterator())}getIteratorFrom(e){return new Hg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Bg))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bg(this.comparator);return t.data=e,t}}class Hg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qg{constructor(e){this.fields=e,e.sort(Pm.comparator)}static empty(){return new qg([])}unionWith(e){let t=new Bg(Pm.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new qg(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _m(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Wg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gg{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Wg("Invalid base64 string: "+e):e}}(e);return new Gg(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Gg(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Em(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gg.EMPTY_BYTE_STRING=new Gg("");const Kg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qg(e){if(om(!!e,39018),"string"==typeof e){let t=0;const n=Kg.exec(e);if(om(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Yg(e.seconds),nanos:Yg(e.nanos)}}function Yg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function $g(e){return"string"==typeof e?Gg.fromBase64String(e):Gg.fromUint8Array(e)}const Xg="server_timestamp",Jg="__type__",Zg="__previous_value__",ey="__local_write_time__";function ty(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Jg])||void 0===n?void 0:n.stringValue)===Xg}function ny(e){const t=e.mapValue.fields[Zg];return ty(t)?ny(t):t}function ry(e){const t=Qg(e.mapValue.fields[ey].timestampValue);return new qm(t.seconds,t.nanos)}class iy{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const sy="(default)";class ay{constructor(e,t){this.projectId=e,this.database=t||sy}static empty(){return new ay("","")}get isDefaultDatabase(){return this.database===sy}isEqual(e){return e instanceof ay&&e.projectId===this.projectId&&e.database===this.database}}const oy="__type__",ly="__max__",cy={mapValue:{fields:{__type__:{stringValue:ly}}}},uy="__vector__",dy="value";function hy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ty(e)?4:Iy(e)?9007199254740991:_y(e)?10:11:sm(28295,{value:e})}function fy(e,t){if(e===t)return!0;const n=hy(e);if(n!==hy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ry(e).isEqual(ry(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Qg(e.timestampValue),r=Qg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return $g(e.bytesValue).isEqual($g(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Yg(e.geoPointValue.latitude)===Yg(t.geoPointValue.latitude)&&Yg(e.geoPointValue.longitude)===Yg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Yg(e.integerValue)===Yg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Yg(e.doubleValue),r=Yg(t.doubleValue);return n===r?og(n)===og(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return _m(e.arrayValue.values||[],t.arrayValue.values||[],fy);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Lg(n)!==Lg(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fy(n[i],r[i])))return!1;return!0}(e,t);default:return sm(52216,{left:e})}}function py(e,t){return void 0!==(e.values||[]).find(e=>fy(e,t))}function my(e,t){if(e===t)return 0;const n=hy(e),r=hy(t);if(n!==r)return Em(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Em(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Yg(e.integerValue||e.doubleValue),r=Yg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return gy(e.timestampValue,t.timestampValue);case 4:return gy(ry(e),ry(t));case 5:return Sm(e.stringValue,t.stringValue);case 6:return function(e,t){const n=$g(e),r=$g(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Em(n[i],r[i]);if(0!==e)return e}return Em(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Em(Yg(e.latitude),Yg(t.latitude));return 0!==n?n:Em(Yg(e.longitude),Yg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return yy(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[dy])||void 0===n?void 0:n.arrayValue,c=null===(r=o[dy])||void 0===r?void 0:r.arrayValue,u=Em((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:yy(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===cy.mapValue&&t===cy.mapValue)return 0;if(e===cy.mapValue)return 1;if(t===cy.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Sm(r[a],s[a]);if(0!==e)return e;const t=my(n[r[a]],i[s[a]]);if(0!==t)return t}return Em(r.length,s.length)}(e.mapValue,t.mapValue);default:throw sm(23264,{le:n})}}function gy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Em(e,t);const n=Qg(e),r=Qg(t),i=Em(n.seconds,r.seconds);return 0!==i?i:Em(n.nanos,r.nanos)}function yy(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=my(n[i],r[i]);if(e)return e}return Em(n.length,r.length)}function vy(e){return by(e)}function by(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Qg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return $g(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Rm.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=by(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(by(e.fields[i]));return n+"}"}(e.mapValue):sm(61005,{value:e})}function xy(e){switch(hy(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ny(e);return t?16+xy(t):16;case 5:return 2*e.stringValue.length;case 6:return $g(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+xy(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Mg(e.fields,(e,n)=>{t+=e.length+xy(n)}),t}(e.mapValue);default:throw sm(13486,{value:e})}}function wy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ky(e){return!!e&&"integerValue"in e}function Ey(e){return!!e&&"arrayValue"in e}function Sy(e){return!!e&&"nullValue"in e}function Ty(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ny(e){return!!e&&"mapValue"in e}function _y(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[oy])||void 0===n?void 0:n.stringValue)===uy}function Cy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Mg(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Cy(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cy(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Iy(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ly}class jy{constructor(e){this.value=e}static empty(){return new jy({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ny(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cy(t)}setAll(e){let t=Pm.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Cy(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ny(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fy(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ny(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Mg(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new jy(Cy(this.value))}}function Ay(e){const t=[];return Mg(e.fields,(e,n)=>{const r=new Pm([e]);if(Ny(n)){const e=Ay(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new qg(t)}class Py{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Py(e,0,Wm.min(),Wm.min(),Wm.min(),jy.empty(),0)}static newFoundDocument(e,t,n,r){return new Py(e,1,t,Wm.min(),n,r,0)}static newNoDocument(e,t){return new Py(e,2,t,Wm.min(),Wm.min(),jy.empty(),0)}static newUnknownDocument(e,t){return new Py(e,3,t,Wm.min(),Wm.min(),jy.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wm.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jy.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jy.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wm.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Py&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Py(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ry{constructor(e,t){this.position=e,this.inclusive=t}}function Dy(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Rm.comparator(Rm.fromName(a.referenceValue),n.key):my(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Oy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!fy(e.position[n],t.position[n]))return!1;return!0}class Ly{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function My(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Vy{}class Fy extends Vy{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ky(e,t,n):"array-contains"===t?new Xy(e,n):"in"===t?new Jy(e,n):"not-in"===t?new Zy(e,n):"array-contains-any"===t?new ev(e,n):new Fy(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Qy(e,n):new Yy(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(my(t,this.value)):null!==t&&hy(this.value)===hy(t)&&this.matchesComparison(my(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sm(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Uy extends Vy{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Uy(e,t)}matches(e){return zy(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function zy(e){return"and"===e.op}function By(e){return Hy(e)&&zy(e)}function Hy(e){for(const t of e.filters)if(t instanceof Uy)return!1;return!0}function qy(e){if(e instanceof Fy)return e.field.canonicalString()+e.op.toString()+vy(e.value);if(By(e))return e.filters.map(e=>qy(e)).join(",");{const t=e.filters.map(e=>qy(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Wy(e,t){return e instanceof Fy?function(e,t){return t instanceof Fy&&e.op===t.op&&e.field.isEqual(t.field)&&fy(e.value,t.value)}(e,t):e instanceof Uy?function(e,t){return t instanceof Uy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Wy(n,t.filters[r]),!0)}(e,t):void sm(19439)}function Gy(e){return e instanceof Fy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(vy(e.value))}(e):e instanceof Uy?function(e){return e.op.toString()+" {"+e.getFilters().map(Gy).join(" ,")+"}"}(e):"Filter"}class Ky extends Fy{constructor(e,t,n){super(e,t,n),this.key=Rm.fromName(n.referenceValue)}matches(e){const t=Rm.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qy extends Fy{constructor(e,t){super(e,"in",t),this.keys=$y("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Yy extends Fy{constructor(e,t){super(e,"not-in",t),this.keys=$y("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $y(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Rm.fromName(e.referenceValue))}class Xy extends Fy{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ey(t)&&py(t.arrayValue,this.value)}}class Jy extends Fy{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&py(this.value.arrayValue,t)}}class Zy extends Fy{constructor(e,t){super(e,"not-in",t)}matches(e){if(py(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!py(this.value.arrayValue,t)}}class ev extends Fy{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>py(this.value.arrayValue,e))}}class tv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Pe=null}}function nv(e){return new tv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function rv(e){const t=lm(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>qy(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),ag(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>vy(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>vy(e)).join(",")),t.Pe=e}return t.Pe}function iv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!My(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Wy(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Oy(e.startAt,t.startAt)&&Oy(e.endAt,t.endAt)}function sv(e){return Rm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class av{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function ov(e,t,n,r,i,s,a,o){return new av(e,t,n,r,i,s,a,o)}function lv(e){return new av(e)}function cv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function uv(e){return null!==e.collectionGroup}function dv(e){const t=lm(e);if(null===t.Te){t.Te=[];const e=new Set;for(const i of t.explicitOrderBy)t.Te.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Bg(Pm.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new Ly(r,n))}),e.has(Pm.keyField().canonicalString())||t.Te.push(new Ly(Pm.keyField(),n))}return t.Te}function hv(e){const t=lm(e);return t.Ie||(t.Ie=fv(t,dv(e))),t.Ie}function fv(e,t){if("F"===e.limitType)return nv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ly(e.field,t)});const n=e.endAt?new Ry(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ry(e.startAt.position,e.startAt.inclusive):null;return nv(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function pv(e,t){const n=e.filters.concat([t]);return new av(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function mv(e,t,n){return new av(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function gv(e,t){return iv(hv(e),hv(t))&&e.limitType===t.limitType}function yv(e){return"".concat(rv(hv(e)),"|lt:").concat(e.limitType)}function vv(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Gy(e)).join(", "),"]")),ag(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>vy(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>vy(e)).join(",")),"Target(".concat(t,")")}(hv(e)),"; limitType=").concat(e.limitType,")")}function bv(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Rm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of dv(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Dy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,dv(e),t))&&!(e.endAt&&!function(e,t,n){const r=Dy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,dv(e),t))}(e,t)}function xv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wv(e){return(t,n)=>{let r=!1;for(const i of dv(e)){const e=kv(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function kv(e,t,n){const r=e.field.isKeyField()?Rm.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?my(r,i):sm(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return sm(19790,{direction:e.dir})}}class Ev{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Mg(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Vg(this.inner)}size(){return this.innerSize}}const Sv=new Fg(Rm.comparator);function Tv(){return Sv}const Nv=new Fg(Rm.comparator);function _v(){let e=Nv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Cv(e){let t=Nv;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Iv(){return Av()}function jv(){return Av()}function Av(){return new Ev(e=>e.toString(),(e,t)=>e.isEqual(t))}const Pv=new Fg(Rm.comparator),Rv=new Bg(Rm.comparator);function Dv(){let e=Rv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ov=new Bg(Em);function Lv(){return Ov}function Mv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:og(t)?"-0":t}}function Vv(e){return{integerValue:""+e}}function Fv(e,t){return lg(t)?Vv(t):Mv(e,t)}class Uv{constructor(){this._=void 0}}function zv(e,t,n){return e instanceof qv?function(e,t){const n={fields:{[Jg]:{stringValue:Xg},[ey]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ty(t)&&(t=ny(t)),t&&(n.fields[Zg]=t),{mapValue:n}}(n,t):e instanceof Wv?Gv(e,t):e instanceof Kv?Qv(e,t):function(e,t){const n=Hv(e,t),r=$v(n)+$v(e.Ee);return ky(n)&&ky(e.Ee)?Vv(r):Mv(e.serializer,r)}(e,t)}function Bv(e,t,n){return e instanceof Wv?Gv(e,t):e instanceof Kv?Qv(e,t):n}function Hv(e,t){return e instanceof Yv?function(e){return ky(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class qv extends Uv{}class Wv extends Uv{constructor(e){super(),this.elements=e}}function Gv(e,t){const n=Xv(t);for(const r of e.elements)n.some(e=>fy(e,r))||n.push(r);return{arrayValue:{values:n}}}class Kv extends Uv{constructor(e){super(),this.elements=e}}function Qv(e,t){let n=Xv(t);for(const r of e.elements)n=n.filter(e=>!fy(e,r));return{arrayValue:{values:n}}}class Yv extends Uv{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function $v(e){return Yg(e.integerValue||e.doubleValue)}function Xv(e){return Ey(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Jv{constructor(e,t){this.field=e,this.transform=t}}class Zv{constructor(e,t){this.version=e,this.transformResults=t}}class eb{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new eb}static exists(e){return new eb(void 0,e)}static updateTime(e){return new eb(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class nb{}function rb(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new fb(e.key,eb.none()):new lb(e.key,e.data,eb.none());{const n=e.data,r=jy.empty();let i=new Bg(Pm.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new cb(e.key,r,new qg(i.toArray()),eb.none())}}function ib(e,t,n){e instanceof lb?function(e,t,n){const r=e.value.clone(),i=db(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof cb?function(e,t,n){if(!tb(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=db(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ub(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function sb(e,t,n,r){return e instanceof lb?function(e,t,n,r){if(!tb(e.precondition,t))return n;const i=e.value.clone(),s=hb(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof cb?function(e,t,n,r){if(!tb(e.precondition,t))return n;const i=hb(e.fieldTransforms,r,t),s=t.data;return s.setAll(ub(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return tb(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ab(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Hv(r.transform,e||null);null!=i&&(null===n&&(n=jy.empty()),n.set(r.field,i))}return n||null}function ob(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&_m(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Wv&&t instanceof Wv||e instanceof Kv&&t instanceof Kv?_m(e.elements,t.elements,fy):e instanceof Yv&&t instanceof Yv?fy(e.Ee,t.Ee):e instanceof qv&&t instanceof qv}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class lb extends nb{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class cb extends nb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ub(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function db(e,t,n){const r=new Map;om(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Bv(a,o,n[i]))}return r}function hb(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,zv(e,s,t))}return r}class fb extends nb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pb extends nb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mb{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ib(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=sb(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=sb(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=jv();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=rb(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Wm.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dv())}isEqual(e){return this.batchId===e.batchId&&_m(this.mutations,e.mutations,(e,t)=>ob(e,t))&&_m(this.baseMutations,e.baseMutations,(e,t)=>ob(e,t))}}class gb{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){om(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=Pv;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new gb(e,t,n,r)}}class yb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class vb{constructor(e,t){this.count=e,this.unchangedNames=t}}var bb,xb;function wb(e){switch(e){case cm.OK:return sm(64938);case cm.CANCELLED:case cm.UNKNOWN:case cm.DEADLINE_EXCEEDED:case cm.RESOURCE_EXHAUSTED:case cm.INTERNAL:case cm.UNAVAILABLE:case cm.UNAUTHENTICATED:return!1;case cm.INVALID_ARGUMENT:case cm.NOT_FOUND:case cm.ALREADY_EXISTS:case cm.PERMISSION_DENIED:case cm.FAILED_PRECONDITION:case cm.ABORTED:case cm.OUT_OF_RANGE:case cm.UNIMPLEMENTED:case cm.DATA_LOSS:return!0;default:return sm(15467,{code:e})}}function kb(e){if(void 0===e)return nm("GRPC error has no .code"),cm.UNKNOWN;switch(e){case bb.OK:return cm.OK;case bb.CANCELLED:return cm.CANCELLED;case bb.UNKNOWN:return cm.UNKNOWN;case bb.DEADLINE_EXCEEDED:return cm.DEADLINE_EXCEEDED;case bb.RESOURCE_EXHAUSTED:return cm.RESOURCE_EXHAUSTED;case bb.INTERNAL:return cm.INTERNAL;case bb.UNAVAILABLE:return cm.UNAVAILABLE;case bb.UNAUTHENTICATED:return cm.UNAUTHENTICATED;case bb.INVALID_ARGUMENT:return cm.INVALID_ARGUMENT;case bb.NOT_FOUND:return cm.NOT_FOUND;case bb.ALREADY_EXISTS:return cm.ALREADY_EXISTS;case bb.PERMISSION_DENIED:return cm.PERMISSION_DENIED;case bb.FAILED_PRECONDITION:return cm.FAILED_PRECONDITION;case bb.ABORTED:return cm.ABORTED;case bb.OUT_OF_RANGE:return cm.OUT_OF_RANGE;case bb.UNIMPLEMENTED:return cm.UNIMPLEMENTED;case bb.DATA_LOSS:return cm.DATA_LOSS;default:return sm(39323,{code:e})}}(xb=bb||(bb={}))[xb.OK=0]="OK",xb[xb.CANCELLED=1]="CANCELLED",xb[xb.UNKNOWN=2]="UNKNOWN",xb[xb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xb[xb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xb[xb.NOT_FOUND=5]="NOT_FOUND",xb[xb.ALREADY_EXISTS=6]="ALREADY_EXISTS",xb[xb.PERMISSION_DENIED=7]="PERMISSION_DENIED",xb[xb.UNAUTHENTICATED=16]="UNAUTHENTICATED",xb[xb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xb[xb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xb[xb.ABORTED=10]="ABORTED",xb[xb.OUT_OF_RANGE=11]="OUT_OF_RANGE",xb[xb.UNIMPLEMENTED=12]="UNIMPLEMENTED",xb[xb.INTERNAL=13]="INTERNAL",xb[xb.UNAVAILABLE=14]="UNAVAILABLE",xb[xb.DATA_LOSS=15]="DATA_LOSS";let Eb=null;const Sb=new Op([4294967295,4294967295],0);function Tb(e){const t=wm().encode(e),n=new Lp;return n.update(t),new Uint8Array(n.digest())}function Nb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Op([n,r],0),new Op([i,s],0)]}class _b{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Cb("Invalid padding: ".concat(t));if(n<0)throw new Cb("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Cb("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Cb("Invalid padding when bitmap length is 0: ".concat(t));this.fe=8*e.length-t,this.ge=Op.fromNumber(this.fe)}pe(e,t,n){let r=e.add(t.multiply(Op.fromNumber(n)));return 1===r.compare(Sb)&&(r=new Op([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=Tb(e),[n,r]=Nb(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new _b(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.fe)return;const t=Tb(e),[n,r]=Nb(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Cb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ib{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,jb.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ib(Wm.min(),r,new Fg(Em),Tv(),Dv())}}class jb{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new jb(n,t,Dv(),Dv(),Dv())}}class Ab{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class Pb{constructor(e,t){this.targetId=e,this.De=t}}class Rb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gg.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Db{constructor(){this.ve=0,this.Ce=Mb(),this.Fe=Gg.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Dv(),t=Dv(),n=Dv();return this.Ce.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:sm(38017,{changeType:i})}}),new jb(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=Mb()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,om(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Ob{constructor(e){this.We=e,this.Ge=new Map,this.ze=Tv(),this.je=Lb(),this.Je=Lb(),this.He=new Fg(Em)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:sm(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const i=r.target;if(sv(i))if(0===n){const e=new Rm(i.path);this.Xe(t,e,Py.newNoDocument(e,Wm.min()))}else om(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),i=n?this.ut(n,e,r):1;if(0!==i){this.rt(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==Eb||Eb.ct(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.De,this.We.lt(),n,i))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=$g(n).toUint8Array()}catch(e){if(e instanceof Wg)return rm("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new _b(s,r,i)}catch(e){return rm(e instanceof Cb?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.fe?null:a}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.We.lt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const i=this.st(r);if(i){if(n.current&&sv(i.target)){const t=new Rm(i.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,Py.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=Dv();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new Ib(e,t,this.He,this.ze,n);return this.ze=Tv(),this.je=Lb(),this.Je=Lb(),this.He=new Fg(Em),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Db,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Bg(Em),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Bg(Em),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||tm("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Db),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Lb(){return new Fg(Rm.comparator)}function Mb(){return new Fg(Rm.comparator)}const Vb={asc:"ASCENDING",desc:"DESCENDING"},Fb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ub={and:"AND",or:"OR"};class zb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bb(e,t){return e.useProto3Json||ag(t)?t:{value:t}}function Hb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function qb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Wb(e,t){return Hb(e,t.toTimestamp())}function Gb(e){return om(!!e,49232),Wm.fromTimestamp(function(e){const t=Qg(e);return new qm(t.seconds,t.nanos)}(e))}function Kb(e,t){return Qb(e,t).canonicalString()}function Qb(e,t){const n=function(e){return new jm(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Yb(e){const t=jm.fromString(e);return om(mx(t),10190,{key:t.toString()}),t}function $b(e,t){return Kb(e.databaseId,t.path)}function Xb(e,t){const n=Yb(t);if(n.get(1)!==e.databaseId.projectId)throw new um(cm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new um(cm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rm(tx(n))}function Jb(e,t){return Kb(e.databaseId,t)}function Zb(e){const t=Yb(e);return 4===t.length?jm.emptyPath():tx(t)}function ex(e){return new jm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function tx(e){return om(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function nx(e,t,n){return{name:$b(e,t),fields:n.value.mapValue.fields}}function rx(e,t){let n;if(t instanceof lb)n={update:nx(e,t.key,t.value)};else if(t instanceof fb)n={delete:$b(e,t.key)};else if(t instanceof cb)n={update:nx(e,t.key,t.data),updateMask:px(t.fieldMask)};else{if(!(t instanceof pb))return sm(16599,{Rt:t.type});n={verify:$b(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof qv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Wv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Kv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yv)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw sm(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Wb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:sm(27497)}(e,t.precondition)),n}function ix(e,t){return{documents:[Jb(e,t.path)]}}function sx(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Jb(e,i);const s=function(e){if(0!==e.length)return fx(Uy.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:dx(e.field),direction:lx(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Bb(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:i}}function ax(e){let t=Zb(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){om(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ox(e);return t instanceof Uy&&By(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Ly(hx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,ag(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ry(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ry(n,t)}(n.endAt)),ov(t,i,a,s,o,"F",l,c)}function ox(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hx(e.unaryFilter.field);return Fy.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=hx(e.unaryFilter.field);return Fy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=hx(e.unaryFilter.field);return Fy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=hx(e.unaryFilter.field);return Fy.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return sm(61313);default:return sm(60726)}}(e):void 0!==e.fieldFilter?function(e){return Fy.create(hx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return sm(58110);default:return sm(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Uy.create(e.compositeFilter.filters.map(e=>ox(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return sm(1026)}}(e.compositeFilter.op))}(e):sm(30097,{filter:e})}function lx(e){return Vb[e]}function cx(e){return Fb[e]}function ux(e){return Ub[e]}function dx(e){return{fieldPath:e.canonicalString()}}function hx(e){return Pm.fromServerFormat(e.fieldPath)}function fx(e){return e instanceof Fy?function(e){if("=="===e.op){if(Ty(e.value))return{unaryFilter:{field:dx(e.field),op:"IS_NAN"}};if(Sy(e.value))return{unaryFilter:{field:dx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ty(e.value))return{unaryFilter:{field:dx(e.field),op:"IS_NOT_NAN"}};if(Sy(e.value))return{unaryFilter:{field:dx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dx(e.field),op:cx(e.op),value:e.value}}}(e):e instanceof Uy?function(e){const t=e.getFilters().map(e=>fx(e));return 1===t.length?t[0]:{compositeFilter:{op:ux(e.op),filters:t}}}(e):sm(54877,{filter:e})}function px(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function mx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class gx{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Wm.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Wm.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Gg.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new gx(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gx(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yx{constructor(e){this.gt=e}}function vx(e){const t=ax({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?mv(t,t.limit,"L"):t}class bx{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Yg(e.integerValue));else if("doubleValue"in e){const n=Yg(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),og(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=Qg(n)),t.Mt("".concat(n.seconds||"")),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt($g(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?Iy(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):_y(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):sm(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const i=e.fields||{};this.Ct(t,53);const s=dy,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(Yg(a)),this.xt(s,t),this.Dt(i[s],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),Rm.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}bx.Ut=new bx;class xx{constructor(){this.Dn=new wx}addToCollectionParentIndex(e,t){return this.Dn.add(t),tg.resolve()}getCollectionParents(e,t){return tg.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return tg.resolve()}deleteFieldIndex(e,t){return tg.resolve()}deleteAllFieldIndexes(e){return tg.resolve()}createTargetIndexes(e,t){return tg.resolve()}getDocumentsMatchingTarget(e,t){return tg.resolve(null)}getIndexType(e,t){return tg.resolve(0)}getFieldIndexes(e,t){return tg.resolve([])}getNextCollectionGroupToUpdate(e){return tg.resolve(null)}getMinOffset(e,t){return tg.resolve($m.min())}getMinOffsetFromCollectionGroup(e,t){return tg.resolve($m.min())}updateCollectionGroup(e,t,n){return tg.resolve()}updateIndexEntries(e,t){return tg.resolve()}}class wx{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Bg(jm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Bg(jm.comparator)).toArray()}}new Uint8Array(0);const kx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ex=41943040;class Sx{static withCacheSize(e){return new Sx(e,Sx.DEFAULT_COLLECTION_PERCENTILE,Sx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Sx.DEFAULT_COLLECTION_PERCENTILE=10,Sx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sx.DEFAULT=new Sx(Ex,Sx.DEFAULT_COLLECTION_PERCENTILE,Sx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sx.DISABLED=new Sx(-1,0,0);class Tx{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Tx(0)}static ur(){return new Tx(-1)}}const Nx="LruGarbageCollector",_x=1048576;function Cx(e,t){let[n,r]=e,[i,s]=t;const a=Em(n,i);return 0===a?Em(r,s):a}class Ix{constructor(e){this.Tr=e,this.buffer=new Bg(Cx),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Cx(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jx{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){tm(Nx,"Garbage collection scheduled in ".concat(e,"ms")),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){rg(e)?tm(Nx,"Ignoring IndexedDB error during garbage collection: ",e):await eg(e)}await this.Rr(3e5)})}}class Ax{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return tg.resolve(ig.ue);const n=new Ix(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(tm("LruGarbageCollector","Garbage collection skipped; disabled"),tg.resolve(kx)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(tm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),kx):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(tm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),em()<=Fc.DEBUG&&tm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),tg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Px(e,t){return new Ax(e,t)}class Rx{constructor(){this.changes=new Ev(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Py.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?tg.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ox{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&sb(n.mutation,e,qg.empty(),qm.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Dv()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dv();const r=Iv();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=_v();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Iv();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Dv()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Tv();const s=Av(),a=Av();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof cb)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),sb(a.mutation,t,a.mutation.getFieldMask(),qm.now())):s.set(t.key,qg.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Dx(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Av();let r=new Fg((e,t)=>e-t),i=Dv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||qg.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Dv()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=jv();l.forEach(e=>{if(!i.has(e)){const r=rb(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return tg.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Rm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):tg.resolve(Iv());let a=Gm,o=i;return s.next(t=>tg.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?tg.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Dv())).next(e=>({batchId:a,changes:Cv(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rm(t)).next(e=>{let t=_v();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=_v();return this.indexManager.getCollectionParents(e,i).next(a=>tg.forEach(a,a=>{const o=function(e,t){return new av(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Py.newInvalidDocument(r)))});let n=_v();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&sb(s.mutation,r,qg.empty(),qm.now()),bv(t,r)&&(n=n.insert(e,r))}),n})}}class Lx{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return tg.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Gb(e.createTime)}}(t)),tg.resolve()}getNamedQuery(e,t){return tg.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:vx(e.bundledQuery),readTime:Gb(e.readTime)}}(t)),tg.resolve()}}class Mx{constructor(){this.overlays=new Fg(Rm.comparator),this.kr=new Map}getOverlay(e,t){return tg.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Iv();return tg.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),tg.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),tg.resolve()}getOverlaysForCollection(e,t,n){const r=Iv(),i=t.length+1,s=new Rm(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return tg.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Fg((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Iv(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Iv(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return tg.resolve(a)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new yb(t,n));let i=this.kr.get(t);void 0===i&&(i=Dv(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}}class Vx{constructor(){this.sessionToken=Gg.EMPTY_BYTE_STRING}getSessionToken(e){return tg.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,tg.resolve()}}class Fx{constructor(){this.qr=new Bg(Ux.Qr),this.$r=new Bg(Ux.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new Ux(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new Ux(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new Rm(new jm([])),n=new Ux(t,e),r=new Ux(t,e+1),i=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Rm(new jm([])),n=new Ux(t,e),r=new Ux(t,e+1);let i=Dv();return this.$r.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ux(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ux{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Rm.comparator(e.key,t.key)||Em(e.Hr,t.Hr)}static Ur(e,t){return Em(e.Hr,t.Hr)||Rm.comparator(e.key,t.key)}}class zx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Bg(Ux.Qr)}checkEmpty(e){return tg.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new mb(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Yr=this.Yr.add(new Ux(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return tg.resolve(s)}lookupMutationBatch(e,t){return tg.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return tg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return tg.resolve(0===this.mutationQueue.length?sg:this.er-1)}getAllMutationBatches(e){return tg.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ux(t,0),r=new Ux(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),tg.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Bg(Em);return t.forEach(e=>{const t=new Ux(e,0),r=new Ux(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),tg.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Rm.isDocumentKey(i)||(i=i.child(""));const s=new Ux(new Rm(i),0);let a=new Bg(Em);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Hr)),!0)},s),tg.resolve(this.ei(a))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){om(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return tg.forEach(t.mutations,r=>{const i=new Ux(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new Ux(t,0),r=this.Yr.firstAfterOrEqual(n);return tg.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,tg.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Bx{constructor(e){this.ni=e,this.docs=new Fg(Rm.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return tg.resolve(n?n.document.mutableCopy():Py.newInvalidDocument(t))}getEntries(e,t){let n=Tv();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Py.newInvalidDocument(e))}),tg.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Tv();const s=t.path,a=new Rm(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Xm(Ym(a),n)<=0||(r.has(a.key)||bv(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return tg.resolve(i)}getAllFromCollectionGroup(e,t,n,r){sm(9500)}ri(e,t){return tg.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Hx(this)}getSize(e){return tg.resolve(this.size)}}class Hx extends Rx{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),tg.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class qx{constructor(e){this.persistence=e,this.ii=new Ev(e=>rv(e),iv),this.lastRemoteSnapshotVersion=Wm.min(),this.highestTargetId=0,this.si=0,this.oi=new Fx,this.targetCount=0,this._i=Tx.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),tg.resolve()}getLastRemoteSnapshotVersion(e){return tg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tg.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),tg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),tg.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Tx(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,tg.resolve()}updateTargetData(e,t){return this.hr(t),tg.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,tg.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ii.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),tg.waitFor(i).next(()=>r)}getTargetCount(e){return tg.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return tg.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),tg.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),tg.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),tg.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return tg.resolve(n)}containsKey(e,t){return tg.resolve(this.oi.containsKey(t))}}class Wx{constructor(e,t){this.ai={},this.overlays={},this.ui=new ig(0),this.ci=!1,this.ci=!0,this.li=new Vx,this.referenceDelegate=e(this),this.hi=new qx(this),this.indexManager=new xx,this.remoteDocumentCache=function(e){return new Bx(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new yx(t),this.Ti=new Lx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new zx(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){tm("MemoryPersistence","Starting transaction:",e);const r=new Gx(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return tg.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class Gx extends Zm{constructor(e){super(),this.currentSequenceNumber=e}}class Kx{constructor(e){this.persistence=e,this.Ai=new Fx,this.Ri=null}static Vi(e){return new Kx(e)}get mi(){if(this.Ri)return this.Ri;throw sm(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),tg.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),tg.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),tg.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tg.forEach(this.mi,n=>{const r=Rm.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,Wm.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return tg.or([()=>tg.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Qx{constructor(e,t){this.persistence=e,this.gi=new Ev(e=>ug(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Px(this,t)}static Vi(e,t){return new Qx(e,t)}Ii(){}di(e){return tg.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return tg.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?tg.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Wm.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),tg.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),tg.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),tg.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),tg.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xy(e.data.value)),t}Sr(e,t,n){return tg.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return tg.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=Dv(),r=Dv();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Yx(e,t.fromCache,n,r)}}class $x{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Xx{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=bc()?8:ng(gc())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ps(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ys(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new $x;return this.ws(e,t,n).next(r=>{if(i.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>i.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(em()<=Fc.DEBUG&&tm("QueryEngine","SDK will not create cache indexes for query:",vv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),tg.resolve()):(em()<=Fc.DEBUG&&tm("QueryEngine","Query:",vv(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(em()<=Fc.DEBUG&&tm("QueryEngine","The SDK decides to create cache indexes for query:",vv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hv(t))):tg.resolve())}ps(e,t){if(cv(t))return tg.resolve(null);let n=hv(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=mv(t,null,"F"),n=hv(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Dv(...r);return this.gs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.bs(t,r);return this.Ds(t,s,i,n.readTime)?this.ps(e,mv(t,null,"F")):this.vs(e,s,t,n)}))})))}ys(e,t,n,r){return cv(t)||r.isEqual(Wm.min())?tg.resolve(null):this.gs.getDocuments(e,n).next(i=>{const s=this.bs(t,i);return this.Ds(t,s,n,r)?tg.resolve(null):(em()<=Fc.DEBUG&&tm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vv(t)),this.vs(e,s,t,Qm(r,Gm)).next(e=>e))})}bs(e,t){let n=new Bg(wv(e));return t.forEach((t,r)=>{bv(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ws(e,t,n){return em()<=Fc.DEBUG&&tm("QueryEngine","Using full collection scan to execute query:",vv(t)),this.gs.getDocumentsMatchingQuery(e,t,$m.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Jx="LocalStore";class Zx{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new Fg(Em),this.Ms=new Ev(e=>rv(e),iv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ox(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function ew(e,t,n,r){return new Zx(e,t,n,r)}async function tw(e,t){const n=lm(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=Dv();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Bs:e,removedBatchIds:i,addedBatchIds:s}))})})}function nw(e){const t=lm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function rw(e,t,n){let r=Dv(),i=Dv();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Tv();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Wm.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):tm(Jx,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ls:r,ks:i}})}function iw(e,t){const n=lm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=sg),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function sw(e,t){const n=lm(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(i=>i?(r=i,tg.resolve(r)):n.hi.allocateTargetId(e).next(i=>(r=new gx(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function aw(e,t,n){const r=lm(e),i=r.Fs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!rg(e))throw e;tm(Jx,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function ow(e,t,n){const r=lm(e);let i=Wm.min(),s=Dv();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=lm(e),i=r.Ms.get(n);return void 0!==i?tg.resolve(r.Fs.get(i)):r.hi.getTargetData(t,n)}(r,e,hv(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:Wm.min(),n?s:Dv())).next(e=>(lw(r,xv(t),e),{documents:e,qs:s})))}function lw(e,t,n){let r=e.xs.get(t)||Wm.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class cw{constructor(){this.activeTargetIds=Lv()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uw{constructor(){this.Fo=new cw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new cw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dw{xo(e){}shutdown(){}}const hw="ConnectivityMonitor";class fw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){tm(hw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){tm(hw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pw=null;function mw(){return null===pw?pw=268435456+Math.round(2147483648*Math.random()):pw++,"0x"+pw.toString(16)}const gw="RestConnection",yw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vw{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo="projects/".concat(n,"/databases/").concat(r),this.Ko=this.databaseId.database===sy?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Wo(e,t,n,r,i){const s=mw(),a=this.Go(e,t.toUriEncodedString());tm(gw,"Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(o,r,i);const{host:l}=new URL(a),c=dc(l);return this.jo(e,a,o,n,c).then(t=>(tm(gw,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw rm(gw,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Jo(e,t,n,r,i,s){return this.Wo(e,t,n,r,i)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=yw[e];return"".concat(this.$o,"/v1/").concat(t,":").concat(n)}terminate(){}}class bw{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const xw="WebChannelConnection";class ww extends vw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,i){const s=mw();return new Promise((i,a)=>{const o=new Fp;o.setWithCredentials(!0),o.listenOnce(zp.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Bp.NO_ERROR:const t=o.getResponseJson();tm(xw,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(t)),i(t);break;case Bp.TIMEOUT:tm(xw,"RPC '".concat(e,"' ").concat(s," timed out")),a(new um(cm.DEADLINE_EXCEEDED,"Request time out"));break;case Bp.HTTP_ERROR:const n=o.getStatus();if(tm(xw,"RPC '".concat(e,"' ").concat(s," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(cm).indexOf(t)>=0?t:cm.UNKNOWN}(t.status);a(new um(e,t.message))}else a(new um(cm.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new um(cm.UNAVAILABLE,"Connection failed."));break;default:sm(9055,{c_:e,streamId:s,l_:o.getLastErrorCode(),h_:o.getLastError()})}}finally{tm(xw,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);tm(xw,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}P_(e,t,n){const r=mw(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Gp(),a=Wp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.zo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");tm(xw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);this.T_(u);let d=!1,h=!1;const f=new bw({Ho:t=>{h?tm(xw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(tm(xw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),tm(xw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Yo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Up.EventType.OPEN,()=>{h||(tm(xw,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.s_())}),p(u,Up.EventType.CLOSE,()=>{h||(h=!0,tm(xw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.__(),this.I_(u))}),p(u,Up.EventType.ERROR,t=>{h||(h=!0,rm(xw,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.__(new um(cm.UNAVAILABLE,"The operation could not be completed")))}),p(u,Up.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];om(!!i,16349);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){tm(xw,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=bb[e];if(void 0!==t)return kb(t)}(t),i=a.message;void 0===n&&(n=cm.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.__(new um(n,i)),u.close()}else tm(xw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.a_(i)}}),p(a,qp.STAT_EVENT,t=>{t.stat===Hp.PROXY?tm(xw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Hp.NOPROXY&&tm(xw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.o_()},0),f}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function kw(){return"undefined"!=typeof document?document:null}function Ew(e){return new zb(e,!0)}class Sw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&tm("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.R_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const Tw="PersistentStream";class Nw{constructor(e,t,n,r,i,s,a,o){this.Fi=e,this.w_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Sw(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===cm.RESOURCE_EXHAUSTED?(nm(t.toString()),nm("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===cm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.b_===t&&this.W_(n,r)},t=>{e(()=>{const e=new um(cm.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return tm(Tw,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(tm(Tw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _w extends Nw{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:sm(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(om(void 0===t||"string"==typeof t,58123),Gg.fromBase64String(t||"")):(om(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Gg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?cm.UNKNOWN:kb(e.code);return new um(t,e.message||"")}(a);n=new Rb(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xb(e,r.document.name),s=Gb(r.document.updateTime),a=r.document.createTime?Gb(r.document.createTime):Wm.min(),o=new jy({mapValue:{fields:r.document.fields}}),l=Py.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ab(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Xb(e,r.document),s=r.readTime?Gb(r.readTime):Wm.min(),a=Py.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Ab([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Xb(e,r.document),s=r.removedTargetIds||[];n=new Ab([],s,i,null)}else{if(!("filter"in t))return sm(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new vb(r,i),a=e.targetId;n=new Pb(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Wm.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Wm.min():t.readTime?Gb(t.readTime):Wm.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=ex(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=sv(r)?{documents:ix(e,r)}:{query:sx(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=qb(e,t.resumeToken);const r=Bb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Wm.min())>0){n.readTime=Hb(e,t.snapshotVersion.toTimestamp());const r=Bb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sm(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=ex(this.serializer),t.removeTarget=e,this.k_(t)}}class Cw extends Nw{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return om(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,om(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){om(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(om(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Gb(e.updateTime):Gb(t);return n.isEqual(Wm.min())&&(n=Gb(t)),new Zv(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Gb(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=ex(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>rx(this.serializer,e))};this.k_(t)}}class Iw{}class jw extends Iw{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new um(cm.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Wo(e,Qb(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===cm.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new um(cm.UNKNOWN,e.toString())})}Jo(e,t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Jo(e,Qb(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===cm.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new um(cm.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Aw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this._a?(nm(t),this._a=!1):tm("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const Pw="RemoteStore";class Rw{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{Bw(this)&&(tm(Pw,"Restarting streams for network reachability change."),await async function(e){const t=lm(e);t.Ia.add(4),await Ow(t),t.Aa.set("Unknown"),t.Ia.delete(4),await Dw(t)}(this))})}),this.Aa=new Aw(n,r)}}async function Dw(e){if(Bw(e))for(const t of e.da)await t(!0)}async function Ow(e){for(const t of e.da)await t(!1)}function Lw(e,t){const n=lm(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),zw(n)?Uw(n):ok(n).x_()&&Vw(n,t))}function Mw(e,t){const n=lm(e),r=ok(n);n.Ta.delete(t),r.x_()&&Fw(n,t),0===n.Ta.size&&(r.x_()?r.B_():Bw(n)&&n.Aa.set("Unknown"))}function Vw(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Wm.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ok(e).H_(t)}function Fw(e,t){e.Ra.$e(t),ok(e).Y_(t)}function Uw(e){e.Ra=new Ob({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),ok(e).start(),e.Aa.aa()}function zw(e){return Bw(e)&&!ok(e).M_()&&e.Ta.size>0}function Bw(e){return 0===lm(e).Ia.size}function Hw(e){e.Ra=void 0}async function qw(e){e.Aa.set("Online")}async function Ww(e){e.Ta.forEach((t,n)=>{Vw(e,t)})}async function Gw(e,t){Hw(e),zw(e)?(e.Aa.la(t),Uw(e)):e.Aa.set("Unknown")}async function Kw(e,t,n){if(e.Aa.set("Online"),t instanceof Rb&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){tm(Pw,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Qw(e,n)}else if(t instanceof Ab?e.Ra.Ye(t):t instanceof Pb?e.Ra.it(t):e.Ra.et(t),!n.isEqual(Wm.min()))try{const t=await nw(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ta.get(r);i&&e.Ta.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(Gg.EMPTY_BYTE_STRING,r.snapshotVersion)),Fw(e,t);const i=new gx(r.target,t,n,r.sequenceNumber);Vw(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){tm(Pw,"Failed to raise snapshot:",t),await Qw(e,t)}}async function Qw(e,t,n){if(!rg(t))throw t;e.Ia.add(1),await Ow(e),e.Aa.set("Offline"),n||(n=()=>nw(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{tm(Pw,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await Dw(e)})}function Yw(e,t){return t().catch(n=>Qw(e,n,t))}async function $w(e){const t=lm(e),n=lk(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:sg;for(;Xw(t);)try{const e=await iw(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,Jw(t,e)}catch(e){await Qw(t,e)}Zw(t)&&ek(t)}function Xw(e){return Bw(e)&&e.Pa.length<10}function Jw(e,t){e.Pa.push(t);const n=lk(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function Zw(e){return Bw(e)&&!lk(e).M_()&&e.Pa.length>0}function ek(e){lk(e).start()}async function tk(e){lk(e).na()}async function nk(e){const t=lk(e);for(const n of e.Pa)t.X_(n.mutations)}async function rk(e,t,n){const r=e.Pa.shift(),i=gb.from(r,t,n);await Yw(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await $w(e)}async function ik(e,t){t&&lk(e).Z_&&await async function(e,t){if(function(e){return wb(e)&&e!==cm.ABORTED}(t.code)){const n=e.Pa.shift();lk(e).N_(),await Yw(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await $w(e)}}(e,t),Zw(e)&&ek(e)}async function sk(e,t){const n=lm(e);n.asyncQueue.verifyOperationInProgress(),tm(Pw,"RemoteStore received new credentials");const r=Bw(n);n.Ia.add(3),await Ow(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await Dw(n)}async function ak(e,t){const n=lm(e);t?(n.Ia.delete(2),await Dw(n)):t||(n.Ia.add(2),await Ow(n),n.Aa.set("Unknown"))}function ok(e){return e.Va||(e.Va=function(e,t,n){const r=lm(e);return r.ia(),new _w(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:qw.bind(null,e),e_:Ww.bind(null,e),n_:Gw.bind(null,e),J_:Kw.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),zw(e)?Uw(e):e.Aa.set("Unknown")):(await e.Va.stop(),Hw(e))})),e.Va}function lk(e){return e.ma||(e.ma=function(e,t,n){const r=lm(e);return r.ia(),new Cw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:tk.bind(null,e),n_:ik.bind(null,e),ea:nk.bind(null,e),ta:rk.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await $w(e)):(await e.ma.stop(),e.Pa.length>0&&(tm(Pw,"Stopping write stream with ".concat(e.Pa.length," pending writes")),e.Pa=[]))})),e.ma}class ck{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new dm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new ck(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new um(cm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uk(e,t){if(nm("AsyncQueue","".concat(t,": ").concat(e)),rg(e))return new um(cm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class dk{static emptySet(e){return new dk(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Rm.comparator(t.key,n.key):(e,t)=>Rm.comparator(e.key,t.key),this.keyedMap=_v(),this.sortedSet=new Fg(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dk))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new dk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class hk{constructor(){this.fa=new Fg(Rm.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):sm(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class fk{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new fk(e,t,dk.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class pk{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class mk{constructor(){this.queries=gk(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=lm(e),r=n.queries;n.queries=gk(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new um(cm.ABORTED,"Firestore shutting down"))}}function gk(){return new Ev(e=>yv(e),gv)}async function yk(e,t){const n=lm(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Sa()&&t.ba()&&(r=2):(s=new pk,r=t.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=uk(e,"Initialization of query '".concat(vv(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.wa.push(t),t.va(n.onlineState),s.ya&&t.Ca(s.ya)&&wk(n)}async function vk(e,t){const n=lm(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.wa.indexOf(t);e>=0&&(s.wa.splice(e,1),0===s.wa.length?i=t.ba()?0:1:!s.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bk(e,t){const n=lm(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(i)&&(r=!0);t.ya=i}}r&&wk(n)}function xk(e,t,n){const r=lm(e),i=r.queries.get(t);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(t)}function wk(e){e.Da.forEach(e=>{e.next()})}var kk,Ek;(Ek=kk||(kk={})).Fa="default",Ek.Cache="cache";class Sk{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new fk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=fk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==kk.Cache}}class Tk{constructor(e){this.key=e}}class Nk{constructor(e){this.key=e}}class _k{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Dv(),this.mutatedKeys=Dv(),this.Xa=wv(e),this.eu=new dk(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new hk,r=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=bv(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.iu(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Xa(u,o)>0||l&&this.Xa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{eu:s,ru:n,Ds:a,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sm(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const a=t&&!r?this.ou():[],o=0===this.Za.size&&this.current&&!r?1:0,l=o!==this.Ya;return this.Ya=o,0!==s.length||l?{snapshot:new fk(this.query,e.eu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new hk,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Dv(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new Nk(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new Tk(n))}),t}uu(e){this.Ha=e.qs,this.Za=Dv();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return fk.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const Ck="SyncEngine";class Ik{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class jk{constructor(e){this.key=e,this.lu=!1}}class Ak{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Ev(e=>yv(e),gv),this.Tu=new Map,this.Iu=new Set,this.du=new Fg(Rm.comparator),this.Eu=new Map,this.Au=new Fx,this.Ru={},this.Vu=new Map,this.mu=Tx.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function Pk(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Zk(e);let i;const s=r.Pu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await Dk(r,t,n,!0),i}async function Rk(e,t){const n=Zk(e);await Dk(n,t,!0,!1)}async function Dk(e,t,n,r){const i=await sw(e.localStore,hv(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Ok(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Lw(e.remoteStore,i),o}async function Ok(e,t,n,r,i){e.gu=(t,n,r)=>async function(e,t,n,r){let i=t.view.nu(n);i.Ds&&(i=await ow(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.nu(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Kk(e,t.targetId,o._u),o.snapshot}(e,t,n,r);const s=await ow(e.localStore,t,!0),a=new _k(t,s.qs),o=a.nu(s.documents),l=jb.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Kk(e,n,c._u);const u=new Ik(t,n,a);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function Lk(e,t,n){const r=lm(e),i=r.Pu.get(t),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(e=>!gv(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await aw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Mw(r.remoteStore,i.targetId),Wk(r,i.targetId)}).catch(eg)):(Wk(r,i.targetId),await aw(r.localStore,i.targetId,!0))}async function Mk(e,t){const n=lm(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mw(n.remoteStore,r.targetId))}async function Vk(e,t){const n=lm(e);try{const e=await function(e,t){const n=lm(e),r=t.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.hi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.hi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Gg.EMPTY_BYTE_STRING,Wm.min()).withLastLimboFreeSnapshotVersion(Wm.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.hi.updateTargetData(e,c))});let o=Tv(),l=Dv();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(rw(e,s,t.documentUpdates).next(e=>{o=e.Ls,l=e.ks})),!r.isEqual(Wm.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return tg.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Fs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(om(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?om(r.lu,14607):e.removedDocuments.size>0&&(om(r.lu,42227),r.lu=!1))}),await $k(n,e,t)}catch(e){await eg(e)}}function Fk(e,t,n){const r=lm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=lm(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.wa)i.va(t)&&(r=!0)}),r&&wk(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Uk(e,t,n){const r=lm(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),s=i&&i.key;if(s){let e=new Fg(Rm.comparator);e=e.insert(s,Py.newNoDocument(s,Wm.min()));const n=Dv().add(s),i=new Ib(Wm.min(),new Map,new Fg(Em),e,n);await Vk(r,i),r.du=r.du.remove(s),r.Eu.delete(t),Yk(r)}else await aw(r.localStore,t,!1).then(()=>Wk(r,t,n)).catch(eg)}async function zk(e,t){const n=lm(e),r=t.batch.batchId;try{const e=await function(e,t){const n=lm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=tg.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);om(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Dv();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);qk(n,r,null),Hk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $k(n,e)}catch(e){await eg(e)}}async function Bk(e,t,n){const r=lm(e);try{const e=await function(e,t){const n=lm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(om(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);qk(r,t,n),Hk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $k(r,e)}catch(n){await eg(n)}}function Hk(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function qk(e,t,n){const r=lm(e);let i=r.Ru[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function Wk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||Gk(e,t)})}function Gk(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Mw(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),Yk(e))}function Kk(e,t,n){for(const r of n)r instanceof Tk?(e.Au.addReference(r.key,t),Qk(e,r)):r instanceof Nk?(tm(Ck,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||Gk(e,r.key)):sm(19791,{yu:r})}function Qk(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(tm(Ck,"New document in limbo: "+n),e.Iu.add(r),Yk(e))}function Yk(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new Rm(jm.fromString(t)),r=e.mu.next();e.Eu.set(r,new jk(n)),e.du=e.du.insert(n,r),Lw(e.remoteStore,new gx(hv(lv(n.path)),r,"TargetPurposeLimboResolution",ig.ue))}}async function $k(e,t,n){const r=lm(e),i=[],s=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((e,o)=>{a.push(r.gu(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Yx.Es(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.hu.J_(i),await async function(e,t){const n=lm(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>tg.forEach(t,t=>tg.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>tg.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!rg(e))throw e;tm(Jx,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,i)}}}(r.localStore,s))}async function Xk(e,t){const n=lm(e);if(!n.currentUser.isEqual(t)){tm(Ck,"User change. New user:",t.toKey());const e=await tw(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new um(cm.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $k(n,e.Bs)}}function Jk(e,t){const n=lm(e),r=n.Eu.get(t);if(r&&r.lu)return Dv().add(r.key);{let e=Dv();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function Zk(e){const t=lm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Uk.bind(null,t),t.hu.J_=bk.bind(null,t.eventManager),t.hu.pu=xk.bind(null,t.eventManager),t}function eE(e){const t=lm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Bk.bind(null,t),t}class tE{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ew(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return ew(this.persistence,new Xx,e.initialUser,this.serializer)}Du(e){return new Wx(Kx.Vi,this.serializer)}bu(e){return new uw}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tE.provider={build:()=>new tE};class nE extends tE{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){om(this.persistence.referenceDelegate instanceof Qx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new jx(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?Sx.withCacheSize(this.cacheSizeBytes):Sx.DEFAULT;return new Wx(e=>Qx.Vi(e,t),this.serializer)}}class rE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Fk(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xk.bind(null,this.syncEngine),await ak(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new mk}createDatastore(e){const t=Ew(e.databaseInfo.databaseId),n=function(e){return new ww(e)}(e.databaseInfo);return function(e,t,n,r){return new jw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Rw(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Fk(this.syncEngine,e,0),fw.C()?new fw:new dw)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Ak(e,t,n,r,i,s);return a&&(o.fu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=lm(e);tm(Pw,"RemoteStore shutting down."),t.Ia.add(5),await Ow(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}rE.provider={build:()=>new rE};class iE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):nm("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const sE="FirestoreClient";class aE{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Xp.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{tm(sE,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(tm(sE,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=uk(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function oE(e,t){e.asyncQueue.verifyOperationInProgress(),tm(sE,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await tw(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{rm("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{tm("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{rm("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function lE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await cE(e);tm(sE,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>sk(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>sk(t.remoteStore,n)),e._onlineComponents=t}async function cE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){tm(sE,"Using user provided OfflineComponentProvider");try{await oE(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===cm.FAILED_PRECONDITION||e.code===cm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;rm("Error using user provided cache. Falling back to memory cache: "+n),await oE(e,new tE)}}else tm(sE,"Using default OfflineComponentProvider"),await oE(e,new nE(void 0));return e._offlineComponents}async function uE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(tm(sE,"Using user provided OnlineComponentProvider"),await lE(e,e._uninitializedComponentsProvider._online)):(tm(sE,"Using default OnlineComponentProvider"),await lE(e,new rE))),e._onlineComponents}function dE(e){return uE(e).then(e=>e.syncEngine)}async function hE(e){const t=await uE(e),n=t.eventManager;return n.onListen=Pk.bind(null,t.syncEngine),n.onUnlisten=Lk.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Rk.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Mk.bind(null,t.syncEngine),n}function fE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new dm;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new iE({next:o=>{s.Ou(),t.enqueueAndForget(()=>vk(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new um(cm.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new um(cm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Sk(lv(n.path),s,{includeMetadataChanges:!0,ka:!0});return yk(e,a)}(await hE(e),e.asyncQueue,t,n,r)),r.promise}function pE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new dm;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new iE({next:n=>{s.Ou(),t.enqueueAndForget(()=>vk(e,a)),n.fromCache&&"server"===r.source?i.reject(new um(cm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Sk(n,s,{includeMetadataChanges:!0,ka:!0});return yk(e,a)}(await hE(e),e.asyncQueue,t,n,r)),r.promise}function mE(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const gE=new Map,yE="firestore.googleapis.com",vE=!0;class bE{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new um(cm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yE,this.ssl=vE}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:vE;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ex;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<_x)throw new um(cm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new um(cm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mE(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new um(cm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new um(cm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new um(cm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xE{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new um(cm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new um(cm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new fm;switch(e.type){case"firstParty":return new ym(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new um(cm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gE.get(e);t&&(tm("ComponentProvider","Removing Datastore"),gE.delete(e),t.terminate())}(this),Promise.resolve()}}function wE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=Fm(e,xE);const s=dc(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);s&&(hc("https://".concat(l)),mc("Firestore",!0)),a.host!==yE&&a.host!==l&&rm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:r});if(!Tc(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Xp.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[rc(JSON.stringify({alg:"none",type:"JWT"})),rc(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new um(cm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Xp(s)}e._authCredentials=new pm(new hm(t,n))}}class kE{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new kE(this.firestore,e,this._query)}}class EE{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new SE(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new EE(this.firestore,e,this._key)}toJSON(){return{type:EE._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(zm(t,EE._jsonSchema))return new EE(e,n||null,new Rm(jm.fromString(t.referencePath)))}}EE._jsonSchemaVersion="firestore/documentReference/1.0",EE._jsonSchema={type:Um("string",EE._jsonSchemaVersion),referencePath:Um("string")};class SE extends kE{constructor(e,t,n){super(e,t,lv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new EE(this.firestore,null,new Rm(e))}withConverter(e){return new SE(this.firestore,e,this._path)}}function TE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rc(e),Dm("collection","path",t),e instanceof xE){const n=jm.fromString(t,...r);return Lm(n),new SE(e,null,n)}{if(!(e instanceof EE||e instanceof SE))throw new um(cm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(jm.fromString(t,...r));return Lm(n),new SE(e.firestore,null,n)}}function NE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rc(e),1===arguments.length&&(t=km.newId()),Dm("doc","path",t),e instanceof xE){const n=jm.fromString(t,...r);return Om(n),new EE(e,null,new Rm(n))}{if(!(e instanceof EE||e instanceof SE))throw new um(cm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(jm.fromString(t,...r));return Om(n),new EE(e.firestore,e instanceof SE?e.converter:null,new Rm(n))}}const _E="AsyncQueue";class CE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Sw(this,"async_queue_retry"),this.oc=()=>{const e=kw();e&&tm(_E,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=kw();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=kw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new dm;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(bN){if(!rg(bN))throw bN;tm(_E,"Operation failed with retryable error: "+bN)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,nm("INTERNAL UNHANDLED ERROR: ",IE(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=ck.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&sm(47125,{hc:IE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function IE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class jE extends xE{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new CE,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CE(e),this._firestoreClient=void 0,await e}}}function AE(e){if(e._terminated)throw new um(cm.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||PE(e),e._firestoreClient}function PE(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new iy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,mE(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new aE(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class RE{constructor(e){this._byteString=e}static fromBase64String(e){try{return new RE(Gg.fromBase64String(e))}catch(e){throw new um(cm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new RE(Gg.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:RE._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zm(e,RE._jsonSchema))return RE.fromBase64String(e.bytes)}}RE._jsonSchemaVersion="firestore/bytes/1.0",RE._jsonSchema={type:Um("string",RE._jsonSchemaVersion),bytes:Um("string")};class DE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new um(cm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pm(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class OE{constructor(e){this._methodName=e}}class LE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new um(cm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new um(cm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Em(this._lat,e._lat)||Em(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:LE._jsonSchemaVersion}}static fromJSON(e){if(zm(e,LE._jsonSchema))return new LE(e.latitude,e.longitude)}}LE._jsonSchemaVersion="firestore/geoPoint/1.0",LE._jsonSchema={type:Um("string",LE._jsonSchemaVersion),latitude:Um("number"),longitude:Um("number")};class ME{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ME._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zm(e,ME._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new ME(e.vectorValues);throw new um(cm.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ME._jsonSchemaVersion="firestore/vectorValue/1.0",ME._jsonSchema={type:Um("string",ME._jsonSchemaVersion),vectorValues:Um("object")};const VE=/^__.*__$/;class FE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new cb(e,this.data,this.fieldMask,t,this.fieldTransforms):new lb(e,this.data,t,this.fieldTransforms)}}class UE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new cb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sm(40011,{Ec:e})}}class BE{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new BE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return iS(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(zE(this.Ec)&&VE.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class HE{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ew(e)}Dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new BE({Ec:e,methodName:t,bc:n,path:Pm.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qE(e){const t=e._freezeSettings(),n=Ew(e._databaseId);return new HE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function WE(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Dc(s.merge||s.mergeFields?2:0,t,n,i);eS("Data must be an object, but it was:",a,r);const o=JE(r,a);let l,c;if(s.merge)l=new qg(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=tS(t,r,n);if(!a.contains(i))throw new um(cm.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));sS(e,i)||e.push(i)}l=new qg(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new FE(new jy(o),l,c)}class GE extends OE{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.wc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof GE}}class KE extends OE{_toFieldTransform(e){return new Jv(e.path,new qv)}isEqual(e){return e instanceof KE}}function QE(e,t,n,r){const i=e.Dc(1,t,n);eS("Data must be an object, but it was:",i,r);const s=[],a=jy.empty();Mg(r,(e,r)=>{const o=rS(t,e,n);r=Rc(r);const l=i.gc(o);if(r instanceof GE)s.push(o);else{const e=XE(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new qg(s);return new UE(a,o,i.fieldTransforms)}function YE(e,t,n,r,i,s){const a=e.Dc(1,t,n),o=[tS(t,r,n)],l=[i];if(s.length%2!=0)throw new um(cm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(tS(t,s[h])),l.push(s[h+1]);const c=[],u=jy.empty();for(let h=o.length-1;h>=0;--h)if(!sS(c,o[h])){const e=o[h];let t=l[h];t=Rc(t);const n=a.gc(e);if(t instanceof GE)c.push(e);else{const r=XE(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new qg(c);return new UE(u,d,a.fieldTransforms)}function $E(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return XE(n,e.Dc(r?4:3,t))}function XE(e,t){if(ZE(e=Rc(e)))return eS("Unsupported field value:",t,e),JE(e,t);if(e instanceof OE)return function(e,t){if(!zE(t.Ec))throw t.wc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.wc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=XE(i,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Rc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Fv(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=qm.fromDate(e);return{timestampValue:Hb(t.serializer,n)}}if(e instanceof qm){const n=new qm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hb(t.serializer,n)}}if(e instanceof LE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof RE)return{bytesValue:qb(t.serializer,e._byteString)};if(e instanceof EE){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Kb(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ME)return function(e,t){return{mapValue:{fields:{[oy]:{stringValue:uy},[dy]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return Mv(t.serializer,e)})}}}}}}(e,t);throw t.wc("Unsupported field value: ".concat(Vm(e)))}(e,t)}function JE(e,t){const n={};return Vg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Mg(e,(e,r)=>{const i=XE(r,t.Vc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function ZE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof qm||e instanceof LE||e instanceof RE||e instanceof EE||e instanceof OE||e instanceof ME)}function eS(e,t,n){if(!ZE(n)||!Mm(n)){const r=Vm(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function tS(e,t,n){if((t=Rc(t))instanceof DE)return t._internalPath;if("string"==typeof t)return rS(e,t);throw iS("Field path arguments must be of type string or ",e,!1,void 0,n)}const nS=new RegExp("[~\\*/\\[\\]]");function rS(e,t,n){if(t.search(nS)>=0)throw iS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new DE(...t.split("."))._internalPath}catch(r){throw iS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function iS(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new um(cm.INVALID_ARGUMENT,o+e+l)}function sS(e,t){return e.some(e=>e.isEqual(t))}class aS{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new EE(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oS extends aS{data(){return super.data()}}function lS(e,t){return"string"==typeof t?rS(e,t):t instanceof DE?t._internalPath:t._delegate._internalPath}function cS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new um(cm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uS{}class dS extends uS{}function hS(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof uS&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof mS).length,n=e.filter(e=>e instanceof fS).length;if(t>1||t>0&&n>0)throw new um(cm.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class fS extends dS{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new fS(e,t,n)}_apply(e){const t=this._parse(e);return vS(e._query,t),new kE(e.firestore,e.converter,pv(e._query,t))}_parse(e){const t=qE(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new um(cm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){yS(a,s);const t=[];for(const n of a)t.push(gS(r,e,n));o={arrayValue:{values:t}}}else o=gS(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||yS(a,s),o=$E(n,t,a,"in"===s||"not-in"===s);return Fy.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function pS(e,t,n){const r=t,i=lS("where",e);return fS._create(i,r,n)}class mS extends uS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mS(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Uy.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)vS(n,i),n=pv(n,i)}(e._query,t),new kE(e.firestore,e.converter,pv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function gS(e,t,n){if("string"==typeof(n=Rc(n))){if(""===n)throw new um(cm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uv(t)&&-1!==n.indexOf("/"))throw new um(cm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(jm.fromString(n));if(!Rm.isDocumentKey(r))throw new um(cm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return wy(e,new Rm(r))}if(n instanceof EE)return wy(e,n._key);throw new um(cm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Vm(n),"."))}function yS(e,t){if(!Array.isArray(e)||0===e.length)throw new um(cm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function vS(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new um(cm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new um(cm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class bS{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(hy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($g(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw sm(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Mg(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[dy].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Yg(e.doubleValue));return new ME(i)}convertGeoPoint(e){return new LE(Yg(e.latitude),Yg(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ny(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ry(e));default:return null}}convertTimestamp(e){const t=Qg(e);return new qm(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=jm.fromString(e);om(mx(n),9688,{name:e});const r=new ay(n.get(1),n.get(3)),i=new Rm(n.popFirst(5));return r.isEqual(t)||nm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function xS(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class wS{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kS extends aS{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ES(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(lS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new um(cm.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=kS._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}kS._jsonSchemaVersion="firestore/documentSnapshot/1.0",kS._jsonSchema={type:Um("string",kS._jsonSchemaVersion),bundleSource:Um("string","DocumentSnapshot"),bundleName:Um("string"),bundle:Um("string")};class ES extends kS{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class SS{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new wS(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ES(this._firestore,this._userDataWriter,n.key,n,new wS(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new um(cm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new ES(e._firestore,e._userDataWriter,n.doc.key,n.doc,new wS(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ES(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:TS(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new um(cm.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=SS._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sm(61501,{type:e})}}function NS(e){e=Fm(e,EE);const t=Fm(e.firestore,jE);return fE(AE(t),e._key).then(n=>PS(t,e,n))}SS._jsonSchemaVersion="firestore/querySnapshot/1.0",SS._jsonSchema={type:Um("string",SS._jsonSchemaVersion),bundleSource:Um("string","QuerySnapshot"),bundleName:Um("string"),bundle:Um("string")};class _S extends bS{constructor(e){super(),this.firestore=e}convertBytes(e){return new RE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new EE(this.firestore,null,t)}}function CS(e){e=Fm(e,kE);const t=Fm(e.firestore,jE),n=AE(t),r=new _S(t);return cS(e._query),pE(n,e._query).then(n=>new SS(t,r,e,n))}function IS(e,t,n){e=Fm(e,EE);const r=Fm(e.firestore,jE),i=xS(e.converter,t,n);return AS(r,[WE(qE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,eb.none())])}function jS(e,t){const n=Fm(e.firestore,jE),r=NE(e),i=xS(e.converter,t);return AS(n,[WE(qE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,eb.exists(!1))]).then(()=>r)}function AS(e,t){return function(e,t){const n=new dm;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=eE(e);try{const e=await function(e,t){const n=lm(e),r=qm.now(),i=t.reduce((e,t)=>e.add(t.key),Dv());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Tv(),l=Dv();return n.Os.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=ab(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new cb(e.key,t,Ay(t.value.mapValue),eb.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Cv(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new Fg(Em)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await $k(r,e.changes),await $w(r.remoteStore)}catch(e){const t=uk(e,"Failed to persist write");n.reject(t)}}(await dE(e),t,n)),n.promise}(AE(e),t)}function PS(e,t,n){const r=n.docs.get(t._key),i=new _S(e);return new kS(e,i,t._key,r,new wS(n.hasPendingWrites,n.fromCache),t.converter)}function RS(){return new KE("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Jp=e}(Yu),qu(new Dc("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new jE(new mm(e.getProvider("auth-internal")),new bm(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new um(cm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ay(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ju(Yp,$p,e),Ju(Yp,$p,"esm2017")}();const DS="@firebase/installations",OS="0.6.18",LS=1e4,MS="w:".concat(OS),VS="FIS_v2",FS=36e5,US=new Ec("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function zS(e){return e instanceof kc&&e.code.includes("request-failed")}function BS(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function HS(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function qS(e,t){const n=(await t.json()).error;return US.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function WS(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function GS(e,t){let{refreshToken:n}=t;const r=WS(e);return r.append("Authorization",function(e){return"".concat(VS," ").concat(e)}(n)),r}async function KS(e){const t=await e();return t.status>=500&&t.status<600?e():t}function QS(e){return new Promise(t=>{setTimeout(t,e)})}const YS=/^[cdef][\w-]{21}$/;function $S(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return YS.test(t)?t:""}catch(xN){return""}}function XS(e){return"".concat(e.appName,"!").concat(e.appId)}const JS=new Map;function ZS(e,t){const n=XS(e);eT(n,t),function(e,t){const n=nT();n&&n.postMessage({key:e,fid:t});rT()}(n,t)}function eT(e,t){const n=JS.get(e);if(n)for(const r of n)r(t)}let tT=null;function nT(){return!tT&&"BroadcastChannel"in self&&(tT=new BroadcastChannel("[Firebase] FID Change"),tT.onmessage=e=>{eT(e.data.key,e.data.fid)}),tT}function rT(){0===JS.size&&tT&&(tT.close(),tT=null)}const iT="firebase-installations-store";let sT=null;function aT(){return sT||(sT=ru("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(iT)}})),sT}async function oT(e,t){const n=XS(e),r=(await aT()).transaction(iT,"readwrite"),i=r.objectStore(iT),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||ZS(e,t.fid),t}async function lT(e){const t=XS(e),n=(await aT()).transaction(iT,"readwrite");await n.objectStore(iT).delete(t),await n.done}async function cT(e,t){const n=XS(e),r=(await aT()).transaction(iT,"readwrite"),i=r.objectStore(iT),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||s&&s.fid===a.fid||ZS(e,a.fid),a}async function uT(e){let t;const n=await cT(e.appConfig,n=>{const r=function(e){const t=e||{fid:$S(),registrationStatus:0};return fT(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(US.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=BS(n),a=WS(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:VS,appId:n.appId,sdkVersion:MS},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await KS(()=>fetch(s,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:HS(e.authToken)}}throw await qS("Create Installation",u)}(e,t);return oT(e.appConfig,n)}catch(bN){throw zS(bN)&&409===bN.customData.serverCode?await lT(e.appConfig):await oT(e.appConfig,{fid:t.fid,registrationStatus:0}),bN}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:dT(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function dT(e){let t=await hT(e.appConfig);for(;1===t.registrationStatus;)await QS(100),t=await hT(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await uT(e);return n||t}return t}function hT(e){return cT(e,e=>{if(!e)throw US.create("installation-not-found");return fT(e)})}function fT(e){return 1===(t=e).registrationStatus&&t.registrationTime+LS<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function pT(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(BS(e),"/").concat(n,"/authTokens:generate")}(n,t),s=GS(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:MS,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await KS(()=>fetch(i,l));if(c.ok){return HS(await c.json())}throw await qS("Generate Auth Token",c)}async function mT(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await cT(e.appConfig,r=>{if(!yT(r))throw US.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+FS}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await gT(e.appConfig);for(;1===n.authToken.requestStatus;)await QS(100),n=await gT(e.appConfig);const r=n.authToken;return 0===r.requestStatus?mT(e,t):r}(e,n),r;{if(!navigator.onLine)throw US.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await pT(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await oT(e.appConfig,r),n}catch(bN){if(!zS(bN)||401!==bN.customData.serverCode&&404!==bN.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await oT(e.appConfig,n)}else await lT(e.appConfig);throw bN}}(e,n),n}});return t?await t:r.authToken}function gT(e){return cT(e,e=>{if(!yT(e))throw US.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+LS<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function yT(e){return void 0!==e&&2===e.registrationStatus}async function vT(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await uT(e);t&&await t}(n);return(await mT(n,t)).token}function bT(e){return US.create("missing-app-config-values",{valueName:e})}const xT="installations",wT=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw bT("App Configuration");if(!e.name)throw bT("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw bT(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Wu(t,"heartbeat"),_delete:()=>Promise.resolve()}},kT=e=>{const t=Wu(e.getProvider("app").getImmediate(),xT).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await uT(t);return r?r.catch(console.error):mT(t).catch(console.error),n.fid}(t),getToken:e=>vT(t,e)}};qu(new Dc(xT,wT,"PUBLIC")),qu(new Dc("installations-internal",kT,"PRIVATE")),Ju(DS,OS),Ju(DS,OS,"esm2017");const ET="analytics",ST="https://www.googletagmanager.com/gtag/js",TT=new qc("@firebase/analytics"),NT=new Ec("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function _T(e){if(!e.startsWith(ST)){const t=NT.create("invalid-gtag-resource",{gtagURL:e});return TT.warn(t.message),""}return e}function CT(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function IT(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:_T}),r=document.createElement("script"),i="".concat(ST,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function jT(e,t,n,r){return async function(i){try{for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await CT(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(bN){TT.error(bN)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=a;await async function(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const e=(await CT(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(bN){TT.error(bN)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(bN){TT.error(bN)}}}const AT=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function PT(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function RT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AT,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw NT.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw NT.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new OT;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),DT({appId:r,apiKey:i,measurementId:s},a,o,t)}async function DT(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:AT;var a;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(NT.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(bN){if(l)return TT.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===bN||void 0===bN?void 0:bN.message,"]")),{appId:o,measurementId:l};throw bN}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:PT(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(s,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw NT.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return s.deleteThrottleMetadata(o),t}catch(bN){const r=bN;if(!function(e){if(!(e instanceof kc)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(o),l)return TT.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:o,measurementId:l};throw bN}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?Pc(i,s.intervalMillis,30):Pc(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(o,u),TT.debug("Calling attemptFetch again in ".concat(c," millis")),DT(e,u,n,s)}}class OT{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let LT,MT;function VT(e){MT=e}function FT(e){LT=e}async function UT(e,t,n,r,i,s,a){var o;const l=RT(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&TT.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>TT.error(e)),t.push(l);const c=async function(){if(!xc())return TT.warn(NT.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await wc()}catch(bN){return TT.warn(NT.create("indexeddb-unavailable",{errorInfo:null===bN||void 0===bN?void 0:bN.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ST)&&n.src.includes(e))return n;return null})(s)||IT(s,u.measurementId),MT&&(i("consent","default",MT),VT(void 0)),i("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),LT&&(i("set",LT),FT(void 0)),u.measurementId}class zT{constructor(e){this.app=e}_delete(){return delete BT[this.app.options.appId],Promise.resolve()}}let BT={},HT=[];const qT={};let WT,GT,KT="dataLayer",QT="gtag",YT=!1;function $T(){const e=[];if(vc()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=NT.create("invalid-analytics-context",{errorInfo:t});TT.warn(n.message)}}function XT(e,t,n){$T();const r=e.options.appId;if(!r)throw NT.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw NT.create("no-api-key");TT.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=BT[r])throw NT.create("already-exists",{id:r});if(!YT){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(KT);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=jT(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(BT,HT,qT,KT,QT);GT=e,WT=t,YT=!0}BT[r]=UT(e,HT,qT,t,WT,KT,n);return new zT(e)}function JT(e,t,n,r){e=Rc(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(GT,BT[e.app.options.appId],t,n,r).catch(e=>TT.error(e))}const ZT="@firebase/analytics",eN="0.10.17";qu(new Dc(ET,(e,t)=>{let{options:n}=t;return XT(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),qu(new Dc("analytics-internal",function(e){try{const t=e.getProvider(ET).getImmediate();return{logEvent:(e,n,r)=>JT(t,e,n,r)}}catch(bN){throw NT.create("interop-component-reg-failed",{reason:bN})}},"PRIVATE")),Ju(ZT,eN),Ju(ZT,eN,"esm2017");const tN=$u({apiKey:"AIzaSyBqXFk3ACZZSLbHcuDQT6kOGYERGskU5pE",authDomain:"nora23-4a427.firebaseapp.com",projectId:"nora23-4a427",storageBucket:"nora23-4a427.firebasestorage.app",messagingSenderId:"1024698210314",appId:"1:1024698210314:web:bbc03f2266dc751b87a7f3",measurementId:"G-PGBZ62ZEYQ"}),nN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();const t=Wu(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Wu(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Tc(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;md(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Cp,persistence:[Vf,vf,Ef]}),r=cc("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Pp)return;const r=null===t||void 0===t?void 0:t.token;Rp!==r&&(Rp=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Rc(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Rc(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=oc("auth");return s&&Oh(n,"http://".concat(s)),n}(tN),rN=function(e,t){const n="object"==typeof e?e:Xu(),r="string"==typeof e?e:t||sy,i=Wu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=oc(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&wE(i,...e)}return i}(tN),iN=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();e=Rc(e);const t=Wu(e,ET);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Wu(e,ET);if(n.isInitialized()){const e=n.getImmediate();if(Tc(t,n.getOptions()))return e;throw NT.create("already-initialized")}const r=n.initialize({options:t})}(e)}(tN),()=>{const e=J(),[n,r]=(0,t.useState)({email:"",password:""}),[i,s]=(0,t.useState)(!1),[a,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)("student"),h=e=>{const{name:t,value:n}=e.target;r(e=>Re(Re({},e),{},{[t]:n}))},f=e=>{switch(e){case"auth/user-not-found":return"Bu e-posta adresi ile kay\u0131tl\u0131 kullan\u0131c\u0131 bulunamad\u0131.";case"auth/wrong-password":return"Hatal\u0131 \u015fifre. L\xfctfen tekrar deneyin.";case"auth/invalid-email":return"Ge\xe7ersiz e-posta adresi.";case"auth/too-many-requests":return"\xc7ok fazla ba\u015far\u0131s\u0131z deneme. L\xfctfen daha sonra tekrar deneyin.";default:return"Giri\u015f yap\u0131l\u0131rken bir hata olu\u015ftu. L\xfctfen tekrar deneyin."}},p=[{id:"student",label:"\xd6\u011frenci",icon:Ue},{id:"teacher",label:"\xd6\u011fretmen",icon:Ue}];return(0,sl.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,sl.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[(0,sl.jsxs)("div",{className:"inline-flex items-center px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-medium mb-6",children:[(0,sl.jsx)(El,{className:"w-4 h-4 mr-2"}),"Giri\u015f Yap"]}),(0,sl.jsxs)("h2",{className:"text-3xl font-bold text-secondary-900 mb-6",children:[(0,sl.jsx)("span",{className:"text-gradient",children:"Nora Akademi"}),"'ye Ho\u015f Geldiniz"]}),(0,sl.jsx)("p",{className:"text-lg text-secondary-600",children:"Hesab\u0131n\u0131za giri\u015f yaparak e\u011fitim yolculu\u011funuza devam edin."})]}),(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-2xl p-8 shadow-xl",children:[(0,sl.jsxs)("div",{className:"mb-6",children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-3",children:"Hesap T\xfcr\xfc"}),(0,sl.jsx)("div",{className:"grid grid-cols-2 gap-3",children:p.map(e=>(0,sl.jsxs)("button",{type:"button",onClick:()=>d(e.id),className:"p-3 rounded-lg border-2 transition-all duration-200 ".concat(u===e.id?"border-primary-500 bg-primary-50 text-primary-700":"border-secondary-200 text-secondary-600 hover:border-primary-300"),children:[(0,sl.jsx)(e.icon,{className:"w-5 h-5 mx-auto mb-1"}),(0,sl.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.id))})]}),l&&(0,sl.jsxs)(Xo.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-100 border border-red-300 rounded-lg flex items-center space-x-3",children:[(0,sl.jsx)("div",{className:"w-5 h-5 text-red-600",children:"\u26a0\ufe0f"}),(0,sl.jsx)("span",{className:"text-red-800 font-medium",children:l})]}),(0,sl.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0),c("");try{const t=await function(e,t,n){return Gu(e.app)?Promise.reject(vd(e)):uf(Rc(e),Qh.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&df(e),t})}(nN,n.email,n.password);switch(console.log("Giri\u015f ba\u015far\u0131l\u0131:",t.user),u){case"student":default:e("/student-dashboard");break;case"teacher":e("/teacher-dashboard")}}catch(l){if(console.error("Giri\u015f hatas\u0131:",l),"auth/configuration-not-found"===l.code)return console.log("Firebase Authentication hen\xfcz a\xe7\u0131lmam\u0131\u015f, sim\xfclasyon modunda \xe7al\u0131\u015f\u0131yor..."),void setTimeout(()=>{switch(o(!1),u){case"student":default:e("/student-dashboard");break;case"teacher":e("/teacher-dashboard")}},1500);c(f(l.code))}finally{o(!1)}},className:"space-y-6",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-secondary-700 mb-2",children:"E-posta Adresi"}),(0,sl.jsxs)("div",{className:"relative",children:[(0,sl.jsx)(Fe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-secondary-400"}),(0,sl.jsx)("input",{type:"email",id:"email",name:"email",value:n.email,onChange:h,required:!0,className:"w-full pl-10 pr-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"ornek@email.com"})]})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-secondary-700 mb-2",children:"\u015eifre"}),(0,sl.jsxs)("div",{className:"relative",children:[(0,sl.jsx)(Xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-secondary-400"}),(0,sl.jsx)("input",{type:i?"text":"password",id:"password",name:"password",value:n.password,onChange:h,required:!0,className:"w-full pl-10 pr-12 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,sl.jsx)("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400 hover:text-secondary-600 transition-colors duration-200",children:i?(0,sl.jsx)(Jl,{className:"w-5 h-5"}):(0,sl.jsx)(Zl,{className:"w-5 h-5"})})]})]}),(0,sl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sl.jsxs)("div",{className:"flex items-center",children:[(0,sl.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),(0,sl.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-secondary-700",children:"Beni hat\u0131rla"})]}),(0,sl.jsx)("div",{className:"text-sm",children:(0,sl.jsx)("button",{type:"button",onClick:()=>alert("\u015eifre s\u0131f\u0131rlama \xf6zelli\u011fi yak\u0131nda eklenecek."),className:"font-medium text-primary-600 hover:text-primary-700 transition-colors duration-200",children:"\u015eifremi unuttum"})})]}),(0,sl.jsx)("button",{type:"submit",disabled:a,className:"w-full btn-primary group disabled:opacity-50 disabled:cursor-not-allowed",children:a?(0,sl.jsxs)("div",{className:"flex items-center justify-center",children:[(0,sl.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Giri\u015f yap\u0131l\u0131yor..."]}):(0,sl.jsxs)("div",{className:"flex items-center justify-center",children:["Giri\u015f Yap",(0,sl.jsx)(dl,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),(0,sl.jsx)("div",{className:"mt-6",children:(0,sl.jsxs)("div",{className:"relative",children:[(0,sl.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,sl.jsx)("div",{className:"w-full border-t border-secondary-300"})}),(0,sl.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,sl.jsx)("span",{className:"px-2 bg-white text-secondary-500",children:"veya"})})]})})]}),(0,sl.jsx)(Xo.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"text-center",children:(0,sl.jsx)(Ne,{to:"/",className:"text-primary-600 hover:text-primary-700 font-medium transition-colors duration-200",children:"\u2190 Ana sayfaya d\xf6n"})})]})})}),sN=Me("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),aN=Me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),oN=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),lN=Me("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),cN=Me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),uN=()=>{const e=J(),[n,r]=(0,t.useState)(null),[i,s]=(0,t.useState)(!0),[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),p=(0,t.useCallback)(async e=>{try{console.log("\xd6\u011frenci verileri y\xfckleniyor... Student ID:",e);const t=hS(TE(rN,"assignments"),pS("assignedStudents","array-contains",e)),n=(await CS(t)).docs.map(e=>Re({id:e.id},e.data()));n.sort((e,t)=>e.createdAt&&t.createdAt?t.createdAt.toDate().getTime()-e.createdAt.toDate().getTime():0),c(n),console.log("Y\xfcklenen \xf6devler:",n),console.log("\xd6\u011frenci ID:",e),n.forEach(t=>{console.log("\xd6dev: ".concat(t.title)),console.log("  - Assigned Students: ".concat(t.assignedStudents)),console.log("  - Student ID in array: ".concat(t.assignedStudents.includes(e))),console.log("---")});const r=hS(TE(rN,"announcements"),pS("isActive","==",!0)),i=(await CS(r)).docs.map(e=>Re({id:e.id},e.data()));i.sort((e,t)=>e.createdAt&&t.createdAt?t.createdAt.toDate().getTime()-e.createdAt.toDate().getTime():0),d(i);const s=hS(TE(rN,"activities"),pS("studentId","==",e)),a=(await CS(s)).docs.map(e=>Re({id:e.id},e.data()));a.sort((e,t)=>e.timestamp&&t.timestamp?t.timestamp.toDate().getTime()-e.timestamp.toDate().getTime():0),f(a.slice(0,5))}catch(t){console.error("Veri y\xfckleme hatas\u0131:",t)}},[]);(0,t.useEffect)(()=>{const t=nN.onAuthStateChanged(async t=>{if(t){r(t);try{const n=await NS(NE(rN,"users",t.uid));if(n.exists()){const r=n.data();if("student"===r.userType){const e=await NS(NE(rN,"students",t.uid));e.exists()?o(Re(Re({},r),e.data())):o(r),await p(t.uid)}else e("/")}}catch(n){console.error("Veri getirme hatas\u0131:",n)}}else e("/login");s(!1)});return()=>t()},[e,p]);const m={totalAssignments:l.length,completedAssignments:l.filter(e=>"completed"===e.status).length,pendingAssignments:l.filter(e=>"active"===e.status).length,performance:(null===a||void 0===a?void 0:a.performance)||0};return i?(0,sl.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,sl.jsxs)(Xo.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center",children:[(0,sl.jsx)("div",{className:"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,sl.jsx)("h2",{className:"text-2xl font-bold text-primary-600",children:"Y\xfckleniyor..."})]})}):(0,sl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,sl.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,sl.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,sl.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,sl.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,sl.jsx)("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(sN,{className:"w-6 h-6 text-white"})}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"\xd6\u011frenci Paneli"}),(0,sl.jsxs)("p",{className:"text-sm text-gray-600",children:["Ho\u015f geldin, ",null===a||void 0===a?void 0:a.firstName," ",null===a||void 0===a?void 0:a.lastName]})]})]}),(0,sl.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,sl.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:(0,sl.jsx)(aN,{className:"w-5 h-5"})}),(0,sl.jsxs)("button",{onClick:async()=>{try{await ff(nN),e("/")}catch(t){console.error("\xc7\u0131k\u0131\u015f hatas\u0131:",t)}},className:"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[(0,sl.jsx)(oN,{className:"w-4 h-4"}),(0,sl.jsx)("span",{children:"\xc7\u0131k\u0131\u015f Yap"})]})]})]})})}),(0,sl.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,sl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border",children:(0,sl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Toplam \xd6dev"}),(0,sl.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.totalAssignments})]}),(0,sl.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(lN,{className:"w-6 h-6 text-blue-600"})})]})}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-sm border",children:(0,sl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Tamamlanan"}),(0,sl.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.completedAssignments})]}),(0,sl.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(gl,{className:"w-6 h-6 text-green-600"})})]})}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-sm border",children:(0,sl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Bekleyen"}),(0,sl.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.pendingAssignments})]}),(0,sl.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(bl,{className:"w-6 h-6 text-yellow-600"})})]})}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-6 shadow-sm border",children:(0,sl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Ba\u015far\u0131 Oran\u0131"}),(0,sl.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[m.performance,"%"]})]}),(0,sl.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(pl,{className:"w-6 h-6 text-purple-600"})})]})})]}),(0,sl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,sl.jsx)(Xo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"lg:col-span-2",children:(0,sl.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,sl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sl.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Duyurular"}),(0,sl.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500",children:[(0,sl.jsx)(aN,{className:"w-4 h-4"}),(0,sl.jsx)("span",{className:"text-sm",children:"\xd6\u011fretmen Duyurular\u0131"})]})]}),(0,sl.jsx)("div",{className:"space-y-4",children:0===u.length?(0,sl.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Hen\xfcz duyuru yok."}):u.map(e=>{var t;return(0,sl.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,sl.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,sl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sl.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("high"===e.priority?"bg-red-100":"medium"===e.priority?"bg-yellow-100":"bg-blue-100"),children:(0,sl.jsx)(aN,{className:"w-4 h-4 ".concat("high"===e.priority?"text-red-600":"medium"===e.priority?"text-yellow-600":"text-blue-600")})}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,sl.jsxs)("p",{className:"text-xs text-gray-500",children:[e.teacherName," \u2022 ",null!==(t=e.createdAt)&&void 0!==t&&t.toDate?e.createdAt.toDate().toLocaleString("tr-TR"):"Yak\u0131n zamanda"]})]})]}),(0,sl.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:"high"===e.priority?"Y\xfcksek":"medium"===e.priority?"Orta":"Normal"})]}),(0,sl.jsx)("p",{className:"text-sm text-gray-600",children:e.content})]},e.id)})})]})}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},children:(0,sl.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,sl.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Son Aktiviteler"}),(0,sl.jsx)("div",{className:"space-y-4",children:0===h.length?(0,sl.jsx)("div",{className:"text-center py-4 text-gray-500",children:"Hen\xfcz aktivite yok."}):h.map(e=>{var t;return(0,sl.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,sl.jsxs)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("assignment_completed"===e.type?"bg-green-100":"assignment_started"===e.type?"bg-blue-100":"bg-purple-100"),children:["assignment_completed"===e.type&&(0,sl.jsx)(gl,{className:"w-4 h-4 text-green-600"}),"assignment_started"===e.type&&(0,sl.jsx)(lN,{className:"w-4 h-4 text-blue-600"})]}),(0,sl.jsxs)("div",{className:"flex-1",children:[(0,sl.jsx)("p",{className:"text-sm text-gray-900",children:e.message}),(0,sl.jsx)("p",{className:"text-xs text-gray-500",children:null!==(t=e.timestamp)&&void 0!==t&&t.toDate?e.timestamp.toDate().toLocaleString("tr-TR"):"Yak\u0131n zamanda"})]})]},e.id)})})]})})]}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mt-8",children:(0,sl.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,sl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sl.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"\xd6devlerim"}),(0,sl.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500",children:[(0,sl.jsx)(lN,{className:"w-4 h-4"}),(0,sl.jsx)("span",{className:"text-sm",children:"Atanan \xd6devler"})]})]}),(0,sl.jsx)("div",{className:"space-y-4",children:0===l.length?(0,sl.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Hen\xfcz \xf6dev atanmam\u0131\u015f."}):l.map(e=>(0,sl.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,sl.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,sl.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,sl.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("completed"===e.status?"bg-green-100 text-green-800":"active"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"completed"===e.status?"Tamamland\u0131":"active"===e.status?"Aktif":"Pasif"})]}),(0,sl.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.subject}),(0,sl.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,sl.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,sl.jsx)(cN,{className:"w-3 h-3"}),(0,sl.jsxs)("span",{children:["Son Tarih: ",e.dueDate]})]}),(0,sl.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,sl.jsx)(Ue,{className:"w-3 h-3"}),(0,sl.jsx)("span",{children:e.teacherName})]})]}),e.description&&(0,sl.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:e.description})]},e.id))})]})})]})]})},dN=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),hN=Me("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),fN=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),pN=Me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),mN=()=>{const e=J(),[n,r]=(0,t.useState)(null),[i,s]=(0,t.useState)(!0),[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[g,y]=(0,t.useState)(!1),[v,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[k,E]=(0,t.useState)(!1),[S,T]=(0,t.useState)({firstName:"",lastName:"",email:"",phone:"",grade:"",parentName:"",parentPhone:"",password:""}),[N,_]=(0,t.useState)({title:"",subject:"",description:"",dueDate:"",assignedStudents:[]}),[C,I]=(0,t.useState)({title:"",content:"",priority:"normal"}),[j,A]=(0,t.useState)(null);(0,t.useEffect)(()=>{const t=nN.onAuthStateChanged(async t=>{if(t){r(t);try{const n=await NS(NE(rN,"users",t.uid));if(n.exists()){const r=n.data();if("teacher"===r.userType){const e=await NS(NE(rN,"teachers",t.uid));e.exists()?o(Re(Re({},r),e.data())):o(r),await P(t.uid)}else e("/")}}catch(n){console.error("Veri getirme hatas\u0131:",n)}}else e("/login");s(!1)});return()=>t()},[e]);const P=async e=>{try{const t=hS(TE(rN,"students"),pS("teacherId","==",e)),n=(await CS(t)).docs.map(e=>Re({id:e.id},e.data()));n.sort((e,t)=>e.createdAt&&t.createdAt?t.createdAt.toDate().getTime()-e.createdAt.toDate().getTime():0),c(n),console.log("Y\xfcklenen \xf6\u011frenciler:",n),console.log("\xd6\u011fretmen ID:",e),n.forEach(e=>{console.log("\xd6\u011frenci: ".concat(e.firstName," ").concat(e.lastName)),console.log("  - Firestore ID: ".concat(e.id)),console.log("  - User ID: ".concat(e.userId)),console.log("  - Email: ".concat(e.email)),console.log("---")});const r=hS(TE(rN,"assignments"),pS("teacherId","==",e)),i=(await CS(r)).docs.map(e=>Re({id:e.id},e.data()));i.sort((e,t)=>e.createdAt&&t.createdAt?t.createdAt.toDate().getTime()-e.createdAt.toDate().getTime():0),d(i);const s=hS(TE(rN,"announcements"),pS("teacherId","==",e)),a=(await CS(s)).docs.map(e=>Re({id:e.id},e.data()));a.sort((e,t)=>e.createdAt&&t.createdAt?t.createdAt.toDate().getTime()-e.createdAt.toDate().getTime():0),f(a);const o=hS(TE(rN,"activities"),pS("teacherId","==",e)),l=(await CS(o)).docs.map(e=>Re({id:e.id},e.data()));l.sort((e,t)=>e.timestamp&&t.timestamp?t.timestamp.toDate().getTime()-e.timestamp.toDate().getTime():0),m(l.slice(0,5))}catch(t){console.error("Veri y\xfckleme hatas\u0131:",t)}},R=async e=>{var t;window.confirm("Bu \xf6devi silmek istedi\u011finize emin misiniz?")&&(await(t=NE(rN,"assignments",e),AS(Fm(t.firestore,jE),[new fb(t._key,eb.none())])),await P(n.uid))},D={totalStudents:l.length,totalAnnouncements:h.length,pendingAssignments:u.filter(e=>"active"===e.status).length,averagePerformance:l.length>0?Math.round(l.reduce((e,t)=>e+(t.performance||0),0)/l.length):0};return i?(0,sl.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,sl.jsxs)(Xo.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center",children:[(0,sl.jsx)("div",{className:"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,sl.jsx)("h2",{className:"text-2xl font-bold text-primary-600",children:"Y\xfckleniyor..."})]})}):(0,sl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,sl.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,sl.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,sl.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,sl.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,sl.jsx)("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(sN,{className:"w-6 h-6 text-white"})}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"\xd6\u011fretmen Paneli"}),(0,sl.jsxs)("p",{className:"text-sm text-gray-600",children:["Ho\u015f geldin, ",null===a||void 0===a?void 0:a.firstName," ",null===a||void 0===a?void 0:a.lastName]})]})]}),(0,sl.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,sl.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:(0,sl.jsx)(aN,{className:"w-5 h-5"})}),(0,sl.jsxs)("button",{onClick:async()=>{try{await ff(nN),e("/")}catch(t){console.error("\xc7\u0131k\u0131\u015f hatas\u0131:",t)}},className:"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[(0,sl.jsx)(oN,{className:"w-4 h-4"}),(0,sl.jsx)("span",{children:"\xc7\u0131k\u0131\u015f Yap"})]})]})]})})}),(0,sl.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,sl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border",children:(0,sl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Toplam \xd6\u011frenci"}),(0,sl.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:D.totalStudents})]}),(0,sl.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(ol,{className:"w-6 h-6 text-blue-600"})})]})}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-sm border",children:(0,sl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Toplam Duyuru"}),(0,sl.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:D.totalAnnouncements})]}),(0,sl.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(aN,{className:"w-6 h-6 text-green-600"})})]})}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-sm border",children:(0,sl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Aktif \xd6dev"}),(0,sl.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:D.pendingAssignments})]}),(0,sl.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(lN,{className:"w-6 h-6 text-yellow-600"})})]})}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-6 shadow-sm border",children:(0,sl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Ortalama Ba\u015far\u0131"}),(0,sl.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[D.averagePerformance,"%"]})]}),(0,sl.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,sl.jsx)(pl,{className:"w-6 h-6 text-purple-600"})})]})})]}),(0,sl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,sl.jsx)(Xo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"lg:col-span-2",children:(0,sl.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,sl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sl.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Duyurular"}),(0,sl.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center space-x-2 text-primary-600 hover:text-primary-700 transition-colors duration-200",children:[(0,sl.jsx)(dN,{className:"w-4 h-4"}),(0,sl.jsx)("span",{children:"Yeni Duyuru"})]})]}),(0,sl.jsx)("div",{className:"space-y-4",children:0===h.length?(0,sl.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Hen\xfcz duyuru eklenmemi\u015f."}):h.map(e=>{var t;return(0,sl.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,sl.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,sl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,sl.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("high"===e.priority?"bg-red-100":"medium"===e.priority?"bg-yellow-100":"bg-blue-100"),children:(0,sl.jsx)(aN,{className:"w-4 h-4 ".concat("high"===e.priority?"text-red-600":"medium"===e.priority?"text-yellow-600":"text-blue-600")})}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,sl.jsx)("p",{className:"text-xs text-gray-500",children:null!==(t=e.createdAt)&&void 0!==t&&t.toDate?e.createdAt.toDate().toLocaleString("tr-TR"):"Yak\u0131n zamanda"})]})]}),(0,sl.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:"high"===e.priority?"Y\xfcksek":"medium"===e.priority?"Orta":"Normal"})]}),(0,sl.jsx)("p",{className:"text-sm text-gray-600",children:e.content})]},e.id)})})]})}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},children:(0,sl.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,sl.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Son Aktiviteler"}),(0,sl.jsx)("div",{className:"space-y-4",children:0===p.length?(0,sl.jsx)("div",{className:"text-center py-4 text-gray-500",children:"Hen\xfcz aktivite yok."}):p.map(e=>{var t;return(0,sl.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,sl.jsxs)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("assignment_added"===e.type?"bg-blue-100":"student_added"===e.type?"bg-green-100":"announcement_added"===e.type?"bg-orange-100":"bg-purple-100"),children:["assignment_added"===e.type&&(0,sl.jsx)(lN,{className:"w-4 h-4 text-blue-600"}),"student_added"===e.type&&(0,sl.jsx)(Ue,{className:"w-4 h-4 text-green-600"}),"announcement_added"===e.type&&(0,sl.jsx)(aN,{className:"w-4 h-4 text-orange-600"})]}),(0,sl.jsxs)("div",{className:"flex-1",children:[(0,sl.jsx)("p",{className:"text-sm text-gray-900",children:e.message}),(0,sl.jsx)("p",{className:"text-xs text-gray-500",children:null!==(t=e.timestamp)&&void 0!==t&&t.toDate?e.timestamp.toDate().toLocaleString("tr-TR"):"Yak\u0131n zamanda"})]})]},e.id)})})]})})]}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mt-8",children:(0,sl.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,sl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sl.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"\xd6\u011frenci Listesi"}),(0,sl.jsxs)("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 text-primary-600 hover:text-primary-700 transition-colors duration-200",children:[(0,sl.jsx)(dN,{className:"w-4 h-4"}),(0,sl.jsx)("span",{children:"Yeni \xd6\u011frenci"})]})]}),(0,sl.jsx)("div",{className:"overflow-x-auto",children:(0,sl.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,sl.jsx)("thead",{className:"bg-gray-50",children:(0,sl.jsxs)("tr",{children:[(0,sl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\xd6\u011frenci"}),(0,sl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S\u0131n\u0131f"}),(0,sl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0130leti\u015fim"}),(0,sl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Devam Oran\u0131"}),(0,sl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ba\u015far\u0131"}),(0,sl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0130\u015flemler"})]})}),(0,sl.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===l.length?(0,sl.jsx)("tr",{children:(0,sl.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"Hen\xfcz \xf6\u011frenci kayd\u0131 yap\u0131lmam\u0131\u015f."})}):l.map(e=>(0,sl.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,sl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,sl.jsxs)("div",{className:"flex items-center",children:[(0,sl.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,sl.jsx)(Ue,{className:"w-4 h-4 text-primary-600"})}),(0,sl.jsx)("div",{className:"ml-4",children:(0,sl.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]})})]})}),(0,sl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.grade}),(0,sl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.email}),(0,sl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,sl.jsxs)("div",{className:"flex items-center",children:[(0,sl.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:(0,sl.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(e.attendance||0,"%")}})}),(0,sl.jsxs)("span",{className:"text-sm text-gray-900",children:[e.attendance||0,"%"]})]})}),(0,sl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,sl.jsxs)("div",{className:"flex items-center",children:[(0,sl.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:(0,sl.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.performance||0,"%")}})}),(0,sl.jsxs)("span",{className:"text-sm text-gray-900",children:[e.performance||0,"%"]})]})}),(0,sl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,sl.jsxs)("div",{className:"flex space-x-2",children:[(0,sl.jsx)("button",{className:"text-blue-600 hover:text-blue-900",children:(0,sl.jsx)(Zl,{className:"w-4 h-4"})}),(0,sl.jsx)("button",{className:"text-green-600 hover:text-green-900",children:(0,sl.jsx)(hN,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})}),(0,sl.jsx)(Xo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-8",children:(0,sl.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,sl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sl.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"\xd6devler"}),(0,sl.jsxs)("button",{onClick:()=>b(!0),className:"flex items-center space-x-2 text-primary-600 hover:text-primary-700 transition-colors duration-200",children:[(0,sl.jsx)(dN,{className:"w-4 h-4"}),(0,sl.jsx)("span",{children:"Yeni \xd6dev"})]})]}),(0,sl.jsx)("div",{className:"space-y-4",children:0===u.length?(0,sl.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Hen\xfcz \xf6dev olu\u015fturulmam\u0131\u015f."}):u.map(e=>(0,sl.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,sl.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,sl.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,sl.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"active"===e.status?"Aktif":"Pasif"})]}),(0,sl.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.subject}),(0,sl.jsxs)("p",{className:"text-xs text-gray-500",children:["Son Tarih: ",e.dueDate]}),e.description&&(0,sl.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:e.description}),(0,sl.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,sl.jsx)("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>(e=>{A(e),E(!0)})(e),title:"D\xfczenle",children:(0,sl.jsx)(hN,{className:"w-4 h-4"})}),(0,sl.jsx)("button",{className:"text-red-600 hover:text-red-900",onClick:()=>R(e.id),title:"Sil",children:(0,sl.jsx)(fN,{className:"w-4 h-4"})})]})]},e.id))})]})})]}),g&&(0,sl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,sl.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[(0,sl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sl.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Yeni \xd6\u011frenci Ekle"}),(0,sl.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:(0,sl.jsx)(ze,{className:"w-6 h-6"})})]}),(0,sl.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(!S.password||S.password.length<6)return void alert("\u015eifre en az 6 karakter olmal\u0131d\u0131r.");const e=await hf(nN,S.email,S.password);await IS(NE(rN,"users",e.user.uid),{firstName:S.firstName,lastName:S.lastName,email:S.email,phone:S.phone,userType:"student",createdAt:new Date,isActive:!0});const t={firstName:S.firstName,lastName:S.lastName,email:S.email,phone:S.phone,grade:S.grade,parentName:S.parentName,parentPhone:S.parentPhone,teacherId:n.uid,userId:e.user.uid,createdAt:RS(),attendance:0,performance:0,lastSeen:"Hi\xe7 giri\u015f yapmad\u0131"};await IS(NE(rN,"students",e.user.uid),t),await jS(TE(rN,"activities"),{teacherId:n.uid,type:"student_added",message:"".concat(S.firstName," ").concat(S.lastName," \xf6\u011frencisi eklendi"),timestamp:RS()}),y(!1),T({firstName:"",lastName:"",email:"",phone:"",grade:"",parentName:"",parentPhone:"",password:""}),await P(n.uid)}catch(t){console.error("\xd6\u011frenci ekleme hatas\u0131:",t),alert("\xd6\u011frenci eklenirken hata olu\u015ftu: "+t.message)}},className:"space-y-4",children:[(0,sl.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ad"}),(0,sl.jsx)("input",{type:"text",value:S.firstName,onChange:e=>T(Re(Re({},S),{},{firstName:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Soyad"}),(0,sl.jsx)("input",{type:"text",value:S.lastName,onChange:e=>T(Re(Re({},S),{},{lastName:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta"}),(0,sl.jsx)("input",{type:"email",value:S.email,onChange:e=>T(Re(Re({},S),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon"}),(0,sl.jsx)("input",{type:"tel",value:S.phone,onChange:e=>T(Re(Re({},S),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S\u0131n\u0131f"}),(0,sl.jsx)("input",{type:"text",value:S.grade,onChange:e=>T(Re(Re({},S),{},{grade:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"10. S\u0131n\u0131f"})]}),(0,sl.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Veli Ad\u0131"}),(0,sl.jsx)("input",{type:"text",value:S.parentName,onChange:e=>T(Re(Re({},S),{},{parentName:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Veli Telefonu"}),(0,sl.jsx)("input",{type:"tel",value:S.parentPhone,onChange:e=>T(Re(Re({},S),{},{parentPhone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u015eifre"}),(0,sl.jsx)("input",{type:"password",value:S.password,onChange:e=>T(Re(Re({},S),{},{password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"En az 6 karakter",required:!0})]}),(0,sl.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,sl.jsx)("button",{type:"button",onClick:()=>y(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"\u0130ptal"}),(0,sl.jsxs)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 flex items-center justify-center",children:[(0,sl.jsx)(pN,{className:"w-4 h-4 mr-2"}),"Kaydet"]})]})]})]})}),v&&(0,sl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,sl.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[(0,sl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sl.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Yeni \xd6dev Olu\u015ftur"}),(0,sl.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:(0,sl.jsx)(ze,{className:"w-6 h-6"})})]}),(0,sl.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Re(Re({},N),{},{teacherId:n.uid,teacherName:"".concat(null===a||void 0===a?void 0:a.firstName," ").concat(null===a||void 0===a?void 0:a.lastName),createdAt:RS(),status:"active"});await jS(TE(rN,"assignments"),e),await jS(TE(rN,"activities"),{teacherId:n.uid,type:"assignment_added",message:'"'.concat(N.title,'" \xf6devi eklendi'),timestamp:RS()}),b(!1),_({title:"",subject:"",description:"",dueDate:"",assignedStudents:[]}),await P(n.uid)}catch(t){console.error("\xd6dev ekleme hatas\u0131:",t)}},className:"space-y-4",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xd6dev Ba\u015fl\u0131\u011f\u0131"}),(0,sl.jsx)("input",{type:"text",value:N.title,onChange:e=>_(Re(Re({},N),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ders"}),(0,sl.jsx)("input",{type:"text",value:N.subject,onChange:e=>_(Re(Re({},N),{},{subject:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"A\xe7\u0131klama"}),(0,sl.jsx)("textarea",{value:N.description,onChange:e=>_(Re(Re({},N),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:"3"})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Son Tarih"}),(0,sl.jsx)("input",{type:"date",value:N.dueDate,onChange:e=>_(Re(Re({},N),{},{dueDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"\xd6\u011frenci Se\xe7imi"}),0===l.length?(0,sl.jsx)("div",{className:"text-center py-4 text-gray-500 border border-gray-200 rounded-md",children:"Hen\xfcz \xf6\u011frenci kayd\u0131 yap\u0131lmam\u0131\u015f."}):(0,sl.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-md p-3",children:l.map(e=>(0,sl.jsxs)("label",{className:"flex items-center space-x-3 py-2 hover:bg-gray-50 rounded px-2 cursor-pointer",children:[(0,sl.jsx)("input",{type:"checkbox",checked:N.assignedStudents.includes(e.userId),onChange:()=>{return t=e.userId,void _(e=>Re(Re({},e),{},{assignedStudents:e.assignedStudents.includes(t)?e.assignedStudents.filter(e=>e!==t):[...e.assignedStudents,t]}));var t},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,sl.jsxs)("div",{className:"flex-1",children:[(0,sl.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,sl.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",e.grade,")"]}),(0,sl.jsxs)("span",{className:"text-xs text-gray-400 block",children:["User ID: ",e.userId," (Bu ID kullan\u0131l\u0131yor)"]})]})]},e.id))}),(0,sl.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Se\xe7ili \xf6\u011frenci say\u0131s\u0131: ",N.assignedStudents.length]})]}),(0,sl.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,sl.jsx)("button",{type:"button",onClick:()=>b(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"\u0130ptal"}),(0,sl.jsxs)("button",{type:"submit",disabled:0===N.assignedStudents.length,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[(0,sl.jsx)(pN,{className:"w-4 h-4 mr-2"}),"Olu\u015ftur"]})]})]})]})}),x&&(0,sl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,sl.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[(0,sl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sl.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Yeni Duyuru Ekle"}),(0,sl.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:(0,sl.jsx)(ze,{className:"w-6 h-6"})})]}),(0,sl.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Re(Re({},C),{},{teacherId:n.uid,teacherName:"".concat(null===a||void 0===a?void 0:a.firstName," ").concat(null===a||void 0===a?void 0:a.lastName),createdAt:RS(),isActive:!0});await jS(TE(rN,"announcements"),e),await jS(TE(rN,"activities"),{teacherId:n.uid,type:"announcement_added",message:'"'.concat(C.title,'" duyurusu eklendi'),timestamp:RS()}),w(!1),I({title:"",content:"",priority:"normal"}),await P(n.uid)}catch(t){console.error("Duyuru ekleme hatas\u0131:",t)}},className:"space-y-4",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duyuru Ba\u015fl\u0131\u011f\u0131"}),(0,sl.jsx)("input",{type:"text",value:C.title,onChange:e=>I(Re(Re({},C),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xd6ncelik"}),(0,sl.jsxs)("select",{value:C.priority,onChange:e=>I(Re(Re({},C),{},{priority:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[(0,sl.jsx)("option",{value:"normal",children:"Normal"}),(0,sl.jsx)("option",{value:"medium",children:"Orta"}),(0,sl.jsx)("option",{value:"high",children:"Y\xfcksek"})]})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duyuru \u0130\xe7eri\u011fi"}),(0,sl.jsx)("textarea",{value:C.content,onChange:e=>I(Re(Re({},C),{},{content:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:"4",placeholder:"Duyuru detaylar\u0131n\u0131 buraya yaz\u0131n...",required:!0})]}),(0,sl.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,sl.jsx)("button",{type:"button",onClick:()=>w(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"\u0130ptal"}),(0,sl.jsxs)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 flex items-center justify-center",children:[(0,sl.jsx)(pN,{className:"w-4 h-4 mr-2"}),"Yay\u0131nla"]})]})]})]})}),k&&(0,sl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,sl.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg mx-4",children:[(0,sl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,sl.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\xd6devi D\xfczenle"}),(0,sl.jsxs)("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:[(0,sl.jsx)("span",{className:"sr-only",children:"Kapat"}),"\xd7"]})]}),(0,sl.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await function(e,t,n){e=Fm(e,EE);const r=Fm(e.firestore,jE),i=qE(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=Rc(t))||t instanceof DE?YE(i,"updateDoc",e._key,t,n,o):QE(i,"updateDoc",e._key,t),AS(r,[s.toMutation(e._key,eb.exists(!0))])}(NE(rN,"assignments",j.id),{title:j.title,subject:j.subject,description:j.description,dueDate:j.dueDate}),E(!1),await P(n.uid)},className:"space-y-4",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ba\u015fl\u0131k"}),(0,sl.jsx)("input",{type:"text",value:j.title,onChange:e=>A(Re(Re({},j),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ders"}),(0,sl.jsx)("input",{type:"text",value:j.subject,onChange:e=>A(Re(Re({},j),{},{subject:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"A\xe7\u0131klama"}),(0,sl.jsx)("textarea",{value:j.description,onChange:e=>A(Re(Re({},j),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:"3"})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Son Tarih"}),(0,sl.jsx)("input",{type:"date",value:j.dueDate,onChange:e=>A(Re(Re({},j),{},{dueDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),(0,sl.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,sl.jsx)("button",{type:"button",onClick:()=>E(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"\u0130ptal"}),(0,sl.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Kaydet"})]})]})]})})]})},gN=()=>{const[e,n]=(0,t.useState)("test@student.com"),[r,i]=(0,t.useState)("123456");return(0,sl.jsxs)("div",{className:"p-4",children:[(0,sl.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Test \xd6\u011frenci Hesab\u0131 Olu\u015ftur"}),(0,sl.jsxs)("div",{className:"space-y-4",children:[(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta"}),(0,sl.jsx)("input",{type:"email",value:e,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),(0,sl.jsxs)("div",{children:[(0,sl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u015eifre"}),(0,sl.jsx)("input",{type:"password",value:r,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),(0,sl.jsx)("button",{onClick:async()=>{try{const t=(await hf(nN,e,r)).user.uid;await IS(NE(rN,"users",t),{firstName:"Test",lastName:"\xd6\u011frenci",email:e,userType:"student",createdAt:RS()}),await IS(NE(rN,"students",t),{firstName:"Test",lastName:"\xd6\u011frenci",email:e,phone:"555-1234",grade:"10. S\u0131n\u0131f",parentName:"Test Veli",parentPhone:"555-5678",teacherId:"test-teacher-id",createdAt:RS(),attendance:0,performance:0,lastSeen:"Hi\xe7 giri\u015f yapmad\u0131"}),alert("Test \xf6\u011frenci hesab\u0131 olu\u015fturuldu! ID: "+t)}catch(t){console.error("Test \xf6\u011frenci olu\u015fturma hatas\u0131:",t),alert("Hata: "+t.message)}},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Test \xd6\u011frenci Olu\u015ftur"})]})]})};function yN(){const e=$(),t=e.pathname.includes("dashboard"),n="/login"===e.pathname;return(0,sl.jsxs)("div",{className:"min-h-screen bg-white",children:[!t&&!n&&(0,sl.jsx)(al,{}),(0,sl.jsx)(il,{mode:"wait",children:(0,sl.jsxs)(me,{children:[(0,sl.jsx)(fe,{path:"/",element:(0,sl.jsxs)(Xo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[(0,sl.jsx)(fl,{}),(0,sl.jsx)(yl,{}),(0,sl.jsx)(xl,{}),(0,sl.jsx)(kl,{}),(0,sl.jsx)(Hl,{})]})}),(0,sl.jsx)(fe,{path:"/login",element:(0,sl.jsx)(iN,{})}),(0,sl.jsx)(fe,{path:"/student-dashboard",element:(0,sl.jsx)(uN,{})}),(0,sl.jsx)(fe,{path:"/teacher-dashboard",element:(0,sl.jsx)(mN,{})}),(0,sl.jsx)(fe,{path:"/test-student",element:(0,sl.jsx)(gN,{})})]})}),!t&&!n&&(0,sl.jsx)($l,{})]})}const vN=function(){const[e,n]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{const e=setTimeout(()=>{n(!1)},1e3);return()=>clearTimeout(e)},[]),e?(0,sl.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,sl.jsxs)(Xo.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center",children:[(0,sl.jsx)("div",{className:"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,sl.jsx)("h2",{className:"text-2xl font-bold text-primary-600",children:"Nora Akademi"}),(0,sl.jsx)("p",{className:"text-secondary-600 mt-2",children:"Y\xfckleniyor..."})]})}):(0,sl.jsx)(Ee,{children:(0,sl.jsx)(yN,{})})};i.createRoot(document.getElementById("root")).render((0,sl.jsx)(t.StrictMode,{children:(0,sl.jsx)(vN,{})}))})()})();
//# sourceMappingURL=main.a62b5d3a.js.map